(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00fd":function(t,n,i){var r=i("9e69"),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=r?r.toStringTag:void 0;function c(t){var n=a.call(t,l),i=t[l];try{t[l]=void 0;var r=!0}catch(e){}var o=s.call(t);return r&&(n?t[l]=i:delete t[l]),o}t.exports=c},"014b":function(t,e,n){"use strict";var i=n("e53d"),r=n("07e3"),o=n("8e60"),a=n("63b6"),s=n("9138"),l=n("ebfd").KEY,c=n("294c"),u=n("dbdb"),h=n("45f2"),d=n("62a0"),f=n("5168"),p=n("ccb9"),m=n("6718"),g=n("47ee"),b=n("9003"),v=n("e4ae"),y=n("f772"),_=n("241e"),w=n("36c3"),x=n("1bc3"),E=n("aebd"),C=n("a159"),k=n("0395"),M=n("bf0b"),O=n("9aa9"),T=n("d9f6"),S=n("c3a1"),R=M.f,j=T.f,L=k.f,A=i.Symbol,D=i.JSON,z=D&&D.stringify,P="prototype",N=f("_hidden"),F=f("toPrimitive"),I={}.propertyIsEnumerable,H=u("symbol-registry"),B=u("symbols"),$=u("op-symbols"),V=Object[P],W="function"==typeof A&&!!O.f,U=i.QObject,G=!U||!U[P]||!U[P].findChild,q=o&&c((function(){return 7!=C(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=R(V,e);i&&delete V[e],j(t,e,n),i&&t!==V&&j(V,e,i)}:j,Y=function(t){var e=B[t]=C(A[P]);return e._k=t,e},X=W&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},K=function(t,e,n){return t===V&&K($,e,n),v(t),e=x(e,!0),v(n),r(B,e)?(n.enumerable?(r(t,N)&&t[N][e]&&(t[N][e]=!1),n=C(n,{enumerable:E(0,!1)})):(r(t,N)||j(t,N,E(1,{})),t[N][e]=!0),q(t,e,n)):j(t,e,n)},J=function(t,e){v(t);var n,i=g(e=w(e)),r=0,o=i.length;while(o>r)K(t,n=i[r++],e[n]);return t},Z=function(t,e){return void 0===e?C(t):J(C(t),e)},Q=function(t){var e=I.call(this,t=x(t,!0));return!(this===V&&r(B,t)&&!r($,t))&&(!(e||!r(this,t)||!r(B,t)||r(this,N)&&this[N][t])||e)},tt=function(t,e){if(t=w(t),e=x(e,!0),t!==V||!r(B,e)||r($,e)){var n=R(t,e);return!n||!r(B,e)||r(t,N)&&t[N][e]||(n.enumerable=!0),n}},et=function(t){var e,n=L(w(t)),i=[],o=0;while(n.length>o)r(B,e=n[o++])||e==N||e==l||i.push(e);return i},nt=function(t){var e,n=t===V,i=L(n?$:w(t)),o=[],a=0;while(i.length>a)!r(B,e=i[a++])||n&&!r(V,e)||o.push(B[e]);return o};W||(A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call($,n),r(this,N)&&r(this[N],t)&&(this[N][t]=!1),q(this,t,E(1,n))};return o&&G&&q(V,t,{configurable:!0,set:e}),Y(t)},s(A[P],"toString",(function(){return this._k})),M.f=tt,T.f=K,n("6abf").f=k.f=et,n("355d").f=Q,O.f=nt,o&&!n("b8e3")&&s(V,"propertyIsEnumerable",Q,!0),p.f=function(t){return Y(f(t))}),a(a.G+a.W+a.F*!W,{Symbol:A});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;it.length>rt;)f(it[rt++]);for(var ot=S(f.store),at=0;ot.length>at;)m(ot[at++]);a(a.S+a.F*!W,"Symbol",{for:function(t){return r(H,t+="")?H[t]:H[t]=A(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in H)if(H[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!W,"Object",{create:Z,defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=c((function(){O.f(1)}));a(a.S+a.F*st,"Object",{getOwnPropertySymbols:function(t){return O.f(_(t))}}),D&&a(a.S+a.F*(!W||c((function(){var t=A();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))}))),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(y(e)||void 0!==t)&&!X(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),i[1]=e,z.apply(D,i)}}),A[P][F]||n("35e8")(A[P],F,A[P].valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},"01ef":function(t,e,n){"use strict";var i=n("1d63");function r(t){const e=t.Adapters.get("BaseLZAdapter");class n extends e{constructor(t){if(super(t),!t.parser_func||!t.url_data&&!t.reader)throw new Error("Tabix source is missing required configuration options");if(this.parser=t.parser_func,this.url_data=t.url_data,this.url_tbi=t.url_tbi||this.url_data+".tbi",this._overfetch=t.overfetch||0,this._overfetch<0||this._overfetch>1)throw new Error("Overfetch must be specified as a fraction (0-1) of the requested region size");this.url_data?this._reader_promise=Object(i["b"])(this.url_data,this.url_tbi).catch((function(){throw new Error("Failed to create a tabix reader from the provided URL")})):this._reader_promise=Promise.resolve(t.reader)}_performRequest(t){return new Promise((e,n)=>{const i=t.start,r=t.end,o=this._overfetch*(r-i),a=t.start-o,s=t.end+o;this._reader_promise.then(i=>{i.fetch(t.chr,a,s,(function(t,i){i&&n(new Error("Could not read requested region. This may indicate an error with the .tbi index.")),e(t)}))})})}_normalizeResponse(t){return t.map(this.parser)}}t.Adapters.add("TabixUrlSource",n)}"undefined"!==typeof LocusZoom&&LocusZoom.use(r),e["a"]=r},"01f9":function(t,e,n){"use strict";var i=n("2d00"),r=n("5ca1"),o=n("2aba"),a=n("32e9"),s=n("84f2"),l=n("41a0"),c=n("7f20"),u=n("38fd"),h=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),f="@@iterator",p="keys",m="values",g=function(){return this};t.exports=function(t,e,n,b,v,y,_){l(n,e,b);var w,x,E,C=function(t){if(!d&&t in T)return T[t];switch(t){case p:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",M=v==m,O=!1,T=t.prototype,S=T[h]||T[f]||v&&T[v],R=S||C(v),j=v?M?C("entries"):R:void 0,L="Array"==e&&T.entries||S;if(L&&(E=u(L.call(new t)),E!==Object.prototype&&E.next&&(c(E,k,!0),i||"function"==typeof E[h]||a(E,h,g))),M&&S&&S.name!==m&&(O=!0,R=function(){return S.call(this)}),i&&!_||!d&&!O&&T[h]||a(T,h,R),s[e]=R,s[k]=g,v)if(w={values:M?R:C(m),keys:y?R:C(p),entries:j},_)for(x in w)x in T||o(T,x,w[x]);else r(r.P+r.F*(d||O),e,w);return w}},"0293":function(t,e,n){var i=n("241e"),r=n("53e2");n("ce7e")("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},"02f4":function(t,e,n){var i=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},"02f5":function(t,e,n){"use strict";const i=n("e97a"),r={};e.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(t,e){e=e||{};const n=[].concat(e.before||[]),r=[].concat(e.after||[]),o=e.group||"?",a=e.sort||0;i(!n.includes(o),"Item cannot come before itself: "+o),i(!n.includes("?"),"Item cannot come before unassociated items"),i(!r.includes(o),"Item cannot come after itself: "+o),i(!r.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(const i of t){const t={seq:this._items.length,sort:a,before:n,after:r,group:o,node:i};this._items.push(t)}if(!e.manual){const t=this._sort();i(t,"item","?"!==o?"added into group "+o:"","created a dependencies error")}return this.nodes}merge(t){Array.isArray(t)||(t=[t]);for(const n of t)if(n)for(const t of n._items)this._items.push(Object.assign({},t));this._items.sort(r.mergeSort);for(let n=0;n<this._items.length;++n)this._items[n].seq=n;const e=this._sort();return i(e,"merge created a dependencies error"),this.nodes}sort(){const t=this._sort();return i(t,"sort created a dependencies error"),this.nodes}_sort(){const t={},e=Object.create(null),n=Object.create(null);for(const s of this._items){const i=s.seq,r=s.group;n[r]=n[r]||[],n[r].push(i),t[i]=s.before;for(const t of s.after)e[t]=e[t]||[],e[t].push(i)}for(const s in t){const e=[];for(const i in t[s]){const r=t[s][i];n[r]=n[r]||[],e.push(...n[r])}t[s]=e}for(const s in e)if(n[s])for(const i of n[s])t[i].push(...e[s]);const i={};for(const s in t){const e=t[s];for(const t of e)i[t]=i[t]||[],i[t].push(s)}const r={},o=[];for(let s=0;s<this._items.length;++s){let t=s;if(i[s]){t=null;for(let e=0;e<this._items.length;++e){if(!0===r[e])continue;i[e]||(i[e]=[]);const n=i[e].length;let o=0;for(let t=0;t<n;++t)r[i[e][t]]&&++o;if(o===n){t=e;break}}}null!==t&&(r[t]=!0,o.push(t))}if(o.length!==this._items.length)return!1;const a={};for(const s of this._items)a[s.seq]=s;this._items=[],this.nodes=[];for(const s of o){const t=a[s];this.nodes.push(t.node),this._items.push(t)}return!0}},r.mergeSort=(t,e)=>t.sort===e.sort?0:t.sort<e.sort?-1:1},"0305":function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return h}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("0a38"),l=n("daee"),c=n("ed5d");const u=Object(l["c"])(Object(s["l"])({...Object(s["j"])(c["a"],["src","alt","width","height","left","right"]),bottom:Object(l["b"])(a["e"],!1),end:Object(l["b"])(a["e"],!1),start:Object(l["b"])(a["e"],!1),top:Object(l["b"])(a["e"],!1)}),o["f"]),h=i["a"].extend({name:o["f"],functional:!0,props:u,render(t,{props:e,data:n}){const{src:i,alt:o,width:a,height:s}=e;let l="card-img";return e.top?l+="-top":e.right||e.end?l+="-right":e.bottom?l+="-bottom":(e.left||e.start)&&(l+="-left"),t("img",Object(r["a"])(n,{class:l,attrs:{src:i,alt:o,width:a,height:s}}))}})},"036a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=()=>{}},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"0395":function(t,n,i){var r=i("36c3"),o=i("6abf").f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return o(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?l(t):o(r(t))}},"051d":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("a866"),r=n("391b");function o({marker_col:t,chrom_col:e,pos_col:n,ref_col:o,alt_col:a,pvalue_col:s,is_neg_log_pvalue:l=!1,rsid_col:c,beta_col:u,stderr_beta_col:h,allele_freq_col:d,allele_count_col:f,n_samples_col:p,is_alt_effect:m=!0,delimiter:g="\t"}){if(Object(r["c"])(t)&&Object(r["c"])(e)&&Object(r["c"])(n))throw new Error("Must specify either marker OR chr + pos");if(!(Object(r["c"])(t)||Object(r["c"])(e)&&Object(r["c"])(n)))throw new Error("Must specify how to locate marker");if(Object(r["c"])(f)&&Object(r["c"])(d))throw new Error("Allele count and frequency options are mutually exclusive");if(Object(r["c"])(f)&&!Object(r["c"])(p))throw new Error("To calculate allele frequency from counts, you must also provide n_samples");return b=>{const v=b.split(g);let y,_,w,x,E,C,k,M=null,O=null,T=null,S=null;if(Object(r["c"])(t))[y,_,w,x]=Object(i["b"])(v[t-1],!1);else{if(!Object(r["c"])(e)||!Object(r["c"])(n))throw new Error("Must specify all fields required to identify the variant");y=v[e-1],_=v[n-1]}if(y=Object(r["d"])(y),y.startsWith("RS"))throw new Error(`Invalid chromosome specified: value "${y}" is an rsID`);Object(r["c"])(o)&&(w=v[o-1]),Object(r["c"])(a)&&(x=v[a-1]),Object(r["c"])(c)&&(M=v[c-1]),r["a"].has(w)&&(w=null),r["a"].has(x)&&(x=null),r["a"].has(M)?M=null:M&&(M=M.toLowerCase(),M.startsWith("rs")||(M="rs"+M));const R=Object(r["f"])(v[s-1],l);w=w||null,x=x||null,Object(r["c"])(d)&&(E=v[d-1]),Object(r["c"])(f)&&(C=v[f-1],k=v[p-1]),Object(r["c"])(u)&&(O=v[u-1],O=r["a"].has(O)?null:+O),Object(r["c"])(h)&&(T=v[h-1],T=r["a"].has(T)?null:+T),(d||f)&&(S=Object(r["e"])({freq:E,allele_count:C,n_samples:k,is_alt_effect:m}));const j=w&&x?`_${w}/${x}`:"";return{chromosome:y,position:+_,ref_allele:w?w.toUpperCase():null,alt_allele:x?x.toUpperCase():null,variant:`${y}:${_}${j}`,rsid:M,log_pvalue:R,beta:O,stderr_beta:T,alt_allele_freq:S}}}},"055d":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return c}));var i=n("8db0"),r=n("1524");const o=t=>t.replace(i["i"],"-$1").toLowerCase(),a=t=>(t=Object(r["j"])(t)?t.trim():String(t),t.charAt(0).toLowerCase()+t.slice(1)),s=t=>(t=Object(r["j"])(t)?t.trim():String(t),t.charAt(0).toUpperCase()+t.slice(1)),l=(t,e=2)=>Object(r["l"])(t)?"":Object(r["a"])(t)||Object(r["i"])(t)&&t.toString===Object.prototype.toString?JSON.stringify(t,null,e):String(t),c=t=>l(t).toLowerCase()},"061b":function(t,e,n){t.exports=n("fa99")},"070c":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l}));var i=n("2b0e"),r=n("a6f7"),o=n("1f62"),a=n("daee");const s={id:Object(a["b"])(o["l"])},l=i["a"].extend({props:s,data(){return{localId_:null}},computed:{safeId(){const t=this.id||this.localId_,e=e=>t?(e=String(e||"").replace(/\s+/g,"_"),e?t+"_"+e:t):null;return e}},mounted(){this.$nextTick(()=>{this.localId_="__BVID__"+this[r["a"]]})}})},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"097d":function(t,e,n){"use strict";var i=n("5ca1"),r=n("8378"),o=n("7726"),a=n("ebd6"),s=n("bcaa");i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},"0a38":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"j",(function(){return h})),n.d(e,"i",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"k",(function(){return m}));var i=n("1524");const r=(...t)=>Object.assign(...t),o=(t,e)=>Object.create(t,e),a=(t,e)=>Object.defineProperties(t,e),s=(t,e,n)=>Object.defineProperty(t,e,n),l=t=>Object.keys(t),c=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),u=t=>({...t}),h=(t,e)=>l(t).filter(t=>-1!==e.indexOf(t)).reduce((e,n)=>({...e,[n]:t[n]}),{}),d=(t,e)=>l(t).filter(t=>-1===e.indexOf(t)).reduce((e,n)=>({...e,[n]:t[n]}),{}),f=(t,e)=>(Object(i["h"])(t)&&Object(i["h"])(e)&&l(e).forEach(n=>{Object(i["h"])(e[n])?(t[n]&&Object(i["h"])(t[n])||(t[n]=e[n]),f(t[n],e[n])):r(t,{[n]:e[n]})}),t),p=t=>l(t).sort().reduce((e,n)=>({...e,[n]:t[n]}),{}),m=()=>({enumerable:!0,configurable:!1,writable:!1})},"0a49":function(t,e,n){var i=n("9b43"),r=n("626a"),o=n("4bf8"),a=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,h=6==t,d=5==t||h,f=e||s;return function(e,s,p){for(var m,g,b=o(e),v=r(b),y=i(s,p,3),_=a(v.length),w=0,x=n?f(e,_):l?f(e,0):void 0;_>w;w++)if((d||w in v)&&(m=v[w],g=y(m,w,b),t))if(n)x[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(u)return!1;return h?-1:c||u?u:x}}},"0bae":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));const i=(e,n=null)=>{const i="undefined"!==typeof t&&t?Object({VUE_APP_SENTRY_DSN:"https://930af71733d64f58ab10d4184a90aee5@sentry.io/1353197",VUE_APP_GOOGLE_ANALYTICS_KEY:"UA-133609618-1",NODE_ENV:"production",BASE_URL:""})||!1:{};return e?i[e]||n:i},r=()=>i("BOOTSTRAP_VUE_NO_WARN")||"production"===i("NODE_ENV")}).call(this,n("f28c"))},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var i=n("ce10"),r=n("e11e");t.exports=Object.keys||function(t){return i(t,r)}},"0d6d":function(t,e,n){var i=n("d3f4"),r=n("67ab").onFreeze;n("5eda")("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},"0fbf":function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"c",(function(){return E})),n.d(e,"b",(function(){return C}));var i=n("2b0e"),r=n("1f62"),o=n("6b59"),a=n("3372"),s=n("1524"),l=n("b082"),c=n("b934"),u=n("0a38"),h=n("daee"),d=n("4479"),f=n("f28f"),p=n("7e98"),m=n("475d"),g=n("e881"),b=n("070c"),v=n("2389");const{mixin:y,props:_,prop:w,event:x}=Object(c["a"])("checked",{defaultValue:null}),E=Object(h["c"])(Object(u["l"])({...b["b"],..._,...f["b"],...m["b"],...g["b"],...p["b"],ariaLabel:Object(h["b"])(r["l"]),ariaLabelledby:Object(h["b"])(r["l"]),button:Object(h["b"])(r["e"],!1),buttonVariant:Object(h["b"])(r["l"]),inline:Object(h["b"])(r["e"],!1),value:Object(h["b"])(r["a"])}),"formRadioCheckControls"),C=i["a"].extend({mixins:[d["a"],b["a"],y,v["a"],f["a"],m["a"],g["a"],p["a"]],inheritAttrs:!1,props:E,data(){return{localChecked:this.isGroup?this.bvGroup[w]:this[w],hasFocus:!1}},computed:{computedLocalChecked:{get(){return this.isGroup?this.bvGroup.localChecked:this.localChecked},set(t){this.isGroup?this.bvGroup.localChecked=t:this.localChecked=t}},isChecked(){return Object(l["a"])(this.value,this.computedLocalChecked)},isRadio(){return!0},isGroup(){return!!this.bvGroup},isBtnMode(){return this.isGroup?this.bvGroup.buttons:this.button},isPlain(){return!this.isBtnMode&&(this.isGroup?this.bvGroup.plain:this.plain)},isCustom(){return!this.isBtnMode&&!this.isPlain},isSwitch(){return!(this.isBtnMode||this.isRadio||this.isPlain)&&(this.isGroup?this.bvGroup.switches:this.switch)},isInline(){return this.isGroup?this.bvGroup.inline:this.inline},isDisabled(){return this.isGroup&&this.bvGroup.disabled||this.disabled},isRequired(){return this.computedName&&(this.isGroup?this.bvGroup.required:this.required)},computedName(){return(this.isGroup?this.bvGroup.groupName:this.name)||null},computedForm(){return(this.isGroup?this.bvGroup.form:this.form)||null},computedSize(){return(this.isGroup?this.bvGroup.size:this.size)||""},computedState(){return this.isGroup?this.bvGroup.computedState:Object(s["b"])(this.state)?this.state:null},computedButtonVariant(){const{buttonVariant:t}=this;return t||(this.isGroup&&this.bvGroup.buttonVariant?this.bvGroup.buttonVariant:"secondary")},buttonClasses(){const{computedSize:t}=this;return["btn","btn-"+this.computedButtonVariant,{["btn-"+t]:t,disabled:this.isDisabled,active:this.isChecked,focus:this.hasFocus}]},computedAttrs(){const{isDisabled:t,isRequired:e}=this;return{...this.bvAttrs,id:this.safeId(),type:this.isRadio?"radio":"checkbox",name:this.computedName,form:this.computedForm,disabled:t,required:e,"aria-required":e||null,"aria-label":this.ariaLabel||null,"aria-labelledby":this.ariaLabelledby||null}}},watch:{[w](...t){this[w+"Watcher"](...t)},computedLocalChecked(...t){this.computedLocalCheckedWatcher(...t)}},methods:{[w+"Watcher"](t){Object(l["a"])(t,this.computedLocalChecked)||(this.computedLocalChecked=t)},computedLocalCheckedWatcher(t,e){Object(l["a"])(t,e)||this.$emit(x,t)},handleChange({target:{checked:t}}){const{value:e}=this,n=t?e:null;this.computedLocalChecked=e,this.$nextTick(()=>{this.$emit(o["b"],n),this.isGroup&&this.bvGroup.$emit(o["b"],n)})},handleFocus(t){t.target&&("focus"===t.type?this.hasFocus=!0:"blur"===t.type&&(this.hasFocus=!1))},focus(){this.isDisabled||Object(a["d"])(this.$refs.input)},blur(){this.isDisabled||Object(a["c"])(this.$refs.input)}},render(t){const{isRadio:e,isBtnMode:n,isPlain:i,isCustom:r,isInline:o,isSwitch:a,computedSize:s,bvAttrs:l}=this,c=this.normalizeSlot(),u=t("input",{class:[{"form-check-input":i,"custom-control-input":r,"position-static":i&&!c},n?"":this.stateClass],directives:[{name:"model",value:this.computedLocalChecked}],attrs:this.computedAttrs,domProps:{value:this.value,checked:this.isChecked},on:{change:this.handleChange,...n?{focus:this.handleFocus,blur:this.handleFocus}:{}},key:"input",ref:"input"});if(n){let e=t("label",{class:this.buttonClasses},[u,c]);return this.isGroup||(e=t("div",{class:["btn-group-toggle","d-inline-block"]},[e])),e}let h=t();return i&&!c||(h=t("label",{class:{"form-check-label":i,"custom-control-label":r},attrs:{for:this.safeId()}},c)),t("div",{class:[{"form-check":i,"form-check-inline":i&&o,"custom-control":r,"custom-control-inline":r&&o,"custom-checkbox":r&&!e&&!a,"custom-switch":a,"custom-radio":r&&e,["b-custom-control-"+s]:s&&!n},l.class],style:l.style},[u,h])}})},"0fc9":function(t,e,n){var i=n("3a38"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},1128:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t["None"]=0]="None",t[t["Error"]=1]="Error",t[t["Debug"]=2]="Debug",t[t["Verbose"]=3]="Verbose"}(e.LogLevel||(e.LogLevel={}))},1160:function(t,e){function n(t){if("function"==typeof t)return t;var e=Array.isArray(t)?[]:{};for(var r in t){var o=t[r],a={}.toString.call(o).slice(8,-1);e[r]="Array"==a||"Object"==a?n(o):"Date"==a?new Date(o.getTime()):"RegExp"==a?RegExp(o.source,i(o)):o}return e}function i(t){if("string"==typeof t.source.flags)return t.source.flags;var e=[];return t.global&&e.push("g"),t.ignoreCase&&e.push("i"),t.multiline&&e.push("m"),t.sticky&&e.push("y"),t.unicode&&e.push("u"),e.join("")}t.exports=n},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11b2":function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var i=n("2b0e"),r=n("a6f7"),o=n("4e82"),a=n("6b59"),s=n("17cc"),l=n("3372"),c=n("5d4f"),u=n("8112"),h=n("29b3"),d=n("1524"),f=n("b082"),p=n("65f3"),m=n("036a"),g=n("5ef7"),b=n("0a38"),v=n("cc66"),y=n("ea18"),_=n("cfd1"),w=n("18a0");const x=".modal-content",E=Object(c["e"])(o["w"],a["l"]),C=".b-sidebar",k=[x,C].join(", "),M="dropdown",O=".dropdown-menu.show",T="data-original-title",S={title:"",content:"",variant:null,customClass:null,triggers:"",placement:"auto",fallbackPlacement:"flip",target:null,container:null,noFade:!1,boundary:"scrollParent",boundaryPadding:5,offset:0,delay:0,arrowPadding:6,interactive:!0,disabled:!1,id:null,html:!1},R=i["a"].extend({name:o["D"],mixins:[_["a"]],data(){return{...S,activeTrigger:{hover:!1,click:!1,focus:!1},localShow:!1}},computed:{templateType(){return"tooltip"},computedId(){return this.id||`__bv_${this.templateType}_${this[r["a"]]}__`},computedDelay(){const t={show:0,hide:0};return Object(d["i"])(this.delay)?(t.show=Object(p["a"])(Object(g["b"])(this.delay.show,0),0),t.hide=Object(p["a"])(Object(g["b"])(this.delay.hide,0),0)):(Object(d["g"])(this.delay)||Object(d["j"])(this.delay))&&(t.show=t.hide=Object(p["a"])(Object(g["b"])(this.delay,0),0)),t},computedTriggers(){return Object(s["b"])(this.triggers).filter(h["a"]).join(" ").trim().toLowerCase().split(/\s+/).sort()},isWithActiveTrigger(){for(const t in this.activeTrigger)if(this.activeTrigger[t])return!0;return!1},computedTemplateData(){const{title:t,content:e,variant:n,customClass:i,noFade:r,interactive:o}=this;return{title:t,content:e,variant:n,customClass:i,noFade:r,interactive:o}}},watch:{computedTriggers(t,e){Object(f["a"])(t,e)||this.$nextTick(()=>{this.unListen(),e.forEach(e=>{Object(s["a"])(t,e)||this.activeTrigger[e]&&(this.activeTrigger[e]=!1)}),this.listen()})},computedTemplateData(){this.handleTemplateUpdate()},title(t,e){t===e||t||this.hide()},disabled(t){t?this.disable():this.enable()}},created(){this.$_tip=null,this.$_hoverTimeout=null,this.$_hoverState="",this.$_visibleInterval=null,this.$_enabled=!this.disabled,this.$_noop=m["a"].bind(this),this.$parent&&this.$parent.$once(a["y"],()=>{this.$nextTick(()=>{Object(l["v"])(()=>{this.$destroy()})})}),this.$nextTick(()=>{const t=this.getTarget();t&&Object(l["f"])(document.body,t)?(this.scopeId=Object(u["a"])(this.$parent),this.listen()):Object(v["a"])(Object(d["j"])(this.target)?`Unable to find target element by ID "#${this.target}" in document.`:"The provided target is no valid HTML element.",this.templateType)})},updated(){this.$nextTick(this.handleTemplateUpdate)},deactivated(){this.forceHide()},beforeDestroy(){this.unListen(),this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.clearVisibilityInterval(),this.destroyTemplate(),this.$_noop=null},methods:{getTemplate(){return w["a"]},updateData(t={}){let e=!1;Object(b["g"])(S).forEach(n=>{Object(d["k"])(t[n])||this[n]===t[n]||(this[n]=t[n],"title"===n&&(e=!0))}),e&&this.localShow&&this.fixTitle()},createTemplateAndShow(){const t=this.getContainer(),e=this.getTemplate(),n=this.$_tip=new e({parent:this,propsData:{id:this.computedId,html:this.html,placement:this.placement,fallbackPlacement:this.fallbackPlacement,target:this.getPlacementTarget(),boundary:this.getBoundary(),offset:Object(g["b"])(this.offset,0),arrowPadding:Object(g["b"])(this.arrowPadding,0),boundaryPadding:Object(g["b"])(this.boundaryPadding,0)}});this.handleTemplateUpdate(),n.$once(a["t"],this.onTemplateShow),n.$once(a["u"],this.onTemplateShown),n.$once(a["m"],this.onTemplateHide),n.$once(a["l"],this.onTemplateHidden),n.$once(a["z"],this.destroyTemplate),n.$on(a["j"],this.handleEvent),n.$on(a["k"],this.handleEvent),n.$on(a["p"],this.handleEvent),n.$on(a["q"],this.handleEvent),n.$mount(t.appendChild(document.createElement("div")))},hideTemplate(){this.$_tip&&this.$_tip.hide(),this.clearActiveTriggers(),this.$_hoverState=""},destroyTemplate(){this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.$_hoverState="",this.clearActiveTriggers(),this.localPlacementTarget=null;try{this.$_tip.$destroy()}catch{}this.$_tip=null,this.removeAriaDescribedby(),this.restoreTitle(),this.localShow=!1},getTemplateElement(){return this.$_tip?this.$_tip.$el:null},handleTemplateUpdate(){const t=this.$_tip;if(t){const e=["title","content","variant","customClass","noFade","interactive"];e.forEach(e=>{t[e]!==this[e]&&(t[e]=this[e])})}},show(){const t=this.getTarget();if(!t||!Object(l["f"])(document.body,t)||!Object(l["p"])(t)||this.dropdownOpen()||(Object(d["l"])(this.title)||""===this.title)&&(Object(d["l"])(this.content)||""===this.content))return;if(this.$_tip||this.localShow)return;this.localShow=!0;const e=this.buildEvent(a["t"],{cancelable:!0});this.emitEvent(e),e.defaultPrevented?this.destroyTemplate():(this.fixTitle(),this.addAriaDescribedby(),this.createTemplateAndShow())},hide(t=!1){const e=this.getTemplateElement();if(!e||!this.localShow)return void this.restoreTitle();const n=this.buildEvent(a["m"],{cancelable:!t});this.emitEvent(n),n.defaultPrevented||this.hideTemplate()},forceHide(){const t=this.getTemplateElement();t&&this.localShow&&(this.setWhileOpenListeners(!1),this.clearHoverTimeout(),this.$_hoverState="",this.clearActiveTriggers(),this.$_tip&&(this.$_tip.noFade=!0),this.hide(!0))},enable(){this.$_enabled=!0,this.emitEvent(this.buildEvent(a["h"]))},disable(){this.$_enabled=!1,this.emitEvent(this.buildEvent(a["f"]))},onTemplateShow(){this.setWhileOpenListeners(!0)},onTemplateShown(){const t=this.$_hoverState;this.$_hoverState="","out"===t&&this.leave(null),this.emitEvent(this.buildEvent(a["u"]))},onTemplateHide(){this.setWhileOpenListeners(!1)},onTemplateHidden(){this.destroyTemplate(),this.emitEvent(this.buildEvent(a["l"]))},getTarget(){let{target:t}=this;return Object(d["j"])(t)?t=Object(l["i"])(t.replace(/^#/,"")):Object(d["e"])(t)?t=t():t&&(t=t.$el||t),Object(l["n"])(t)?t:null},getPlacementTarget(){return this.getTarget()},getTargetId(){const t=this.getTarget();return t&&t.id?t.id:null},getContainer(){const t=!!this.container&&(this.container.$el||this.container),e=document.body,n=this.getTarget();return!1===t?Object(l["e"])(k,n)||e:Object(d["j"])(t)&&Object(l["i"])(t.replace(/^#/,""))||e},getBoundary(){return this.boundary?this.boundary.$el||this.boundary:"scrollParent"},isInModal(){const t=this.getTarget();return t&&Object(l["e"])(x,t)},isDropdown(){const t=this.getTarget();return t&&Object(l["l"])(t,M)},dropdownOpen(){const t=this.getTarget();return this.isDropdown()&&t&&Object(l["w"])(O,t)},clearHoverTimeout(){clearTimeout(this.$_hoverTimeout),this.$_hoverTimeout=null},clearVisibilityInterval(){clearInterval(this.$_visibleInterval),this.$_visibleInterval=null},clearActiveTriggers(){for(const t in this.activeTrigger)this.activeTrigger[t]=!1},addAriaDescribedby(){const t=this.getTarget();let e=Object(l["g"])(t,"aria-describedby")||"";e=e.split(/\s+/).concat(this.computedId).join(" ").trim(),Object(l["y"])(t,"aria-describedby",e)},removeAriaDescribedby(){const t=this.getTarget();let e=Object(l["g"])(t,"aria-describedby")||"";e=e.split(/\s+/).filter(t=>t!==this.computedId).join(" ").trim(),e?Object(l["y"])(t,"aria-describedby",e):Object(l["s"])(t,"aria-describedby")},fixTitle(){const t=this.getTarget();if(Object(l["k"])(t,"title")){const e=Object(l["g"])(t,"title");Object(l["y"])(t,"title",""),e&&Object(l["y"])(t,T,e)}},restoreTitle(){const t=this.getTarget();if(Object(l["k"])(t,T)){const e=Object(l["g"])(t,T);Object(l["s"])(t,T),e&&Object(l["y"])(t,"title",e)}},buildEvent(t,e={}){return new y["a"](t,{cancelable:!1,target:this.getTarget(),relatedTarget:this.getTemplateElement()||null,componentId:this.computedId,vueTarget:this,...e})},emitEvent(t){const{type:e}=t;this.emitOnRoot(Object(c["e"])(this.templateType,e),t),this.$emit(e,t)},listen(){const t=this.getTarget();t&&(this.setRootListener(!0),this.computedTriggers.forEach(e=>{"click"===e?Object(c["b"])(t,"click",this.handleEvent,a["w"]):"focus"===e?(Object(c["b"])(t,"focusin",this.handleEvent,a["w"]),Object(c["b"])(t,"focusout",this.handleEvent,a["w"])):"blur"===e?Object(c["b"])(t,"focusout",this.handleEvent,a["w"]):"hover"===e&&(Object(c["b"])(t,"mouseenter",this.handleEvent,a["w"]),Object(c["b"])(t,"mouseleave",this.handleEvent,a["w"]))},this))},unListen(){const t=["click","focusin","focusout","mouseenter","mouseleave"],e=this.getTarget();this.setRootListener(!1),t.forEach(t=>{e&&Object(c["a"])(e,t,this.handleEvent,a["w"])},this)},setRootListener(t){const e=this.$root;if(e){const n=t?"$on":"$off",i=this.templateType;e[n](Object(c["d"])(i,a["m"]),this.doHide),e[n](Object(c["d"])(i,a["t"]),this.doShow),e[n](Object(c["d"])(i,a["e"]),this.doDisable),e[n](Object(c["d"])(i,a["g"]),this.doEnable)}},setWhileOpenListeners(t){this.setModalListener(t),this.setDropdownListener(t),this.visibleCheck(t),this.setOnTouchStartListener(t)},visibleCheck(t){this.clearVisibilityInterval();const e=this.getTarget(),n=this.getTemplateElement();t&&(this.$_visibleInterval=setInterval(()=>{!n||!this.localShow||e.parentNode&&Object(l["p"])(e)||this.forceHide()},100))},setModalListener(t){this.isInModal()&&this.$root[t?"$on":"$off"](E,this.forceHide)},setOnTouchStartListener(t){"ontouchstart"in document.documentElement&&Object(s["c"])(document.body.children).forEach(e=>{Object(c["c"])(t,e,"mouseover",this.$_noop)})},setDropdownListener(t){const e=this.getTarget();e&&this.$root&&this.isDropdown&&e.__vue__&&e.__vue__[t?"$on":"$off"](a["u"],this.forceHide)},handleEvent(t){const e=this.getTarget();if(!e||Object(l["m"])(e)||!this.$_enabled||this.dropdownOpen())return;const n=t.type,i=this.computedTriggers;if("click"===n&&Object(s["a"])(i,"click"))this.click(t);else if("mouseenter"===n&&Object(s["a"])(i,"hover"))this.enter(t);else if("focusin"===n&&Object(s["a"])(i,"focus"))this.enter(t);else if("focusout"===n&&(Object(s["a"])(i,"focus")||Object(s["a"])(i,"blur"))||"mouseleave"===n&&Object(s["a"])(i,"hover")){const n=this.getTemplateElement(),i=t.target,r=t.relatedTarget;if(n&&Object(l["f"])(n,i)&&Object(l["f"])(e,r)||n&&Object(l["f"])(e,i)&&Object(l["f"])(n,r)||n&&Object(l["f"])(n,i)&&Object(l["f"])(n,r)||Object(l["f"])(e,i)&&Object(l["f"])(e,r))return;this.leave(t)}},doHide(t){t&&this.getTargetId()!==t&&this.computedId!==t||this.forceHide()},doShow(t){t&&this.getTargetId()!==t&&this.computedId!==t||this.show()},doDisable(t){t&&this.getTargetId()!==t&&this.computedId!==t||this.disable()},doEnable(t){t&&this.getTargetId()!==t&&this.computedId!==t||this.enable()},click(t){this.$_enabled&&!this.dropdownOpen()&&(Object(l["d"])(t.currentTarget),this.activeTrigger.click=!this.activeTrigger.click,this.isWithActiveTrigger?this.enter(null):this.leave(null))},toggle(){this.$_enabled&&!this.dropdownOpen()&&(this.localShow?this.leave(null):this.enter(null))},enter(t=null){t&&(this.activeTrigger["focusin"===t.type?"focus":"hover"]=!0),this.localShow||"in"===this.$_hoverState?this.$_hoverState="in":(this.clearHoverTimeout(),this.$_hoverState="in",this.computedDelay.show?(this.fixTitle(),this.$_hoverTimeout=setTimeout(()=>{"in"===this.$_hoverState?this.show():this.localShow||this.restoreTitle()},this.computedDelay.show)):this.show())},leave(t=null){t&&(this.activeTrigger["focusout"===t.type?"focus":"hover"]=!1,"focusout"===t.type&&Object(s["a"])(this.computedTriggers,"blur")&&(this.activeTrigger.click=!1,this.activeTrigger.hover=!1)),this.isWithActiveTrigger||(this.clearHoverTimeout(),this.$_hoverState="out",this.computedDelay.hide?this.$_hoverTimeout=setTimeout(()=>{"out"===this.$_hoverState&&this.hide()},this.computedDelay.hide):this.hide())}}})},"11e9":function(t,n,i){var r=i("52a7"),o=i("4630"),a=i("6821"),s=i("6a99"),l=i("69a8"),c=i("c69a"),u=Object.getOwnPropertyDescriptor;n.f=i("9e1e")?u:function(t,n){if(t=a(t),n=s(n,!0),c)try{return u(t,n)}catch(e){}if(l(t,n))return o(!r.f.call(t,n),t[n])}},1310:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},"141b":function(t,e,n){var i=n("774e"),r=n("1583");function o(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?i(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},1495:function(t,e,n){var i=n("86cc"),r=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){r(t);var n,a=o(e),s=a.length,l=0;while(s>l)i.f(t,n=a[l++],e[n]);return t}},1524:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"l",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"j",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"a",(function(){return h})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return m}));n("8db0"),n("a3a7");const i=t=>typeof t,r=t=>void 0===t,o=t=>null===t,a=t=>r(t)||o(t),s=t=>"function"===i(t),l=t=>"boolean"===i(t),c=t=>"string"===i(t),u=t=>"number"===i(t),h=t=>Array.isArray(t),d=t=>null!==t&&"object"===typeof t,f=t=>"[object Object]"===Object.prototype.toString.call(t),p=t=>t instanceof Date,m=t=>t instanceof Event},1583:function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},1654:function(t,e,n){"use strict";var i=n("71c1")(!0);n("30f1")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"16db":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("daee");const l=Object(s["c"])({tag:Object(s["b"])(a["l"],"div")},o["r"]),c=i["a"].extend({name:o["r"],functional:!0,props:l,render(t,{props:e,data:n,children:i}){return t(e.tag,Object(r["a"])(n,{staticClass:"form-row"}),i)}})},"17cc":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));n("1524");const i=(...t)=>Array.from(...t),r=(t,e)=>-1!==t.indexOf(e),o=(...t)=>Array.prototype.concat.apply([],t)},"18a0":function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var i=n("2b0e"),r=n("4e82"),o=n("6b59"),a=n("1f62"),s=n("1524"),l=n("daee"),c=n("2629"),u=n("f0bd"),h=n("a3a7"),d=n("3372"),f=n("5ef7"),p=n("f65f");const m={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOPLEFT:"top",TOPRIGHT:"top",RIGHTTOP:"right",RIGHTBOTTOM:"right",BOTTOMLEFT:"bottom",BOTTOMRIGHT:"bottom",LEFTTOP:"left",LEFTBOTTOM:"left"},g={AUTO:0,TOPLEFT:-1,TOP:0,TOPRIGHT:1,RIGHTTOP:-1,RIGHT:0,RIGHTBOTTOM:1,BOTTOMLEFT:-1,BOTTOM:0,BOTTOMRIGHT:1,LEFTTOP:-1,LEFT:0,LEFTBOTTOM:1},b={arrowPadding:Object(l["b"])(a["i"],6),boundary:Object(l["b"])([h["c"],a["l"]],"scrollParent"),boundaryPadding:Object(l["b"])(a["i"],5),fallbackPlacement:Object(l["b"])(a["d"],"flip"),offset:Object(l["b"])(a["i"],0),placement:Object(l["b"])(a["l"],"top"),target:Object(l["b"])([h["c"],h["d"]])},v=i["a"].extend({name:r["y"],props:b,data(){return{noFade:!1,localShow:!0,attachment:this.getAttachment(this.placement)}},computed:{templateType(){return"unknown"},popperConfig(){const{placement:t}=this;return{placement:this.getAttachment(t),modifiers:{offset:{offset:this.getOffset(t)},flip:{behavior:this.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{padding:this.boundaryPadding,boundariesElement:this.boundary}},onCreate:t=>{t.originalPlacement!==t.placement&&this.popperPlacementChange(t)},onUpdate:t=>{this.popperPlacementChange(t)}}}},created(){this.$_popper=null,this.localShow=!0,this.$on(o["t"],t=>{this.popperCreate(t)});const t=()=>{this.$nextTick(()=>{Object(d["v"])(()=>{this.$destroy()})})};this.$parent.$once(o["z"],t),this.$once(o["l"],t)},beforeMount(){this.attachment=this.getAttachment(this.placement)},updated(){this.updatePopper()},beforeDestroy(){this.destroyPopper()},destroyed(){const t=this.$el;t&&t.parentNode&&t.parentNode.removeChild(t)},methods:{hide(){this.localShow=!1},getAttachment(t){return m[String(t).toUpperCase()]||"auto"},getOffset(t){if(!this.offset){const e=this.$refs.arrow||Object(d["w"])(".arrow",this.$el),n=Object(f["a"])(Object(d["j"])(e).width,0)+Object(f["a"])(this.arrowPadding,0);switch(g[String(t).toUpperCase()]||0){case 1:return`+50%p - ${n}px`;case-1:return`-50%p + ${n}px`;default:return 0}}return this.offset},popperCreate(t){this.destroyPopper(),this.$_popper=new u["a"](this.target,t,this.popperConfig)},destroyPopper(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper(){this.$_popper&&this.$_popper.scheduleUpdate()},popperPlacementChange(t){this.attachment=this.getAttachment(t.placement)},renderTemplate(t){return t("div")}},render(t){const{noFade:e}=this;return t(p["a"],{props:{appear:!0,noFade:e},on:{beforeEnter:t=>this.$emit(o["t"],t),afterEnter:t=>this.$emit(o["u"],t),beforeLeave:t=>this.$emit(o["m"],t),afterLeave:t=>this.$emit(o["l"],t)}},[this.localShow?this.renderTemplate(t):t()])}}),y={html:Object(l["b"])(a["e"],!1),id:Object(l["b"])(a["l"])},_=i["a"].extend({name:r["E"],extends:v,mixins:[c["a"]],props:y,data(){return{title:"",content:"",variant:null,customClass:null,interactive:!0}},computed:{templateType(){return"tooltip"},templateClasses(){const{variant:t,attachment:e,templateType:n}=this;return[{noninteractive:!this.interactive,[`b-${n}-${t}`]:t,[`bs-${n}-${e}`]:e},this.customClass]},templateAttributes(){const{id:t}=this;return{...this.$parent.$parent.$attrs,id:t,role:"tooltip",tabindex:"-1",...this.scopedStyleAttrs}},templateListeners(){return{mouseenter:t=>{this.$emit(o["p"],t)},mouseleave:t=>{this.$emit(o["q"],t)},focusin:t=>{this.$emit(o["j"],t)},focusout:t=>{this.$emit(o["k"],t)}}}},methods:{renderTemplate(t){const{title:e}=this,n=Object(s["e"])(e)?e({}):e,i=this.html&&!Object(s["e"])(e)?{innerHTML:e}:{};return t("div",{staticClass:"tooltip b-tooltip",class:this.templateClasses,attrs:this.templateAttributes,on:this.templateListeners},[t("div",{staticClass:"arrow",ref:"arrow"}),t("div",{staticClass:"tooltip-inner",domProps:i},[n])])}}})},1991:function(t,e,n){var i,r,o,a=n("9b43"),s=n("31f4"),l=n("fab2"),c=n("230e"),u=n("7726"),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,b={},v="onreadystatechange",y=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},_=function(t){y.call(t.data)};d&&f||(d=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return b[++g]=function(){s("function"==typeof t?t:Function(t),e)},i(g),g},f=function(t){delete b[t]},"process"==n("2d95")(h)?i=function(t){h.nextTick(a(y,t,1))}:m&&m.now?i=function(t){m.now(a(y,t,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=_,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",_,!1)):i=v in c("script")?function(t){l.appendChild(c("script"))[v]=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:d,clear:f}},"199c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("7dde"),o=function(){function t(){}return t.prototype.sendEvent=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,Promise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:r.Status.Skipped})]}))}))},t.prototype.close=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){return[2,Promise.resolve(!0)]}))}))},t}();e.NoopTransport=o},"1a67":function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var i=n("b42e"),r=n("4e82"),o=n("1f62"),a=n("8db0"),s=n("17cc"),l=n("3844"),c=n("29b3"),u=n("1524"),h=n("1b2d"),d=n("0a38"),f=n("daee"),p=n("055d");const m=["auto","start","end","center","baseline","stretch"],g=(t,e,n)=>{let i=t;if(!Object(u["l"])(n)&&!1!==n)return e&&(i+="-"+e),"col"!==t||""!==n&&!0!==n?(i+="-"+n,Object(p["b"])(i)):Object(p["b"])(i)},b=Object(h["a"])(g);let v=Object(d["c"])(null);const y=()=>{const t=Object(l["a"])().filter(c["a"]),e=t.reduce((t,e)=>(t[e]=Object(f["b"])(o["f"]),t),Object(d["c"])(null)),n=t.reduce((t,e)=>(t[Object(f["f"])(e,"offset")]=Object(f["b"])(o["i"]),t),Object(d["c"])(null)),i=t.reduce((t,e)=>(t[Object(f["f"])(e,"order")]=Object(f["b"])(o["i"]),t),Object(d["c"])(null));return v=Object(d["a"])(Object(d["c"])(null),{col:Object(d["g"])(e),offset:Object(d["g"])(n),order:Object(d["g"])(i)}),Object(f["c"])(Object(d["l"])({...e,...n,...i,alignSelf:Object(f["b"])(o["l"],null,t=>Object(s["a"])(m,t)),col:Object(f["b"])(o["e"],!1),cols:Object(f["b"])(o["i"]),offset:Object(f["b"])(o["i"]),order:Object(f["b"])(o["i"]),tag:Object(f["b"])(o["l"],"div")}),r["i"])},_={name:r["i"],functional:!0,get props(){return delete this.props,this.props=y()},render(t,{props:e,data:n,children:r}){const{cols:o,offset:s,order:l,alignSelf:c}=e,u=[];for(const i in v){const t=v[i];for(let n=0;n<t.length;n++){const r=b(i,t[n].replace(i,""),e[t[n]]);r&&u.push(r)}}const h=u.some(t=>a["c"].test(t));return u.push({col:e.col||!h&&!o,["col-"+o]:o,["offset-"+s]:s,["order-"+l]:l,["align-self-"+c]:c}),t(e.tag,Object(i["a"])(n,{class:u}),r)}}},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},"1b2d":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("0a38");const r=t=>{const e=Object(i["c"])(null);return(...n)=>{const i=JSON.stringify(n);return e[i]=e[i]||t.apply(null,n)}}},"1bc3":function(t,e,n){var i=n("f772");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"1ccd":function(t,n,i){"use strict";var r=i("da92");function o(t){const n=t.Adapters.get("BaseUMAdapter");class i extends n{constructor(t){super(...arguments),this._config=Object.assign({threshold:.95,significance_threshold:7.301},this._config),this._prefix_namespace=!1}_getCacheKey(t){const e=t.credible_set_threshold||this._config.threshold;return[e,t.chr,t.start,t.end].join("_")}_buildRequestOptions(t,e){const n=super._buildRequestOptions(...arguments);return n._assoc_data=e,n}_performRequest(t){const{_assoc_data:n}=t;if(!n.length)return Promise.resolve([]);const i=this._findPrefixedKey(n[0],"log_pvalue"),o=this._config.threshold,a=n.map(t=>t[i]);if(!a.some(t=>t>=this._config.significance_threshold))return Promise.resolve(n);try{const e=r["scoring"].bayesFactors(a),i=r["scoring"].normalizeProbabilities(e),s=r["marking"].findCredibleSet(i,o),l=r["marking"].rescaleCredibleSet(s),c=r["marking"].markBoolean(s);for(let r=0;r<n.length;r++)n[r][t._provider_name+":posterior_prob"]=i[r],n[r][t._provider_name+":contrib_fraction"]=l[r],n[r][t._provider_name+":is_member"]=c[r]}catch(e){console.error(e)}return Promise.resolve(n)}}t.Adapters.add("CredibleSetLZ",i);const o=function(){const e=t.Layouts.get("tooltip","standard_association");return e.html+="{{#if credset:posterior_prob}}<br>Posterior probability: <strong>{{credset:posterior_prob|scinotation|htmlescape}}</strong>{{/if}}",e}();t.Layouts.add("tooltip","association_credible_set",o);const a={closable:!0,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:"<strong>{{assoc:variant|htmlescape}}</strong><br>P Value: <strong>{{assoc:log_pvalue|logtoscinotation|htmlescape}}</strong><br>{{#if credset:posterior_prob}}<br>Posterior probability: <strong>{{credset:posterior_prob|scinotation|htmlescape}}</strong>{{/if}}"};t.Layouts.add("tooltip","annotation_credible_set",a);const s=function(){const e=t.Layouts.get("data_layer","association_pvalues",{id:"associationcredibleset",namespace:{assoc:"assoc",credset:"credset",ld:"ld"},data_operations:[{type:"fetch",from:["assoc","ld(assoc)","credset(assoc)"]},{type:"left_match",name:"credset_plus_ld",requires:["credset","ld"],params:["assoc:position","ld:position2"]}],fill_opacity:.7,tooltip:t.Layouts.get("tooltip","association_credible_set"),match:{send:"assoc:variant",receive:"assoc:variant"}});return e.color.unshift({field:"lz_is_match",scale_function:"if",parameters:{field_value:!0,then:"#FFf000"}}),e}();t.Layouts.add("data_layer","association_credible_set",s);const l={namespace:{assoc:"assoc",credset:"credset"},data_operations:[{type:"fetch",from:["assoc","credset(assoc)"]}],id:"annotationcredibleset",type:"annotation_track",id_field:"assoc:variant",x_axis:{field:"assoc:position"},color:[{field:"lz_is_match",scale_function:"if",parameters:{field_value:!0,then:"#001cee"}},"#00CC00"],match:{send:"assoc:variant",receive:"assoc:variant"},filters:[{field:"credset:is_member",operator:"=",value:!0}],behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}],onshiftclick:[{action:"toggle",status:"selected"}]},tooltip:t.Layouts.get("tooltip","annotation_credible_set"),tooltip_positioning:"top"};t.Layouts.add("data_layer","annotation_credible_set",l);const c={id:"annotationcredibleset",title:{text:"SNPs in 95% credible set",x:50,style:{"font-size":"14px"}},min_height:50,height:50,margin:{top:25,right:50,bottom:10,left:70},inner_border:"rgb(210, 210, 210)",toolbar:t.Layouts.get("toolbar","standard_panel"),axes:{x:{extent:"state",render:!1}},interaction:{drag_background_to_pan:!0,scroll_to_zoom:!0,x_linked:!0},data_layers:[t.Layouts.get("data_layer","annotation_credible_set")]};t.Layouts.add("panel","annotation_credible_set",c);const u=function(){const e=t.Layouts.get("panel","association",{id:"associationcrediblesets",data_layers:[t.Layouts.get("data_layer","significance"),t.Layouts.get("data_layer","recomb_rate"),t.Layouts.get("data_layer","association_credible_set")]});return e.toolbar.widgets.push({type:"display_options",position:"right",color:"blue",button_html:"Display options...",button_title:"Control how plot items are displayed",layer_name:"associationcredibleset",default_config_display_name:"Linkage Disequilibrium (default)",options:[{display_name:"95% credible set (boolean)",display:{point_shape:"circle",point_size:40,color:{field:"credset:is_member",scale_function:"if",parameters:{field_value:!0,then:"#00CC00",else:"#CCCCCC"}},legend:[{shape:"circle",color:"#00CC00",size:40,label:"In credible set",class:"lz-data_layer-scatter"},{shape:"circle",color:"#CCCCCC",size:40,label:"Not in credible set",class:"lz-data_layer-scatter"}]}},{display_name:"95% credible set (gradient by contribution)",display:{point_shape:"circle",point_size:40,color:[{field:"credset:contrib_fraction",scale_function:"if",parameters:{field_value:0,then:"#777777"}},{scale_function:"interpolate",field:"credset:contrib_fraction",parameters:{breaks:[0,1],values:["#fafe87","#9c0000"]}}],legend:[{shape:"circle",color:"#777777",size:40,label:"No contribution",class:"lz-data_layer-scatter"},{shape:"circle",color:"#fafe87",size:40,label:"Some contribution",class:"lz-data_layer-scatter"},{shape:"circle",color:"#9c0000",size:40,label:"Most contribution",class:"lz-data_layer-scatter"}]}}]}),e}();t.Layouts.add("panel","association_credible_set",u);const h={state:{},width:800,height:450,responsive_resize:!0,min_region_scale:2e4,max_region_scale:1e6,toolbar:t.Layouts.get("toolbar","standard_association"),panels:[t.Layouts.get("panel","association_credible_set"),t.Layouts.get("panel","annotation_credible_set"),t.Layouts.get("panel","genes")]};t.Layouts.add("plot","association_credible_set",h)}"undefined"!==typeof LocusZoom&&LocusZoom.use(o),n["a"]=o},"1d04":function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return f}));const i="undefined"!==typeof window,r="undefined"!==typeof document,o="undefined"!==typeof navigator,a="undefined"!==typeof Promise,s="undefined"!==typeof MutationObserver||"undefined"!==typeof WebKitMutationObserver||"undefined"!==typeof MozMutationObserver,l=i&&r&&o,c=i?window:{},u=r?document:{},h=o?navigator:{},d=(h.userAgent||"").toLowerCase(),f=(d.indexOf("jsdom"),/msie|trident/.test(d),(()=>{let t=!1;if(l)try{const e={get passive(){t=!0}};c.addEventListener("test",e,e),c.removeEventListener("test",e,e)}catch{t=!1}return t})());l&&("ontouchstart"in u.documentElement||h.maxTouchPoints),l&&Boolean(c.PointerEvent||c.MSPointerEvent),l&&"IntersectionObserver"in c&&"IntersectionObserverEntry"in c&&c.IntersectionObserverEntry.prototype},"1d63":function(t,n,i){"use strict";i.d(n,"b",(function(){return H})),i.d(n,"a",(function(){return B}));var r="";function o(t){return s(a(l(t)))}function a(t){return u(h(c(t),8*t.length))}function s(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",i=t.length,o=0;o<i;o+=3)for(var a=t.charCodeAt(o)<<16|(o+1<i?t.charCodeAt(o+1)<<8:0)|(o+2<i?t.charCodeAt(o+2):0),s=0;s<4;s++)8*o+6*s>8*t.length?n+=r:n+=e.charAt(a>>>6*(3-s)&63);return n}function l(t){var e,n,i="",r=-1;while(++r<t.length)e=t.charCodeAt(r),n=r+1<t.length?t.charCodeAt(r+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),r++),e<=127?i+=String.fromCharCode(e):e<=2047?i+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i}function c(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}function u(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}function h(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;for(var n=Array(80),i=1732584193,r=-271733879,o=-1732584194,a=271733878,s=-1009589776,l=0;l<t.length;l+=16){for(var c=i,u=r,h=o,g=a,b=s,v=0;v<80;v++){n[v]=v<16?t[l+v]:m(n[v-3]^n[v-8]^n[v-14]^n[v-16],1);var y=p(p(m(i,5),d(v,r,o,a)),p(p(s,n[v]),f(v)));s=a,a=o,o=m(r,30),r=i,i=y}i=p(i,c),r=p(r,u),o=p(o,h),a=p(a,g),s=p(s,b)}return Array(i,r,o,a,s)}function d(t,e,n,i){return t<20?e&n|~e&i:t<40?e^n^i:t<60?e&n|e&i|n&i:e^n^i}function f(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function p(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function m(t,e){return t<<e|t>>>32-e}new RegExp("[0-9]+");new RegExp("^[0-9]+$");function g(t,e){if(!t)return-1;for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function b(t,e){var n=g(t,e);return n>=0&&(t.splice(n,1),!0)}function v(t){var e={};for(var n in t)e[n]=t[n];return e}function y(t){this.value=t,this.listeners=[]}function _(){this.queue=[]}y.prototype.addListener=function(t){this.listeners.push(t)},y.prototype.addListenerAndFire=function(t){this.listeners.push(t),t(this.value)},y.prototype.removeListener=function(t){b(this.listeners,t)},y.prototype.get=function(){return this.value},y.prototype.set=function(t){this.value=t;for(var e=0;e<this.listeners.length;++e)this.listeners[e](t)},_.prototype.provide=function(t){if(void 0!==this.res)throw"Resource has already been provided.";this.res=t;for(var e=0;e<this.queue.length;++e)this.queue[e](t);this.queue=null},_.prototype.await=function(t){if(void 0!==this.res)return t(this.res),this.res;this.queue.push(t)};function w(t){this.blob=t}function x(t,e,n,i){i||("object"===typeof e?(i=e,e=void 0):i={}),this.url=t,this.start=e||0,n&&(this.end=n),this.opts=i}"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),w.prototype.slice=function(t,e){var n;return n=this.blob.slice?e?this.blob.slice(t,t+e):this.blob.slice(t):e?this.blob.webkitSlice(t,t+e):this.blob.webkitSlice(t),new w(n)},w.prototype.salted=function(){return this},"undefined"!==typeof FileReader?w.prototype.fetch=function(t){var e=new FileReader;e.onloadend=function(n){t(k(e.result))},e.readAsBinaryString(this.blob)}:w.prototype.fetch=function(t){var n=new FileReaderSync;try{var i=n.readAsArrayBuffer(this.blob);t(i)}catch(e){t(null,e)}},x.prototype.slice=function(t,e){if(t<0)throw"Bad slice "+t;var n=this.start,i=this.end;return n&&t?n+=t:n=t||n,i=e&&n?n+e-1:i||e-1,new x(this.url,n,i,this.opts)};var E=0,C="undefined"!==typeof navigator&&navigator.userAgent.indexOf("Safari")>=0&&navigator.userAgent.indexOf("Chrome")<0;function k(t){if(!t)return null;for(var e=new Uint8Array(t.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n);return e.buffer}x.prototype.fetchAsText=function(t){var n=this;this.getURL().then((function(i){try{var r=new XMLHttpRequest;if((C||n.opts.salt)&&i.indexOf("?")<0&&(i=i+"?salt="+o(Date.now()+","+ ++E)),r.open("GET",i,!0),n.end){if(n.end-n.start>1e8)throw"Monster fetch!";r.setRequestHeader("Range","bytes="+n.start+"-"+n.end),n.end-n.start+1}r.onreadystatechange=function(){if(4==r.readyState)return 200==r.status||206==r.status?t(r.responseText):t(null)},n.opts.credentials&&(r.withCredentials=!0),r.send()}catch(e){return t(null)}})).catch((function(e){return console.log(e),t(null,e)}))},x.prototype.salted=function(){var t=v(this.opts);return t.salt=!0,new x(this.url,this.start,this.end,t)},x.prototype.getURL=function(){return this.opts.resolver?this.opts.resolver(this.url).then((function(t){return"string"===typeof t?t:t.url})):Promise.resolve(this.url)},x.prototype.fetch=function(t,n){var i=this;n=n||{};var r=n.attempt||1,a=n.truncatedLength;if(r>3)return t(null);this.getURL().then((function(s){try{var l;n.timeout&&!i.opts.credentials&&(l=setTimeout((function(){return console.log("timing out "+s),u.abort(),t(null,"Timeout")}),n.timeout));var c,u=new XMLHttpRequest;if((C||i.opts.salt)&&s.indexOf("?")<0&&(s=s+"?salt="+o(Date.now()+","+ ++E)),u.open("GET",s,!0),u.overrideMimeType("text/plain; charset=x-user-defined"),i.end){if(i.end-i.start>1e8)throw"Monster fetch!";u.setRequestHeader("Range","bytes="+i.start+"-"+i.end),c=i.end-i.start+1}u.responseType="arraybuffer",u.onreadystatechange=function(){if(4==u.readyState){if(l&&clearTimeout(l),200==u.status||206==u.status){if(u.response){var e=u.response.byteLength;return!c||c==e||a&&e==a?t(u.response):i.fetch(t,{attempt:r+1,truncatedLength:e})}if(u.mozResponseArrayBuffer)return t(u.mozResponseArrayBuffer);var n=u.responseText;return!c||c==n.length||a&&n.length==a?t(k(u.responseText)):i.fetch(t,{attempt:r+1,truncatedLength:n.length})}return i.fetch(t,{attempt:r+1})}},i.opts.credentials&&(u.withCredentials=!0),u.send()}catch(e){return t(null)}})).catch((function(e){return console.log(e),t(null,e)}))};var M=new ArrayBuffer(8);new Uint8Array(M),new Float32Array(M);function O(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}var T=i("672d");function S(t,e){this.block=t,this.offset=e}function R(t,e,n){var i=4294967296*(255&t[e+6])+16777216*(255&t[e+5])+65536*(255&t[e+4])+256*(255&t[e+3])+(255&t[e+2]),r=t[e+1]<<8|t[e];return 0!=i||0!=r||n?new S(i,r):null}function j(t,e){e=Math.min(e||1,t.byteLength-50);var n=[],i=[0],r=0;while(i[0]<e){var o=new Uint8Array(t,i[0],12),a=o[11]<<8|o[10],s=Object(T["inflateBuffer"])(t,12+a+i[0],Math.min(65536,t.byteLength-12-a-i[0]),i);i[0]+=8,r+=s.byteLength,n.push(s)}if(1==n.length)return n[0];for(var l=new Uint8Array(r),c=0,u=0;u<n.length;++u){var h=new Uint8Array(n[u]);Object(T["arrayCopy"])(h,0,l,c,h.length),c+=h.length}return l.buffer}function L(t,e){this.minv=t,this.maxv=e}S.prototype.toString=function(){return this.block+":"+this.offset};function A(t,e){var n,i=[];for(--e,i.push(0),n=1+(t>>26);n<=1+(e>>26);++n)i.push(n);for(n=9+(t>>23);n<=9+(e>>23);++n)i.push(n);for(n=73+(t>>20);n<=73+(e>>20);++n)i.push(n);for(n=585+(t>>17);n<=585+(e>>17);++n)i.push(n);for(n=4681+(t>>14);n<=4681+(e>>14);++n)i.push(n);return i}function D(t,e){if("number"!=typeof t||"number"!=typeof e)throw"Bad range "+t+","+e;this._min=t,this._max=e}function z(t){var e=t.sort(P),n=[],i=e.shift();e.forEach((function(t){t._min<=i._max?t._max>i._max&&(i._max=t._max):(n.push(i),i=t)})),n.push(i),this._ranges=n}function P(t,e){return t._min<e._min?-1:t._min>e._min?1:t._max<e._max?-1:e._max>t._max?1:0}D.prototype.min=function(){return this._min},D.prototype.max=function(){return this._max},D.prototype.contains=function(t){return t>=this._min&&t<=this._max},D.prototype.isContiguous=function(){return!0},D.prototype.ranges=function(){return[this]},D.prototype._pushRanges=function(t){t.push(this)},D.prototype.toString=function(){return"["+this._min+"-"+this._max+"]"},z.prototype.min=function(){return this._ranges[0].min()},z.prototype.max=function(){return this._ranges[this._ranges.length-1].max()},z.prototype.lower_bound=function(t){var e=this.ranges();if(t>this.max())return e.length;if(t<this.min())return 0;var n=0,i=e.length-1;while(n<=i){var r=Math.floor((n+i)/2);if(t>e[r]._max)n=r+1;else{if(!(t<e[r]._min))return r;i=r-1}}return n},z.prototype.contains=function(t){var e=this.lower_bound(t);return!!(e<this._ranges.length&&this._ranges[e].contains(t))},z.prototype.insertRange=function(t){var e=this.lower_bound(t._min);if(e!==this._ranges.length){var n=this.ranges();if(t._max<n[e]._min)this._ranges.splice(e,0,t);else{n[e]._min<t._min&&(t._min=n[e]._min);var i=e+1;while(i<n.length&&n[i]._min<=t._max)i++;i--,n[i]._max>t._max&&(t._max=n[i]._max),this._ranges.splice(e,i-e+1,t)}}else this._ranges.push(t)},z.prototype.isContiguous=function(){return this._ranges.length>1},z.prototype.ranges=function(){return this._ranges},z.prototype._pushRanges=function(t){for(var e=0;e<this._ranges.length;++e)t.push(this._ranges[e])},z.prototype.toString=function(){for(var t="",e=0;e<this._ranges.length;++e)e>0&&(t+=","),t+=this._ranges[e].toString();return t};var N=21578324;function F(){}function I(t,e,n){var i=new F;i.data=t,i.tbi=e,i.tbi.fetch((function(t){if(!t)return n(null,"Couldn't access Tabix");var e=j(t,t.byteLength),r=new Uint8Array(e),o=O(r,0);if(o!=N)return n(null,"Not a tabix index");var a=O(r,4);i.format=O(r,8),i.colSeq=O(r,12),i.colStart=O(r,16),i.colEnd=O(r,20),i.meta=O(r,24),i.skip=O(r,28);O(r,32);i.indices=[];var s=36;i.chrToIndex={},i.indexToChr=[];for(var l=0;l<a;++l){var c="";while(1){var u=r[s++];if(0==u)break;c+=String.fromCharCode(u)}i.chrToIndex[c]=l,0==c.indexOf("chr")?i.chrToIndex[c.substring(3)]=l:i.chrToIndex["chr"+c]=l,i.indexToChr.push(c)}for(var h=1e9,d=0;d<a;++d){var f=s,p=O(r,s);s+=4;for(var m=0;m<p;++m){O(r,s);var g=O(r,s+4);s+=8+16*g}var b=O(r,s);s+=4;var v=s;for(l=0;l<b;++l){var y=R(r,v);if(v+=8,y){var _=y.block;y.offset>0&&(_+=65536),_<h&&(h=_);break}}s+=8*b;p>0&&(i.indices[d]=new Uint8Array(e,f,s-f))}i.headerMax=h,n(i)}),{timeout:5e4})}function H(t,e){return new Promise((function(n,i){I(new x(t),new x(e),(function(t,e){e?i(e):n(t)}))}))}function B(t,e){return new Promise((function(n,i){I(new w(t),new w(e),(function(t,e){e?i(e):n(t)}))}))}F.prototype.blocksForRange=function(t,e,n){var i=this.indices[t];if(!i)return[];for(var r=A(e,n),o=[],a=0;a<r.length;++a)o[r[a]]=!0;for(var s=[],l=[],c=O(i,0),u=4,h=0;h<c;++h){var d=O(i,u),f=O(i,u+4);if(u+=8,o[d])for(var p=0;p<f;++p){var m=R(i,u,!0),g=R(i,u+8,!0);(d<4681?l:s).push(new L(m,g)),u+=16}else u+=16*f}var b=O(i,u),v=null,y=Math.min(e>>14,b-1),_=Math.min(n>>14,b-1);for(a=y;a<=_;++a){var w=R(i,u+4+8*a);w&&((!v||w.block<v.block||w.offset<v.offset)&&(v=w))}var x=[];if(null!=v)for(a=0;a<l.length;++a){var E=l[a];E.maxv.block>=v.block&&E.maxv.offset>=v.offset&&x.push(E)}l=x;var C=[];for(a=0;a<l.length;++a)C.push(l[a]);for(a=0;a<s.length;++a)C.push(s[a]);C.sort((function(t,e){var n=t.minv.block-e.minv.block;return 0!=n?n:t.minv.offset-e.minv.offset}));var k=[];if(C.length>0){var M=C[0];for(a=1;a<C.length;++a){var T=C[a];T.minv.block==M.maxv.block?M=new L(M.minv,T.maxv):(k.push(M),M=T)}k.push(M)}return k},F.prototype.fetch=function(t,n,i,r){var o=this,a=this.chrToIndex[t];if(void 0==a)return r([]);var s,l=this.indexToChr[a];void 0===a?s=[]:(s=this.blocksForRange(a,n,i),s||r(null,"Error in index fetch"));var c,u=[],h=0;function d(){if(h>=s.length)return r(u);if(c){var t=new Uint8Array(c);return o.readRecords(t,s[h].minv.offset,u,n,i,l),c=null,++h,d()}var a=s[h],f=a.minv.block,p=a.maxv.block+65536;o.data.slice(f,p-f).fetch((function(t){try{return c=j(t,a.maxv.block-a.minv.block+1),d()}catch(e){return r(null,e)}}))}try{d()}catch(e){r(null,e)}},F.prototype.readRecords=function(t,e,n,i,r,o){t:while(1){var a="";while(e<t.length){var s=t[e++];if(10==s){var l=a.split("\t");if(l[this.colSeq-1]==o){var c=parseInt(l[this.colStart-1]),u=c;this.colEnd>0&&(u=parseInt(l[this.colEnd-1])),65536&this.format&&++c,c<=r&&u>=i&&n.push(a)}continue t}a+=String.fromCharCode(s)}return}},F.prototype.fetchHeader=function(t,e){var n={metaOnly:!0,skipped:!1,nLines:0};e=e||n,Object.keys(n).forEach((function(t){e.hasOwnProperty(t)||(e[t]=n[t])}));var i=this;i.data.slice(0,i.headerMax).fetch((function(n){if(!n)return t(null,"Fetch failed");var r=new Uint8Array(j(n,n.byteLength)),o=0,a="",s=[];while(o<r.length){var l=r[o++];if(10==l){if(!(e.metaOnly&&a.charCodeAt(0)==i.meta||e.skipped&&s.length<i.skip||e.nLines&&s.length<e.nLines))return t(s);s.push(a),a=""}else a+=String.fromCharCode(l)}t(s)}))}},"1df8":function(t,e,n){var i=n("63b6");i(i.S,"Object",{setPrototypeOf:n("ead6").set})},"1e5b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("e5d5"),o=n("4cbb"),a=n("c9cf"),s=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){var e=this;r.addGlobalEventProcessor((function(n){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){if(e=r.getCurrentHub().getIntegration(t),e){try{if(e.shouldDropEvent(n,e.previousEvent))return[2,null]}catch(o){return[2,e.previousEvent=n]}return[2,e.previousEvent=n]}return[2,n]}))}))}))},t.prototype.shouldDropEvent=function(t,e){return!!e&&(this.isSameMessageEvent(t,e)?(o.logger.warn("Event dropped due to being a duplicate of previous event (same message).\nEvent: "+a.getEventDescription(t)),!0):!!this.isSameExceptionEvent(t,e)&&(o.logger.warn("Event dropped due to being a duplicate of previous event (same exception).\nEvent: "+a.getEventDescription(t)),!0))},t.prototype.isSameMessageEvent=function(t,e){var n=t.message,i=e.message;return!(!n&&!i)&&(!(n&&!i||!n&&i)&&(n===i&&(!!this.isSameFingerprint(t,e)&&!!this.isSameStacktrace(t,e))))},t.prototype.getFramesFromEvent=function(t){var e=t.exception;if(!e)return t.stacktrace?t.stacktrace.frames:void 0;try{return e.values[0].stacktrace.frames}catch(n){return}},t.prototype.isSameStacktrace=function(t,e){var n=this.getFramesFromEvent(t),i=this.getFramesFromEvent(e);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(n=n,i=i,i.length!==n.length)return!1;for(var r=0;r<i.length;r++){var o=i[r],a=n[r];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0},t.prototype.getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},t.prototype.isSameExceptionEvent=function(t,e){var n=this.getExceptionFromEvent(e),i=this.getExceptionFromEvent(t);return!(!n||!i)&&(n.type===i.type&&n.value===i.value&&(!!this.isSameFingerprint(t,e)&&!!this.isSameStacktrace(t,e)))},t.prototype.isSameFingerprint=function(t,e){var n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return!(n.join("")!==i.join(""))}catch(r){return!1}},t.id="Dedupe",t}();e.Dedupe=s},"1ec9":function(t,e,n){var i=n("f772"),r=n("e53d").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},"1f62":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"l",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return h})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"k",(function(){return m}));const i=void 0,r=Array,o=Boolean,a=(Date,Number),s=Object,l=(RegExp,String),c=[r,s],u=[r,s,l],h=[r,l],d=[o,a,l],f=[o,l],p=[a,l],m=[s,l]},"1fa8":function(t,n,i){var r=i("cb7c");t.exports=function(t,n,i,o){try{return o?n(r(i)[0],i[1]):n(i)}catch(e){var a=t["return"];throw void 0!==a&&r(a.call(t)),e}}},2011:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("4cbb"),o=n("7c84"),a=n("f60e"),s=n("199c"),l=function(){function t(t){this.options=t,this.options.dsn||r.logger.warn("No DSN provided, backend will not do anything."),this.transport=this.setupTransport()}return t.prototype.setupTransport=function(){return new s.NoopTransport},t.prototype.eventFromException=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){throw new a.SentryError("Backend has to implement `eventFromException` method")}))}))},t.prototype.eventFromMessage=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){throw new a.SentryError("Backend has to implement `eventFromMessage` method")}))}))},t.prototype.sendEvent=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.transport.captureEvent?[2,this.transport.captureEvent(t)]:[2,this.transport.sendEvent(o.serialize(t))]}))}))},t.prototype.storeBreadcrumb=function(t){return!0},t.prototype.storeScope=function(t){},t.prototype.getTransport=function(){return this.transport},t}();e.BaseBackend=l},"20d6":function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"20fd":function(t,e,n){"use strict";var i=n("d9f6"),r=n("aebd");t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),r=n("32e9"),o=n("79e5"),a=n("be13"),s=n("2b4c"),l=n("520a"),c=s("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),f=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=f?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e})):void 0;if(!f||!p||"replace"===t&&!u||"split"===t&&!h){var m=/./[d],g=n(a,d,""[t],(function(t,e,n,i,r){return e.exec===l?f&&!r?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),b=g[0],v=g[1];i(String.prototype,t,b),r(RegExp.prototype,d,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},"230e":function(t,e,n){var i=n("d3f4"),r=n("7726").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},2389:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2b0e"),r=n("8c63"),o=n("46d3"),a=n("17cc");const s=i["a"].extend({methods:{hasNormalizedSlot(t=r["b"],e=this.$scopedSlots,n=this.$slots){return Object(o["a"])(t,e,n)},normalizeSlot(t=r["b"],e={},n=this.$scopedSlots,i=this.$slots){const s=Object(o["b"])(t,e,n,i);return s?Object(a["b"])(s):s}}})},2397:function(t,e,n){var i=n("5ca1"),r=n("2aeb"),o=n("d8e8"),a=n("cb7c"),s=n("d3f4"),l=n("79e5"),c=n("f0c1"),u=(n("7726").Reflect||{}).construct,h=l((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),d=!l((function(){u((function(){}))}));i(i.S+i.F*(h||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!h)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var l=n.prototype,f=r(s(l)?l:Object.prototype),p=Function.apply.call(t,f,e);return s(p)?p:f}})},"23c6":function(t,n,i){var r=i("2d95"),o=i("2b4c")("toStringTag"),a="Arguments"==r(function(){return arguments}()),s=function(t,n){try{return t[n]}catch(e){}};t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},"241e":function(t,e,n){var i=n("25eb");t.exports=function(t){return Object(i(t))}},"25b0":function(t,e,n){n("1df8"),t.exports=n("584a").Object.setPrototypeOf},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},2629:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("2b0e"),r=n("8112");const o=i["a"].extend({computed:{scopedStyleAttrs(){const t=Object(r["a"])(this.$parent);return t?{[t]:""}:{}}}})},"27ee":function(t,e,n){var i=n("23c6"),r=n("2b4c")("iterator"),o=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},2877:function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return i}))},"28a5":function(t,e,n){"use strict";var i=n("aae3"),r=n("cb7c"),o=n("ebd6"),a=n("0390"),s=n("9def"),l=n("5f1b"),c=n("520a"),u=n("79e5"),h=Math.min,d=[].push,f="split",p="length",m="lastIndex",g=4294967295,b=!u((function(){RegExp(g,"y")}));n("214f")("split",2,(function(t,e,n,u){var v;return v="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,f=void 0===e?g:e>>>0,b=new RegExp(t.source,u+"g");while(o=c.call(b,r)){if(a=b[m],a>h&&(l.push(r.slice(h,o.index)),o[p]>1&&o.index<r[p]&&d.apply(l,o.slice(1)),s=o[0][p],h=a,l[p]>=f))break;b[m]===o.index&&b[m]++}return h===r[p]?!s&&b.test("")||l.push(""):l.push(r.slice(h)),l[p]>f?l.slice(0,f):l}:"0"[f](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r,i):v.call(String(r),n,i)},function(t,e){var i=u(v,t,this,e,v!==n);if(i.done)return i.value;var c=r(t),d=String(this),f=o(c,RegExp),p=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(b?"y":"g"),y=new f(b?c:"^(?:"+c.source+")",m),_=void 0===e?g:e>>>0;if(0===_)return[];if(0===d.length)return null===l(y,d)?[d]:[];var w=0,x=0,E=[];while(x<d.length){y.lastIndex=b?x:0;var C,k=l(y,b?d:d.slice(x));if(null===k||(C=h(s(y.lastIndex+(b?0:x)),d.length))===w)x=a(d,x,p);else{if(E.push(d.slice(w,x)),E.length===_)return E;for(var M=1;M<=k.length-1;M++)if(E.push(k[M]),E.length===_)return E;x=w=C}}return E.push(d.slice(w)),E}]}))},"294c":function(t,n){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"29b3":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=t=>t},"29f3":function(t,e){var n=Object.prototype,i=n.toString;function r(t){return i.call(t)}t.exports=r},"2aba":function(t,e,n){var i=n("7726"),r=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),s=n("fa5b"),l="toString",c=(""+s).split(l);n("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||r(n,a,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},"2aeb":function(t,e,n){var i=n("cb7c"),r=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},l="prototype",c=function(){var t,e=n("230e")("iframe"),i=o.length,r="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+a+"document.F=Object"+r+"/script"+a),t.close(),c=t.F;while(i--)delete c[l][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=i(t),n=new s,s[l]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},"2b0e":function(t,n,i){"use strict";(function(t){
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function r(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function a(t){return!0===t}function s(t){return!1===t}function l(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return null!==t&&"object"===typeof t}var u=Object.prototype.toString;function h(t){return"[object Object]"===u.call(t)}function d(t){return"[object RegExp]"===u.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return o(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function m(t){return null==t?"":Array.isArray(t)||h(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function b(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}b("slot,component",!0);var v=b("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function w(t,e){return _.call(t,e)}function x(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var E=/-(\w)/g,C=x((function(t){return t.replace(E,(function(t,e){return e?e.toUpperCase():""}))})),k=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),M=/\B([A-Z])/g,O=x((function(t){return t.replace(M,"-$1").toLowerCase()}));function T(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function S(t,e){return t.bind(e)}var R=Function.prototype.bind?S:T;function j(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function L(t,e){for(var n in e)t[n]=e[n];return t}function A(t){for(var e={},n=0;n<t.length;n++)t[n]&&L(e,t[n]);return e}function D(t,e,n){}var z=function(t,e,n){return!1},P=function(t){return t};function N(t,n){if(t===n)return!0;var i=c(t),r=c(n);if(!i||!r)return!i&&!r&&String(t)===String(n);try{var o=Array.isArray(t),a=Array.isArray(n);if(o&&a)return t.length===n.length&&t.every((function(t,e){return N(t,n[e])}));if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();if(o||a)return!1;var s=Object.keys(t),l=Object.keys(n);return s.length===l.length&&s.every((function(e){return N(t[e],n[e])}))}catch(e){return!1}}function F(t,e){for(var n=0;n<t.length;n++)if(N(t[n],e))return n;return-1}function I(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var H="data-server-rendered",B=["component","directive","filter"],$=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:z,isReservedAttr:z,isUnknownElement:z,getTagNamespace:D,parsePlatformTagName:P,mustUseProp:z,async:!0,_lifecycleHooks:$},W=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function U(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var q=new RegExp("[^"+W.source+".$_\\d]");function Y(t){if(!q.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var X,K="__proto__"in{},J="undefined"!==typeof window,Z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=Z&&WXEnvironment.platform.toLowerCase(),tt=J&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,it=tt&&tt.indexOf("edge/")>0,rt=(tt&&tt.indexOf("android"),tt&&/iphone|ipad|ipod|ios/.test(tt)||"ios"===Q),ot=(tt&&/chrome\/\d+/.test(tt),tt&&/phantomjs/.test(tt),tt&&tt.match(/firefox\/(\d+)/)),at={}.watch,st=!1;if(J)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,lt)}catch(e){}var ct=function(){return void 0===X&&(X=!J&&!Z&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),X},ut=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ht(t){return"function"===typeof t&&/native code/.test(t.toString())}var dt,ft="undefined"!==typeof Symbol&&ht(Symbol)&&"undefined"!==typeof Reflect&&ht(Reflect.ownKeys);dt="undefined"!==typeof Set&&ht(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=D,mt=0,gt=function(){this.id=mt++,this.subs=[]};gt.prototype.addSub=function(t){this.subs.push(t)},gt.prototype.removeSub=function(t){y(this.subs,t)},gt.prototype.depend=function(){gt.target&&gt.target.addDep(this)},gt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},gt.target=null;var bt=[];function vt(t){bt.push(t),gt.target=t}function yt(){bt.pop(),gt.target=bt[bt.length-1]}var _t=function(t,e,n,i,r,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},wt={child:{configurable:!0}};wt.child.get=function(){return this.componentInstance},Object.defineProperties(_t.prototype,wt);var xt=function(t){void 0===t&&(t="");var e=new _t;return e.text=t,e.isComment=!0,e};function Et(t){return new _t(void 0,void 0,void 0,String(t))}function Ct(t){var e=new _t(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var kt=Array.prototype,Mt=Object.create(kt),Ot=["push","pop","shift","unshift","splice","sort","reverse"];Ot.forEach((function(t){var e=kt[t];G(Mt,t,(function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var r,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&a.observeArray(r),a.dep.notify(),o}))}));var Tt=Object.getOwnPropertyNames(Mt),St=!0;function Rt(t){St=t}var jt=function(t){this.value=t,this.dep=new gt,this.vmCount=0,G(t,"__ob__",this),Array.isArray(t)?(K?Lt(t,Mt):At(t,Mt,Tt),this.observeArray(t)):this.walk(t)};function Lt(t,e){t.__proto__=e}function At(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];G(t,o,e[o])}}function Dt(t,e){var n;if(c(t)&&!(t instanceof _t))return w(t,"__ob__")&&t.__ob__ instanceof jt?n=t.__ob__:St&&!ct()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new jt(t)),e&&n&&n.vmCount++,n}function zt(t,e,n,i,r){var o=new gt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=t[e]);var c=!r&&Dt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return gt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Ft(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!==e&&i!==i||s&&!l||(l?l.call(t,e):n=e,c=!r&&Dt(e),o.notify())}})}}function Pt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(zt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Nt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ft(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Ft(e)}jt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)zt(t,e[n])},jt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Dt(t[e])};var It=V.optionMergeStrategies;function Ht(t,e){if(!e)return t;for(var n,i,r,o=ft?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(i=t[n],r=e[n],w(t,n)?i!==r&&h(i)&&h(r)&&Ht(i,r):Pt(t,n,r));return t}function Bt(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,r="function"===typeof t?t.call(n,n):t;return i?Ht(i,r):r}:e?t?function(){return Ht("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function $t(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Vt(n):n}function Vt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Wt(t,e,n,i){var r=Object.create(t||null);return e?L(r,e):r}It.data=function(t,e,n){return n?Bt(t,e,n):e&&"function"!==typeof e?t:Bt(t,e)},$.forEach((function(t){It[t]=$t})),B.forEach((function(t){It[t+"s"]=Wt})),It.watch=function(t,e,n,i){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in L(r,t),e){var a=r[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},It.props=It.methods=It.inject=It.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return L(r,t),e&&L(r,e),r},It.provide=Bt;var Ut=function(t,e){return void 0===e?t:e};function Gt(t,e){var n=t.props;if(n){var i,r,o,a={};if(Array.isArray(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(o=C(r),a[o]={type:null})}else if(h(n))for(var s in n)r=n[s],o=C(s),a[o]=h(r)?r:{type:r};else 0;t.props=a}}function qt(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(h(n))for(var o in n){var a=n[o];i[o]=h(a)?L({from:o},a):{from:a}}else 0}}function Yt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function Xt(t,e,n){if("function"===typeof e&&(e=e.options),Gt(e,n),qt(e,n),Yt(e),!e._base&&(e.extends&&(t=Xt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Xt(t,e.mixins[i],n);var o,a={};for(o in t)s(o);for(o in e)w(t,o)||s(o);function s(i){var r=It[i]||Ut;a[i]=r(t[i],e[i],n,i)}return a}function Kt(t,e,n,i){if("string"===typeof n){var r=t[e];if(w(r,n))return r[n];var o=C(n);if(w(r,o))return r[o];var a=k(o);if(w(r,a))return r[a];var s=r[n]||r[o]||r[a];return s}}function Jt(t,e,n,i){var r=e[t],o=!w(n,t),a=n[t],s=ne(Boolean,r.type);if(s>-1)if(o&&!w(r,"default"))a=!1;else if(""===a||a===O(t)){var l=ne(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=Zt(i,r,t);var c=St;Rt(!0),Dt(a),Rt(c)}return a}function Zt(t,e,n){if(w(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==te(e.type)?i.call(t):i}}var Qt=/^\s*function (\w+)/;function te(t){var e=t&&t.toString().match(Qt);return e?e[1]:""}function ee(t,e){return te(t)===te(e)}function ne(t,e){if(!Array.isArray(e))return ee(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(ee(e[n],t))return n;return-1}function ie(t,n,i){vt();try{if(n){var r=n;while(r=r.$parent){var o=r.$options.errorCaptured;if(o)for(var a=0;a<o.length;a++)try{var s=!1===o[a].call(r,t,n,i);if(s)return}catch(e){oe(e,r,"errorCaptured hook")}}}oe(t,n,i)}finally{yt()}}function re(t,n,i,r,o){var a;try{a=i?t.apply(n,i):t.call(n),a&&!a._isVue&&p(a)&&!a._handled&&(a.catch((function(t){return ie(t,r,o+" (Promise/async)")})),a._handled=!0)}catch(e){ie(e,r,o)}return a}function oe(t,n,i){if(V.errorHandler)try{return V.errorHandler.call(null,t,n,i)}catch(e){e!==t&&ae(e,null,"config.errorHandler")}ae(t,n,i)}function ae(t,e,n){if(!J&&!Z||"undefined"===typeof console)throw t;console.error(t)}var se,le=!1,ce=[],ue=!1;function he(){ue=!1;var t=ce.slice(0);ce.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ht(Promise)){var de=Promise.resolve();se=function(){de.then(he),rt&&setTimeout(D)},le=!0}else if(et||"undefined"===typeof MutationObserver||!ht(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())se="undefined"!==typeof setImmediate&&ht(setImmediate)?function(){setImmediate(he)}:function(){setTimeout(he,0)};else{var fe=1,pe=new MutationObserver(he),me=document.createTextNode(String(fe));pe.observe(me,{characterData:!0}),se=function(){fe=(fe+1)%2,me.data=String(fe)},le=!0}function ge(t,n){var i;if(ce.push((function(){if(t)try{t.call(n)}catch(e){ie(e,n,"nextTick")}else i&&i(n)})),ue||(ue=!0,se()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){i=t}))}var be=new dt;function ve(t){ye(t,be),be.clear()}function ye(t,e){var n,i,r=Array.isArray(t);if(!(!r&&!c(t)||Object.isFrozen(t)||t instanceof _t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(r){n=t.length;while(n--)ye(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)ye(t[i[n]],e)}}}var _e=x((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}));function we(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return re(i,null,arguments,e,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)re(r[o],null,t,e,"v-on handler")}return n.fns=t,n}function xe(t,e,n,i,o,s){var l,c,u,h;for(l in t)c=t[l],u=e[l],h=_e(l),r(c)||(r(u)?(r(c.fns)&&(c=t[l]=we(c,s)),a(h.once)&&(c=t[l]=o(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)r(t[l])&&(h=_e(l),i(h.name,e[l],h.capture))}function Ee(t,e,n){var i;t instanceof _t&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function l(){n.apply(this,arguments),y(i.fns,l)}r(s)?i=we([l]):o(s.fns)&&a(s.merged)?(i=s,i.fns.push(l)):i=we([s,l]),i.merged=!0,t[e]=i}function Ce(t,e,n){var i=e.options.props;if(!r(i)){var a={},s=t.attrs,l=t.props;if(o(s)||o(l))for(var c in i){var u=O(c);ke(a,l,c,u,!0)||ke(a,s,c,u,!1)}return a}}function ke(t,e,n,i,r){if(o(e)){if(w(e,n))return t[n]=e[n],r||delete e[n],!0;if(w(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function Me(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Oe(t){return l(t)?[Et(t)]:Array.isArray(t)?Se(t):void 0}function Te(t){return o(t)&&o(t.text)&&s(t.isComment)}function Se(t,e){var n,i,s,c,u=[];for(n=0;n<t.length;n++)i=t[n],r(i)||"boolean"===typeof i||(s=u.length-1,c=u[s],Array.isArray(i)?i.length>0&&(i=Se(i,(e||"")+"_"+n),Te(i[0])&&Te(c)&&(u[s]=Et(c.text+i[0].text),i.shift()),u.push.apply(u,i)):l(i)?Te(c)?u[s]=Et(c.text+i):""!==i&&u.push(Et(i)):Te(i)&&Te(c)?u[s]=Et(c.text+i.text):(a(t._isVList)&&o(i.tag)&&r(i.key)&&o(e)&&(i.key="__vlist"+e+"_"+n+"__"),u.push(i)));return u}function Re(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function je(t){var e=Le(t.$options.inject,t);e&&(Rt(!1),Object.keys(e).forEach((function(n){zt(t,n,e[n])})),Rt(!0))}function Le(t,e){if(t){for(var n=Object.create(null),i=ft?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&w(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var l=t[o].default;n[o]="function"===typeof l?l.call(e):l}else 0}}return n}}function Ae(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var o=t[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(De)&&delete n[c];return n}function De(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ze(t){return t.isComment&&t.asyncFactory}function Pe(t,e,n){var r,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==i&&s===n.$key&&!o&&!n.$hasNormal)return n;for(var l in r={},t)t[l]&&"$"!==l[0]&&(r[l]=Ne(e,l,t[l]))}else r={};for(var c in e)c in r||(r[c]=Fe(e,c));return t&&Object.isExtensible(t)&&(t._normalized=r),G(r,"$stable",a),G(r,"$key",s),G(r,"$hasNormal",o),r}function Ne(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Oe(t);var e=t&&t[0];return t&&(!e||1===t.length&&e.isComment&&!ze(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Fe(t,e){return function(){return t[e]}}function Ie(t,e){var n,i,r,a,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(c(t))if(ft&&t[Symbol.iterator]){n=[];var l=t[Symbol.iterator](),u=l.next();while(!u.done)n.push(e(u.value,n.length)),u=l.next()}else for(a=Object.keys(t),n=new Array(a.length),i=0,r=a.length;i<r;i++)s=a[i],n[i]=e(t[s],s,i);return o(n)||(n=[]),n._isVList=!0,n}function He(t,e,n,i){var r,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=L(L({},i),n)),r=o(n)||("function"===typeof e?e():e)):r=this.$slots[t]||("function"===typeof e?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function Be(t){return Kt(this.$options,"filters",t,!0)||P}function $e(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ve(t,e,n,i,r){var o=V.keyCodes[e]||n;return r&&i&&!V.keyCodes[e]?$e(r,i):o?$e(o,t):i?O(i)!==e:void 0===t}function We(t,e,n,i,r){if(n)if(c(n)){var o;Array.isArray(n)&&(n=A(n));var a=function(a){if("class"===a||"style"===a||v(a))o=t;else{var s=t.attrs&&t.attrs.type;o=i||V.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=C(a),c=O(a);if(!(l in o)&&!(c in o)&&(o[a]=n[a],r)){var u=t.on||(t.on={});u["update:"+a]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function Ue(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),qe(i,"__static__"+t,!1)),i}function Ge(t,e,n){return qe(t,"__once__"+e+(n?"_"+n:""),!0),t}function qe(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&Ye(t[i],e+"_"+i,n);else Ye(t,e,n)}function Ye(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Xe(t,e){if(e)if(h(e)){var n=t.on=t.on?L({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}else;return t}function Ke(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?Ke(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return i&&(e.$key=i),e}function Je(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Ze(t,e){return"string"===typeof t?e+t:t}function Qe(t){t._o=Ge,t._n=g,t._s=m,t._l=Ie,t._t=He,t._q=N,t._i=F,t._m=Ue,t._f=Be,t._k=Ve,t._b=We,t._v=Et,t._e=xt,t._u=Ke,t._g=Xe,t._d=Je,t._p=Ze}function tn(t,e,n,r,o){var s,l=this,c=o.options;w(r,"_uid")?(s=Object.create(r),s._original=r):(s=r,r=r._original);var u=a(c._compiled),h=!u;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=Le(c.inject,r),this.slots=function(){return l.$slots||Pe(t.scopedSlots,l.$slots=Ae(n,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pe(t.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Pe(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,i){var o=pn(s,t,e,n,i,h);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,i){return pn(s,t,e,n,i,h)}}function en(t,e,n,r,a){var s=t.options,l={},c=s.props;if(o(c))for(var u in c)l[u]=Jt(u,c,e||i);else o(n.attrs)&&rn(l,n.attrs),o(n.props)&&rn(l,n.props);var h=new tn(n,l,a,r,t),d=s.render.call(null,h._c,h);if(d instanceof _t)return nn(d,n,h.parent,s,h);if(Array.isArray(d)){for(var f=Oe(d)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=nn(f[m],n,h.parent,s,h);return p}}function nn(t,e,n,i,r){var o=Ct(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function rn(t,e){for(var n in e)t[C(n)]=e[n]}Qe(tn.prototype);var on={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;on.prepatch(n,n)}else{var i=t.componentInstance=ln(t,Ln);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Nn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bn(n,"mounted")),t.data.keepAlive&&(e._isMounted?ti(n):In(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Hn(e,!0):e.$destroy())}},an=Object.keys(on);function sn(t,e,n,i,s){if(!r(t)){var l=n.$options._base;if(c(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(r(t.cid)&&(u=t,t=Cn(u,l),void 0===t))return En(u,e,n,i,s);e=e||{},Ei(t),o(e.model)&&hn(t.options,e);var h=Ce(e,t,s);if(a(t.options.functional))return en(t,h,e,n,i);var d=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}cn(e);var p=t.options.name||s,m=new _t("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:d,tag:s,children:i},u);return m}}}function ln(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return o(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function cn(t){for(var e=t.hook||(t.hook={}),n=0;n<an.length;n++){var i=an[n],r=e[i],o=on[i];r===o||r&&r._merged||(e[i]=r?un(o,r):o)}}function un(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function hn(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var r=e.on||(e.on={}),a=r[i],s=e.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(r[i]=[s].concat(a)):r[i]=s}var dn=1,fn=2;function pn(t,e,n,i,r,o){return(Array.isArray(n)||l(n))&&(r=i,i=n,n=void 0),a(o)&&(r=fn),mn(t,e,n,i,r)}function mn(t,e,n,i,r){if(o(n)&&o(n.__ob__))return xt();if(o(n)&&o(n.is)&&(e=n.is),!e)return xt();var a,s,l;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),r===fn?i=Oe(i):r===dn&&(i=Me(i)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||V.getTagNamespace(e),a=V.isReservedTag(e)?new _t(V.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!o(l=Kt(t.$options,"components",e))?new _t(e,n,i,void 0,void 0,t):sn(l,n,t,i,e)):a=sn(e,n,t,i);return Array.isArray(a)?a:o(a)?(o(s)&&gn(a,s),o(n)&&bn(n),a):xt()}function gn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var i=0,s=t.children.length;i<s;i++){var l=t.children[i];o(l.tag)&&(r(l.ns)||a(n)&&"svg"!==l.tag)&&gn(l,e,n)}}function bn(t){c(t.style)&&ve(t.style),c(t.class)&&ve(t.class)}function vn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Ae(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,n,i,r){return pn(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return pn(t,e,n,i,r,!0)};var o=n&&n.data;zt(t,"$attrs",o&&o.attrs||i,null,!0),zt(t,"$listeners",e._parentListeners||i,null,!0)}var yn,_n=null;function wn(t){Qe(t.prototype),t.prototype.$nextTick=function(t){return ge(t,this)},t.prototype._render=function(){var t,n=this,i=n.$options,r=i.render,o=i._parentVnode;o&&(n.$scopedSlots=Pe(o.data.scopedSlots,n.$slots,n.$scopedSlots)),n.$vnode=o;try{_n=n,t=r.call(n._renderProxy,n.$createElement)}catch(e){ie(e,n,"render"),t=n._vnode}finally{_n=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof _t||(t=xt()),t.parent=o,t}}function xn(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function En(t,e,n,i,r){var o=xt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}function Cn(t,e){if(a(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=_n;if(n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var i=t.owners=[n],s=!0,l=null,u=null;n.$on("hook:destroyed",(function(){return y(i,n)}));var h=function(t){for(var e=0,n=i.length;e<n;e++)i[e].$forceUpdate();t&&(i.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},d=I((function(n){t.resolved=xn(n,e),s?i.length=0:h(!0)})),f=I((function(e){o(t.errorComp)&&(t.error=!0,h(!0))})),m=t(d,f);return c(m)&&(p(m)?r(t.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),o(m.error)&&(t.errorComp=xn(m.error,e)),o(m.loading)&&(t.loadingComp=xn(m.loading,e),0===m.delay?t.loading=!0:l=setTimeout((function(){l=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,h(!1))}),m.delay||200)),o(m.timeout)&&(u=setTimeout((function(){u=null,r(t.resolved)&&f(null)}),m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function kn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||ze(n)))return n}}function Mn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Rn(t,e)}function On(t,e){yn.$on(t,e)}function Tn(t,e){yn.$off(t,e)}function Sn(t,e){var n=yn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function Rn(t,e,n){yn=t,xe(e,n||{},On,Tn,Sn,t),yn=void 0}function jn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?j(n):n;for(var i=j(arguments,1),r='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)re(n[o],e,i,e,r)}return e}}var Ln=null;function An(t){var e=Ln;return Ln=t,function(){Ln=e}}function Dn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function zn(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,o=An(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Pn(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=xt),Bn(t,"beforeMount"),i=function(){t._update(t._render(),n)},new ri(t,i,D,{before:function(){t._isMounted&&!t._isDestroyed&&Bn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Bn(t,"mounted")),t}function Nn(t,e,n,r,o){var a=r.data.scopedSlots,s=t.$scopedSlots,l=!!(a&&!a.$stable||s!==i&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||l);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){Rt(!1);for(var u=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var f=h[d],p=t.$options.props;u[f]=Jt(f,p,e,t)}Rt(!0),t.$options.propsData=e}n=n||i;var m=t.$options._parentListeners;t.$options._parentListeners=n,Rn(t,n,m),c&&(t.$slots=Ae(o,r.context),t.$forceUpdate())}function Fn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function In(t,e){if(e){if(t._directInactive=!1,Fn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)In(t.$children[n]);Bn(t,"activated")}}function Hn(t,e){if((!e||(t._directInactive=!0,!Fn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Hn(t.$children[n]);Bn(t,"deactivated")}}function Bn(t,e){vt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,o=n.length;r<o;r++)re(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),yt()}var $n=[],Vn=[],Wn={},Un=!1,Gn=!1,qn=0;function Yn(){qn=$n.length=Vn.length=0,Wn={},Un=Gn=!1}var Xn=0,Kn=Date.now;if(J&&!et){var Jn=window.performance;Jn&&"function"===typeof Jn.now&&Kn()>document.createEvent("Event").timeStamp&&(Kn=function(){return Jn.now()})}function Zn(){var t,e;for(Xn=Kn(),Gn=!0,$n.sort((function(t,e){return t.id-e.id})),qn=0;qn<$n.length;qn++)t=$n[qn],t.before&&t.before(),e=t.id,Wn[e]=null,t.run();var n=Vn.slice(),i=$n.slice();Yn(),ei(n),Qn(i),ut&&V.devtools&&ut.emit("flush")}function Qn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Bn(i,"updated")}}function ti(t){t._inactive=!1,Vn.push(t)}function ei(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,In(t[e],!0)}function ni(t){var e=t.id;if(null==Wn[e]){if(Wn[e]=!0,Gn){var n=$n.length-1;while(n>qn&&$n[n].id>t.id)n--;$n.splice(n+1,0,t)}else $n.push(t);Un||(Un=!0,ge(Zn))}}var ii=0,ri=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ii,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dt,this.newDepIds=new dt,this.expression="","function"===typeof e?this.getter=e:(this.getter=Y(e),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()};ri.prototype.get=function(){var t;vt(this);var n=this.vm;try{t=this.getter.call(n,n)}catch(e){if(!this.user)throw e;ie(e,n,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ve(t),yt(),this.cleanupDeps()}return t},ri.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ri.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ri.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ni(this)},ri.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';re(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},ri.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ri.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},ri.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var oi={enumerable:!0,configurable:!0,get:D,set:D};function ai(t,e,n){oi.get=function(){return this[e][n]},oi.set=function(t){this[e][n]=t},Object.defineProperty(t,n,oi)}function si(t){t._watchers=[];var e=t.$options;e.props&&li(t,e.props),e.methods&&gi(t,e.methods),e.data?ci(t):Dt(t._data={},!0),e.computed&&di(t,e.computed),e.watch&&e.watch!==at&&bi(t,e.watch)}function li(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],o=!t.$parent;o||Rt(!1);var a=function(o){r.push(o);var a=Jt(o,e,n,t);zt(i,o,a),o in t||ai(t,"_props",o)};for(var s in e)a(s);Rt(!0)}function ci(t){var e=t.$options.data;e=t._data="function"===typeof e?ui(e,t):e||{},h(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var o=n[r];0,i&&w(i,o)||U(o)||ai(t,"_data",o)}Dt(e,!0)}function ui(t,n){vt();try{return t.call(n,n)}catch(e){return ie(e,n,"data()"),{}}finally{yt()}}var hi={lazy:!0};function di(t,e){var n=t._computedWatchers=Object.create(null),i=ct();for(var r in e){var o=e[r],a="function"===typeof o?o:o.get;0,i||(n[r]=new ri(t,a||D,D,hi)),r in t||fi(t,r,o)}}function fi(t,e,n){var i=!ct();"function"===typeof n?(oi.get=i?pi(e):mi(n),oi.set=D):(oi.get=n.get?i&&!1!==n.cache?pi(e):mi(n.get):D,oi.set=n.set||D),Object.defineProperty(t,e,oi)}function pi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),gt.target&&e.depend(),e.value}}function mi(t){return function(){return t.call(this,this)}}function gi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?D:R(e[n],t)}function bi(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)vi(t,n,i[r]);else vi(t,n,i)}}function vi(t,e,n,i){return h(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function yi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Pt,t.prototype.$delete=Nt,t.prototype.$watch=function(t,e,n){var i=this;if(h(e))return vi(i,t,e,n);n=n||{},n.user=!0;var r=new ri(i,t,e,n);if(n.immediate){var o='callback for immediate watcher "'+r.expression+'"';vt(),re(e,i,[r.value],i,o),yt()}return function(){r.teardown()}}}var _i=0;function wi(t){t.prototype._init=function(t){var e=this;e._uid=_i++,e._isVue=!0,t&&t._isComponent?xi(e,t):e.$options=Xt(Ei(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Dn(e),Mn(e),vn(e),Bn(e,"beforeCreate"),je(e),si(e),Re(e),Bn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function xi(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Ei(t){var e=t.options;if(t.super){var n=Ei(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=Ci(t);r&&L(t.extendOptions,r),e=t.options=Xt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Ci(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function ki(t){this._init(t)}function Mi(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=j(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Oi(t){t.mixin=function(t){return this.options=Xt(this.options,t),this}}function Ti(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Xt(n.options,t),a["super"]=n,a.options.props&&Si(a),a.options.computed&&Ri(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,B.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=L({},a.options),r[i]=a,a}}function Si(t){var e=t.options.props;for(var n in e)ai(t.prototype,"_props",n)}function Ri(t){var e=t.options.computed;for(var n in e)fi(t.prototype,n,e[n])}function ji(t){B.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&h(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Li(t){return t&&(t.Ctor.options.name||t.tag)}function Ai(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!d(t)&&t.test(e)}function Di(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var o in n){var a=n[o];if(a){var s=a.name;s&&!e(s)&&zi(n,o,i,r)}}}function zi(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,y(n,e)}wi(ki),yi(ki),jn(ki),zn(ki),wn(ki);var Pi=[String,RegExp,Array],Ni={name:"keep-alive",abstract:!0,props:{include:Pi,exclude:Pi,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,i=t.vnodeToCache,r=t.keyToCache;if(i){var o=i.tag,a=i.componentInstance,s=i.componentOptions;e[r]={name:Li(s),tag:o,componentInstance:a},n.push(r),this.max&&n.length>parseInt(this.max)&&zi(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)zi(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Di(t,(function(t){return Ai(e,t)}))})),this.$watch("exclude",(function(e){Di(t,(function(t){return!Ai(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=kn(t),n=e&&e.componentOptions;if(n){var i=Li(n),r=this,o=r.include,a=r.exclude;if(o&&(!i||!Ai(o,i))||a&&i&&Ai(a,i))return e;var s=this,l=s.cache,c=s.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,y(c,u),c.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},Fi={KeepAlive:Ni};function Ii(t){var e={get:function(){return V}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:L,mergeOptions:Xt,defineReactive:zt},t.set=Pt,t.delete=Nt,t.nextTick=ge,t.observable=function(t){return Dt(t),t},t.options=Object.create(null),B.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,L(t.options.components,Fi),Mi(t),Oi(t),Ti(t),ji(t)}Ii(ki),Object.defineProperty(ki.prototype,"$isServer",{get:ct}),Object.defineProperty(ki.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ki,"FunctionalRenderContext",{value:tn}),ki.version="2.6.14";var Hi=b("style,class"),Bi=b("input,textarea,option,select,progress"),$i=function(t,e,n){return"value"===n&&Bi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Vi=b("contenteditable,draggable,spellcheck"),Wi=b("events,caret,typing,plaintext-only"),Ui=function(t,e){return Ki(e)||"false"===e?"false":"contenteditable"===t&&Wi(e)?e:"true"},Gi=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),qi="http://www.w3.org/1999/xlink",Yi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Xi=function(t){return Yi(t)?t.slice(6,t.length):""},Ki=function(t){return null==t||!1===t};function Ji(t){var e=t.data,n=t,i=t;while(o(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Zi(i.data,e));while(o(n=n.parent))n&&n.data&&(e=Zi(e,n.data));return Qi(e.staticClass,e.class)}function Zi(t,e){return{staticClass:tr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Qi(t,e){return o(t)||o(e)?tr(t,er(e)):""}function tr(t,e){return t?e?t+" "+e:t:e||""}function er(t){return Array.isArray(t)?nr(t):c(t)?ir(t):"string"===typeof t?t:""}function nr(t){for(var e,n="",i=0,r=t.length;i<r;i++)o(e=er(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ir(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var rr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},or=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ar=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),sr=function(t){return or(t)||ar(t)};function lr(t){return ar(t)?"svg":"math"===t?"math":void 0}var cr=Object.create(null);function ur(t){if(!J)return!0;if(sr(t))return!1;if(t=t.toLowerCase(),null!=cr[t])return cr[t];var e=document.createElement(t);return t.indexOf("-")>-1?cr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:cr[t]=/HTMLUnknownElement/.test(e.toString())}var hr=b("text,number,password,search,email,tel,url");function dr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function fr(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function pr(t,e){return document.createElementNS(rr[t],e)}function mr(t){return document.createTextNode(t)}function gr(t){return document.createComment(t)}function br(t,e,n){t.insertBefore(e,n)}function vr(t,e){t.removeChild(e)}function yr(t,e){t.appendChild(e)}function _r(t){return t.parentNode}function wr(t){return t.nextSibling}function xr(t){return t.tagName}function Er(t,e){t.textContent=e}function Cr(t,e){t.setAttribute(e,"")}var kr=Object.freeze({createElement:fr,createElementNS:pr,createTextNode:mr,createComment:gr,insertBefore:br,removeChild:vr,appendChild:yr,parentNode:_r,nextSibling:wr,tagName:xr,setTextContent:Er,setStyleScope:Cr}),Mr={create:function(t,e){Or(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Or(t,!0),Or(e))},destroy:function(t){Or(t,!0)}};function Or(t,e){var n=t.data.ref;if(o(n)){var i=t.context,r=t.componentInstance||t.elm,a=i.$refs;e?Array.isArray(a[n])?y(a[n],r):a[n]===r&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(r)<0&&a[n].push(r):a[n]=[r]:a[n]=r}}var Tr=new _t("",{},[]),Sr=["create","activate","update","remove","destroy"];function Rr(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&jr(t,e)||a(t.isAsyncPlaceholder)&&r(e.asyncFactory.error))}function jr(t,e){if("input"!==t.tag)return!0;var n,i=o(n=t.data)&&o(n=n.attrs)&&n.type,r=o(n=e.data)&&o(n=n.attrs)&&n.type;return i===r||hr(i)&&hr(r)}function Lr(t,e,n){var i,r,a={};for(i=e;i<=n;++i)r=t[i].key,o(r)&&(a[r]=i);return a}function Ar(t){var e,n,i={},s=t.modules,c=t.nodeOps;for(e=0;e<Sr.length;++e)for(i[Sr[e]]=[],n=0;n<s.length;++n)o(s[n][Sr[e]])&&i[Sr[e]].push(s[n][Sr[e]]);function u(t){return new _t(c.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=c.parentNode(t);o(e)&&c.removeChild(e,t)}function f(t,e,n,i,r,s,l){if(o(t.elm)&&o(s)&&(t=s[l]=Ct(t)),t.isRootInsert=!r,!p(t,e,n,i)){var u=t.data,h=t.children,d=t.tag;o(d)?(t.elm=t.ns?c.createElementNS(t.ns,d):c.createElement(d,t),x(t),y(t,h,e),o(u)&&w(t,e),v(n,t.elm,i)):a(t.isComment)?(t.elm=c.createComment(t.text),v(n,t.elm,i)):(t.elm=c.createTextNode(t.text),v(n,t.elm,i))}}function p(t,e,n,i){var r=t.data;if(o(r)){var s=o(t.componentInstance)&&r.keepAlive;if(o(r=r.hook)&&o(r=r.init)&&r(t,!1),o(t.componentInstance))return m(t,e),v(n,t.elm,i),a(s)&&g(t,e,n,i),!0}}function m(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,_(t)?(w(t,e),x(t)):(Or(t),e.push(t))}function g(t,e,n,r){var a,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,o(a=s.data)&&o(a=a.transition)){for(a=0;a<i.activate.length;++a)i.activate[a](Tr,s);e.push(s);break}v(n,t.elm,r)}function v(t,e,n){o(t)&&(o(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function y(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)f(e[i],n,t.elm,null,!0,e,i)}else l(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function _(t){while(t.componentInstance)t=t.componentInstance._vnode;return o(t.tag)}function w(t,n){for(var r=0;r<i.create.length;++r)i.create[r](Tr,t);e=t.data.hook,o(e)&&(o(e.create)&&e.create(Tr,t),o(e.insert)&&n.push(t))}function x(t){var e;if(o(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)o(e=n.context)&&o(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}o(e=Ln)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function E(t,e,n,i,r,o){for(;i<=r;++i)f(n[i],o,t,e,!1,n,i)}function C(t){var e,n,r=t.data;if(o(r))for(o(e=r.hook)&&o(e=e.destroy)&&e(t),e=0;e<i.destroy.length;++e)i.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)C(t.children[n])}function k(t,e,n){for(;e<=n;++e){var i=t[e];o(i)&&(o(i.tag)?(M(i),C(i)):d(i.elm))}}function M(t,e){if(o(e)||o(t.data)){var n,r=i.remove.length+1;for(o(e)?e.listeners+=r:e=h(t.elm,r),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&M(n,e),n=0;n<i.remove.length;++n)i.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else d(t.elm)}function O(t,e,n,i,a){var s,l,u,h,d=0,p=0,m=e.length-1,g=e[0],b=e[m],v=n.length-1,y=n[0],_=n[v],w=!a;while(d<=m&&p<=v)r(g)?g=e[++d]:r(b)?b=e[--m]:Rr(g,y)?(S(g,y,i,n,p),g=e[++d],y=n[++p]):Rr(b,_)?(S(b,_,i,n,v),b=e[--m],_=n[--v]):Rr(g,_)?(S(g,_,i,n,v),w&&c.insertBefore(t,g.elm,c.nextSibling(b.elm)),g=e[++d],_=n[--v]):Rr(b,y)?(S(b,y,i,n,p),w&&c.insertBefore(t,b.elm,g.elm),b=e[--m],y=n[++p]):(r(s)&&(s=Lr(e,d,m)),l=o(y.key)?s[y.key]:T(y,e,d,m),r(l)?f(y,i,t,g.elm,!1,n,p):(u=e[l],Rr(u,y)?(S(u,y,i,n,p),e[l]=void 0,w&&c.insertBefore(t,u.elm,g.elm)):f(y,i,t,g.elm,!1,n,p)),y=n[++p]);d>m?(h=r(n[v+1])?null:n[v+1].elm,E(t,h,n,p,v,i)):p>v&&k(e,d,m)}function T(t,e,n,i){for(var r=n;r<i;r++){var a=e[r];if(o(a)&&Rr(t,a))return r}}function S(t,e,n,s,l,u){if(t!==e){o(e.elm)&&o(s)&&(e=s[l]=Ct(e));var h=e.elm=t.elm;if(a(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?L(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,f=e.data;o(f)&&o(d=f.hook)&&o(d=d.prepatch)&&d(t,e);var p=t.children,m=e.children;if(o(f)&&_(e)){for(d=0;d<i.update.length;++d)i.update[d](t,e);o(d=f.hook)&&o(d=d.update)&&d(t,e)}r(e.text)?o(p)&&o(m)?p!==m&&O(h,p,m,n,u):o(m)?(o(t.text)&&c.setTextContent(h,""),E(h,null,m,0,m.length-1,n)):o(p)?k(p,0,p.length-1):o(t.text)&&c.setTextContent(h,""):t.text!==e.text&&c.setTextContent(h,e.text),o(f)&&o(d=f.hook)&&o(d=d.postpatch)&&d(t,e)}}}function R(t,e,n){if(a(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var j=b("attrs,class,staticClass,staticStyle,key");function L(t,e,n,i){var r,s=e.tag,l=e.data,c=e.children;if(i=i||l&&l.pre,e.elm=t,a(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(r=l.hook)&&o(r=r.init)&&r(e,!0),o(r=e.componentInstance)))return m(e,n),!0;if(o(s)){if(o(c))if(t.hasChildNodes())if(o(r=l)&&o(r=r.domProps)&&o(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,d=0;d<c.length;d++){if(!h||!L(h,c[d],n,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else y(e,c,n);if(o(l)){var f=!1;for(var p in l)if(!j(p)){f=!0,w(e,n);break}!f&&l["class"]&&ve(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!r(e)){var l=!1,h=[];if(r(t))l=!0,f(e,h);else{var d=o(t.nodeType);if(!d&&Rr(t,e))S(t,e,h,null,null,s);else{if(d){if(1===t.nodeType&&t.hasAttribute(H)&&(t.removeAttribute(H),n=!0),a(n)&&L(t,e,h))return R(e,h,!0),t;t=u(t)}var p=t.elm,m=c.parentNode(p);if(f(e,h,p._leaveCb?null:m,c.nextSibling(p)),o(e.parent)){var g=e.parent,b=_(e);while(g){for(var v=0;v<i.destroy.length;++v)i.destroy[v](g);if(g.elm=e.elm,b){for(var y=0;y<i.create.length;++y)i.create[y](Tr,g);var w=g.data.hook.insert;if(w.merged)for(var x=1;x<w.fns.length;x++)w.fns[x]()}else Or(g);g=g.parent}}o(m)?k([t],0,0):o(t.tag)&&C(t)}}return R(e,h,l),e.elm}o(t)&&C(t)}}var Dr={create:zr,update:zr,destroy:function(t){zr(t,Tr)}};function zr(t,e){(t.data.directives||e.data.directives)&&Pr(t,e)}function Pr(t,e){var n,i,r,o=t===Tr,a=e===Tr,s=Fr(t.data.directives,t.context),l=Fr(e.data.directives,e.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Hr(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Hr(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var n=0;n<c.length;n++)Hr(c[n],"inserted",e,t)};o?Ee(e,"insert",h):h()}if(u.length&&Ee(e,"postpatch",(function(){for(var n=0;n<u.length;n++)Hr(u[n],"componentUpdated",e,t)})),!o)for(n in s)l[n]||Hr(s[n],"unbind",t,t,a)}var Nr=Object.create(null);function Fr(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=Nr),r[Ir(i)]=i,i.def=Kt(e.$options,"directives",i.name,!0);return r}function Ir(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Hr(t,n,i,r,o){var a=t.def&&t.def[n];if(a)try{a(i.elm,t,i,r,o)}catch(e){ie(e,i.context,"directive "+t.name+" "+n+" hook")}}var Br=[Mr,Dr];function $r(t,e){var n=e.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var i,a,s,l=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(i in o(u.__ob__)&&(u=e.data.attrs=L({},u)),u)a=u[i],s=c[i],s!==a&&Vr(l,i,a,e.data.pre);for(i in(et||it)&&u.value!==c.value&&Vr(l,"value",u.value),c)r(u[i])&&(Yi(i)?l.removeAttributeNS(qi,Xi(i)):Vi(i)||l.removeAttribute(i))}}function Vr(t,e,n,i){i||t.tagName.indexOf("-")>-1?Wr(t,e,n):Gi(e)?Ki(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Vi(e)?t.setAttribute(e,Ui(e,n)):Yi(e)?Ki(n)?t.removeAttributeNS(qi,Xi(e)):t.setAttributeNS(qi,e,n):Wr(t,e,n)}function Wr(t,e,n){if(Ki(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var Ur={create:$r,update:$r};function Gr(t,e){var n=e.elm,i=e.data,a=t.data;if(!(r(i.staticClass)&&r(i.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Ji(e),l=n._transitionClasses;o(l)&&(s=tr(s,er(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var qr,Yr={create:Gr,update:Gr},Xr="__r",Kr="__c";function Jr(t){if(o(t[Xr])){var e=et?"change":"input";t[e]=[].concat(t[Xr],t[e]||[]),delete t[Xr]}o(t[Kr])&&(t.change=[].concat(t[Kr],t.change||[]),delete t[Kr])}function Zr(t,e,n){var i=qr;return function r(){var o=e.apply(null,arguments);null!==o&&eo(t,r,n,i)}}var Qr=le&&!(ot&&Number(ot[1])<=53);function to(t,e,n,i){if(Qr){var r=Xn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}qr.addEventListener(t,e,st?{capture:n,passive:i}:n)}function eo(t,e,n,i){(i||qr).removeEventListener(t,e._wrapper||e,n)}function no(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};qr=e.elm,Jr(n),xe(n,i,to,eo,Zr,e.context),qr=void 0}}var io,ro={create:no,update:no};function oo(t,n){if(!r(t.data.domProps)||!r(n.data.domProps)){var i,a,s=n.elm,l=t.data.domProps||{},c=n.data.domProps||{};for(i in o(c.__ob__)&&(c=n.data.domProps=L({},c)),l)i in c||(s[i]="");for(i in c){if(a=c[i],"textContent"===i||"innerHTML"===i){if(n.children&&(n.children.length=0),a===l[i])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===i&&"PROGRESS"!==s.tagName){s._value=a;var u=r(a)?"":String(a);ao(s,u)&&(s.value=u)}else if("innerHTML"===i&&ar(s.tagName)&&r(s.innerHTML)){io=io||document.createElement("div"),io.innerHTML="<svg>"+a+"</svg>";var h=io.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(h.firstChild)s.appendChild(h.firstChild)}else if(a!==l[i])try{s[i]=a}catch(e){}}}}function ao(t,e){return!t.composing&&("OPTION"===t.tagName||so(t,e)||lo(t,e))}function so(t,n){var i=!0;try{i=document.activeElement!==t}catch(e){}return i&&t.value!==n}function lo(t,e){var n=t.value,i=t._vModifiers;if(o(i)){if(i.number)return g(n)!==g(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var co={create:oo,update:oo},uo=x((function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function ho(t){var e=fo(t.style);return t.staticStyle?L(t.staticStyle,e):e}function fo(t){return Array.isArray(t)?A(t):"string"===typeof t?uo(t):t}function po(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=ho(r.data))&&L(i,n)}(n=ho(t.data))&&L(i,n);var o=t;while(o=o.parent)o.data&&(n=ho(o.data))&&L(i,n);return i}var mo,go=/^--/,bo=/\s*!important$/,vo=function(t,e,n){if(go.test(e))t.style.setProperty(e,n);else if(bo.test(n))t.style.setProperty(O(e),n.replace(bo,""),"important");else{var i=_o(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}},yo=["Webkit","Moz","ms"],_o=x((function(t){if(mo=mo||document.createElement("div").style,t=C(t),"filter"!==t&&t in mo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<yo.length;n++){var i=yo[n]+e;if(i in mo)return i}}));function wo(t,e){var n=e.data,i=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var a,s,l=e.elm,c=i.staticStyle,u=i.normalizedStyle||i.style||{},h=c||u,d=fo(e.data.style)||{};e.data.normalizedStyle=o(d.__ob__)?L({},d):d;var f=po(e,!0);for(s in h)r(f[s])&&vo(l,s,"");for(s in f)a=f[s],a!==h[s]&&vo(l,s,null==a?"":a)}}var xo={create:wo,update:wo},Eo=/\s+/;function Co(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Eo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ko(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Eo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Mo(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&L(e,Oo(t.name||"v")),L(e,t),e}return"string"===typeof t?Oo(t):void 0}}var Oo=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),To=J&&!nt,So="transition",Ro="animation",jo="transition",Lo="transitionend",Ao="animation",Do="animationend";To&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(jo="WebkitTransition",Lo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ao="WebkitAnimation",Do="webkitAnimationEnd"));var zo=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Po(t){zo((function(){zo(t)}))}function No(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Co(t,e))}function Fo(t,e){t._transitionClasses&&y(t._transitionClasses,e),ko(t,e)}function Io(t,e,n){var i=Bo(t,e),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===So?Lo:Do,l=0,c=function(){t.removeEventListener(s,u),n()},u=function(e){e.target===t&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),o+1),t.addEventListener(s,u)}var Ho=/\b(transform|all)(,|$)/;function Bo(t,e){var n,i=window.getComputedStyle(t),r=(i[jo+"Delay"]||"").split(", "),o=(i[jo+"Duration"]||"").split(", "),a=$o(r,o),s=(i[Ao+"Delay"]||"").split(", "),l=(i[Ao+"Duration"]||"").split(", "),c=$o(s,l),u=0,h=0;e===So?a>0&&(n=So,u=a,h=o.length):e===Ro?c>0&&(n=Ro,u=c,h=l.length):(u=Math.max(a,c),n=u>0?a>c?So:Ro:null,h=n?n===So?o.length:l.length:0);var d=n===So&&Ho.test(i[jo+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:d}}function $o(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Vo(e)+Vo(t[n])})))}function Vo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Wo(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Mo(t.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){var a=i.css,s=i.type,l=i.enterClass,u=i.enterToClass,h=i.enterActiveClass,d=i.appearClass,f=i.appearToClass,p=i.appearActiveClass,m=i.beforeEnter,b=i.enter,v=i.afterEnter,y=i.enterCancelled,_=i.beforeAppear,w=i.appear,x=i.afterAppear,E=i.appearCancelled,C=i.duration,k=Ln,M=Ln.$vnode;while(M&&M.parent)k=M.context,M=M.parent;var O=!k._isMounted||!t.isRootInsert;if(!O||w||""===w){var T=O&&d?d:l,S=O&&p?p:h,R=O&&f?f:u,j=O&&_||m,L=O&&"function"===typeof w?w:b,A=O&&x||v,D=O&&E||y,z=g(c(C)?C.enter:C);0;var P=!1!==a&&!nt,N=qo(L),F=n._enterCb=I((function(){P&&(Fo(n,R),Fo(n,S)),F.cancelled?(P&&Fo(n,T),D&&D(n)):A&&A(n),n._enterCb=null}));t.data.show||Ee(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),L&&L(n,F)})),j&&j(n),P&&(No(n,T),No(n,S),Po((function(){Fo(n,T),F.cancelled||(No(n,R),N||(Go(z)?setTimeout(F,z):Io(n,s,F)))}))),t.data.show&&(e&&e(),L&&L(n,F)),P||N||F()}}}function Uo(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Mo(t.data.transition);if(r(i)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var a=i.css,s=i.type,l=i.leaveClass,u=i.leaveToClass,h=i.leaveActiveClass,d=i.beforeLeave,f=i.leave,p=i.afterLeave,m=i.leaveCancelled,b=i.delayLeave,v=i.duration,y=!1!==a&&!nt,_=qo(f),w=g(c(v)?v.leave:v);0;var x=n._leaveCb=I((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(Fo(n,u),Fo(n,h)),x.cancelled?(y&&Fo(n,l),m&&m(n)):(e(),p&&p(n)),n._leaveCb=null}));b?b(E):E()}function E(){x.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),y&&(No(n,l),No(n,h),Po((function(){Fo(n,l),x.cancelled||(No(n,u),_||(Go(w)?setTimeout(x,w):Io(n,s,x)))}))),f&&f(n,x),y||_||x())}}function Go(t){return"number"===typeof t&&!isNaN(t)}function qo(t){if(r(t))return!1;var e=t.fns;return o(e)?qo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Yo(t,e){!0!==e.data.show&&Wo(e)}var Xo=J?{create:Yo,activate:Yo,remove:function(t,e){!0!==t.data.show?Uo(t,e):e()}}:{},Ko=[Ur,Yr,ro,co,xo,Xo],Jo=Ko.concat(Br),Zo=Ar({nodeOps:kr,modules:Jo});nt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&aa(t,"input")}));var Qo={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?Ee(n,"postpatch",(function(){Qo.componentUpdated(t,e,n)})):ta(t,e,n.context),t._vOptions=[].map.call(t.options,ia)):("textarea"===n.tag||hr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ra),t.addEventListener("compositionend",oa),t.addEventListener("change",oa),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){ta(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,ia);if(r.some((function(t,e){return!N(t,i[e])}))){var o=t.multiple?e.value.some((function(t){return na(t,r)})):e.value!==e.oldValue&&na(e.value,r);o&&aa(t,"change")}}}};function ta(t,e,n){ea(t,e,n),(et||it)&&setTimeout((function(){ea(t,e,n)}),0)}function ea(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=t.options.length;s<l;s++)if(a=t.options[s],r)o=F(i,ia(a))>-1,a.selected!==o&&(a.selected=o);else if(N(ia(a),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function na(t,e){return e.every((function(e){return!N(e,t)}))}function ia(t){return"_value"in t?t._value:t.value}function ra(t){t.target.composing=!0}function oa(t){t.target.composing&&(t.target.composing=!1,aa(t.target,"input"))}function aa(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function sa(t){return!t.componentInstance||t.data&&t.data.transition?t:sa(t.componentInstance._vnode)}var la={bind:function(t,e,n){var i=e.value;n=sa(n);var r=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Wo(n,(function(){t.style.display=o}))):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=sa(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,i?Wo(n,(function(){t.style.display=t.__vOriginalDisplay})):Uo(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},ca={model:Qo,show:la},ua={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ha(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ha(kn(e.children)):t}function da(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var o in r)e[C(o)]=r[o];return e}function fa(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function pa(t){while(t=t.parent)if(t.data.transition)return!0}function ma(t,e){return e.key===t.key&&e.tag===t.tag}var ga=function(t){return t.tag||ze(t)},ba=function(t){return"show"===t.name},va={name:"transition",props:ua,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ga),n.length)){0;var i=this.mode;0;var r=n[0];if(pa(this.$vnode))return r;var o=ha(r);if(!o)return r;if(this._leaving)return fa(t,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:l(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=da(this),c=this._vnode,u=ha(c);if(o.data.directives&&o.data.directives.some(ba)&&(o.data.show=!0),u&&u.data&&!ma(o,u)&&!ze(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=L({},s);if("out-in"===i)return this._leaving=!0,Ee(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),fa(t,r);if("in-out"===i){if(ze(o))return c;var d,f=function(){d()};Ee(s,"afterEnter",f),Ee(s,"enterCancelled",f),Ee(h,"delayLeave",(function(t){d=t}))}}return r}}},ya=L({tag:String,moveClass:String},ua);delete ya.mode;var _a={props:ya,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=An(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=da(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(i){for(var c=[],u=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?c.push(d):u.push(d)}this.kept=t(e,null,c),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(wa),t.forEach(xa),t.forEach(Ea),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;No(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Lo,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Lo,t),n._moveCb=null,Fo(n,e))})}})))},methods:{hasMove:function(t,e){if(!To)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){ko(n,t)})),Co(n,e),n.style.display="none",this.$el.appendChild(n);var i=Bo(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function wa(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function xa(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ea(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var Ca={Transition:va,TransitionGroup:_a};ki.config.mustUseProp=$i,ki.config.isReservedTag=sr,ki.config.isReservedAttr=Hi,ki.config.getTagNamespace=lr,ki.config.isUnknownElement=ur,L(ki.options.directives,ca),L(ki.options.components,Ca),ki.prototype.__patch__=J?Zo:D,ki.prototype.$mount=function(t,e){return t=t&&J?dr(t):void 0,Pn(this,t,e)},J&&setTimeout((function(){V.devtools&&ut&&ut.emit("init",ki)}),0),n["a"]=ki}).call(this,i("c8ba"))},"2b1f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.hasWeakSet="function"===typeof WeakSet,this.inner=this.hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this.hasWeakSet)return!!this.inner.has(t)||(this.inner.add(t),!1);for(var e=0;e<this.inner.length;e++){var n=this.inner[e];if(n===t)return!0}return this.inner.push(t),!1},t.prototype.unmemoize=function(t){if(this.hasWeakSet)this.inner.delete(t);else for(var e=0;e<this.inner.length;e++)if(this.inner[e]===t){this.inner.splice(e,1);break}},t}();e.Memo=i},"2b3e":function(t,e,n){var i=n("585a"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},"2b4c":function(t,e,n){var i=n("5537")("wks"),r=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=i},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2dd8":function(t,e,n){},"2f21":function(t,e,n){"use strict";var i=n("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"2fdb":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d2c8"),o="includes";i(i.P+i.F*n("5147")(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"308d":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("6af2"),r=n("5786");function o(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?r(t):e}},"30f1":function(t,e,n){"use strict";var i=n("b8e3"),r=n("63b6"),o=n("9138"),a=n("35e8"),s=n("481b"),l=n("8f60"),c=n("45f2"),u=n("53e2"),h=n("5168")("iterator"),d=!([].keys&&"next"in[].keys()),f="@@iterator",p="keys",m="values",g=function(){return this};t.exports=function(t,e,n,b,v,y,_){l(n,e,b);var w,x,E,C=function(t){if(!d&&t in T)return T[t];switch(t){case p:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",M=v==m,O=!1,T=t.prototype,S=T[h]||T[f]||v&&T[v],R=S||C(v),j=v?M?C("entries"):R:void 0,L="Array"==e&&T.entries||S;if(L&&(E=u(L.call(new t)),E!==Object.prototype&&E.next&&(c(E,k,!0),i||"function"==typeof E[h]||a(E,h,g))),M&&S&&S.name!==m&&(O=!0,R=function(){return S.call(this)}),i&&!_||!d&&!O&&T[h]||a(T,h,R),s[e]=R,s[k]=g,v)if(w={values:M?R:C(m),keys:y?R:C(p),entries:j},_)for(x in w)x in T||o(T,x,w[x]);else r(r.P+r.F*(d||O),e,w);return w}},"31f4":function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32e9":function(t,e,n){var i=n("86cc"),r=n("4630");t.exports=n("9e1e")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var i=n("e53d").document;t.exports=i&&i.documentElement},"335c":function(t,e,n){var i=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},3372:function(t,e,n){"use strict";n.d(e,"v",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return m})),n.d(e,"p",(function(){return b})),n.d(e,"m",(function(){return v})),n.d(e,"r",(function(){return y})),n.d(e,"x",(function(){return _})),n.d(e,"w",(function(){return w})),n.d(e,"q",(function(){return x})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return C})),n.d(e,"i",(function(){return k})),n.d(e,"b",(function(){return M})),n.d(e,"t",(function(){return O})),n.d(e,"l",(function(){return T})),n.d(e,"y",(function(){return S})),n.d(e,"s",(function(){return R})),n.d(e,"g",(function(){return j})),n.d(e,"k",(function(){return L})),n.d(e,"z",(function(){return A})),n.d(e,"u",(function(){return D})),n.d(e,"h",(function(){return P})),n.d(e,"j",(function(){return N})),n.d(e,"d",(function(){return F})),n.d(e,"c",(function(){return I}));var i=n("1d04"),r=n("a3a7"),o=n("17cc"),a=n("1524"),s=(n("5ef7"),n("055d"));const l=r["a"].prototype,c=(["button","[href]:not(.disabled)","input","select","textarea","[tabindex]","[contenteditable]"].map(t=>t+":not(:disabled):not([disabled])").join(", "),l.matches||l.msMatchesSelector||l.webkitMatchesSelector),u=l.closest||function(t){let e=this;do{if(x(e,t))return e;e=e.parentElement||e.parentNode}while(!Object(a["f"])(e)&&e.nodeType===Node.ELEMENT_NODE);return null},h=i["g"].requestAnimationFrame||i["g"].webkitRequestAnimationFrame||i["g"].mozRequestAnimationFrame||i["g"].msRequestAnimationFrame||i["g"].oRequestAnimationFrame||(t=>setTimeout(t,16)),d=i["g"].MutationObserver||i["g"].WebKitMutationObserver||i["g"].MozMutationObserver||null,f=t=>!(!t||t.nodeType!==Node.ELEMENT_NODE),p=(t=[])=>{const{activeElement:e}=i["a"];return e&&!t.some(t=>t===e)?e:null},m=(t,e)=>Object(s["d"])(t).toLowerCase()===Object(s["d"])(e).toLowerCase(),g=t=>f(t)&&t===p(),b=t=>{if(!f(t)||!t.parentNode||!C(i["a"].body,t))return!1;if("none"===z(t,"display"))return!1;const e=P(t);return!!(e&&e.height>0&&e.width>0)},v=t=>!f(t)||t.disabled||L(t,"disabled")||T(t,"disabled"),y=t=>f(t)&&t.offsetHeight,_=(t,e)=>Object(o["c"])((f(e)?e:i["a"]).querySelectorAll(t)),w=(t,e)=>(f(e)?e:i["a"]).querySelector(t)||null,x=(t,e)=>!!f(t)&&c.call(t,e),E=(t,e,n=!1)=>{if(!f(e))return null;const i=u.call(e,t);return n?i:i===e?null:i},C=(t,e)=>!(!t||!Object(a["e"])(t.contains))&&t.contains(e),k=t=>i["a"].getElementById(/^#/.test(t)?t.slice(1):t)||null,M=(t,e)=>{e&&f(t)&&t.classList&&t.classList.add(e)},O=(t,e)=>{e&&f(t)&&t.classList&&t.classList.remove(e)},T=(t,e)=>!!(e&&f(t)&&t.classList)&&t.classList.contains(e),S=(t,e,n)=>{e&&f(t)&&t.setAttribute(e,n)},R=(t,e)=>{e&&f(t)&&t.removeAttribute(e)},j=(t,e)=>e&&f(t)?t.getAttribute(e):null,L=(t,e)=>e&&f(t)?t.hasAttribute(e):null,A=(t,e,n)=>{e&&f(t)&&(t.style[e]=n)},D=(t,e)=>{e&&f(t)&&(t.style[e]="")},z=(t,e)=>e&&f(t)&&t.style[e]||null,P=t=>f(t)?t.getBoundingClientRect():null,N=t=>{const{getComputedStyle:e}=i["g"];return e&&f(t)?e(t):{}},F=(t,e={})=>{try{t.focus(e)}catch{}return g(t)},I=t=>{try{t.blur()}catch{}return!g(t)}},"33a4":function(t,e,n){var i=n("84f2"),r=n("2b4c")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,n){var i=n("d9f6"),r=n("aebd");t.exports=n("8e60")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var i=n("335c"),r=n("25eb");t.exports=function(t){return i(r(t))}},3702:function(t,e,n){var i=n("481b"),r=n("5168")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},3729:function(t,e,n){var i=n("9e69"),r=n("00fd"),o=n("29f3"),a="[object Null]",s="[object Undefined]",l=i?i.toStringTag:void 0;function c(t){return null==t?void 0===t?s:a:l&&l in Object(t)?r(t):o(t)}t.exports=c},3765:function(t,e,n){"use strict";n.d(e,"b",(function(){return L})),n.d(e,"a",(function(){return A}));var i=n("f0bd"),r=n("2b0e"),o=n("4e82"),a=n("6b59"),s=n("ff40");const l="top-start",c="top-end",u="bottom-start",h="bottom-end",d="right-start",f="left-start";var p=n("1f62"),m=n("a3a7"),g=n("ea18"),b=n("3372"),v=n("5d4f"),y=n("1524"),_=n("0a38"),w=n("daee"),x=n("cc66");const E=r["a"].extend({data(){return{listenForClickOut:!1}},watch:{listenForClickOut(t,e){t!==e&&(Object(v["a"])(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,a["w"]),t&&Object(v["b"])(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,a["w"]))}},beforeCreate(){this.clickOutElement=null,this.clickOutEventName=null},mounted(){this.clickOutElement||(this.clickOutElement=document),this.clickOutEventName||(this.clickOutEventName="click"),this.listenForClickOut&&Object(v["b"])(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,a["w"])},beforeDestroy(){Object(v["a"])(this.clickOutElement,this.clickOutEventName,this._clickOutHandler,a["w"])},methods:{isClickOut(t){return!Object(b["f"])(this.$el,t.target)},_clickOutHandler(t){this.clickOutHandler&&this.isClickOut(t)&&this.clickOutHandler(t)}}}),C=r["a"].extend({data(){return{listenForFocusIn:!1}},watch:{listenForFocusIn(t,e){t!==e&&(Object(v["a"])(this.focusInElement,"focusin",this._focusInHandler,a["w"]),t&&Object(v["b"])(this.focusInElement,"focusin",this._focusInHandler,a["w"]))}},beforeCreate(){this.focusInElement=null},mounted(){this.focusInElement||(this.focusInElement=document),this.listenForFocusIn&&Object(v["b"])(this.focusInElement,"focusin",this._focusInHandler,a["w"])},beforeDestroy(){Object(v["a"])(this.focusInElement,"focusin",this._focusInHandler,a["w"])},methods:{_focusInHandler(t){this.focusInHandler&&this.focusInHandler(t)}}});var k=n("070c"),M=n("cfd1");const O=Object(v["e"])(o["l"],a["u"]),T=Object(v["e"])(o["l"],a["l"]),S=".dropdown form",R=[".dropdown-item",".b-dropdown-form"].map(t=>t+":not(.disabled):not([disabled])").join(", "),j=t=>(t||[]).filter(b["p"]),L=Object(w["c"])(Object(_["l"])({...k["b"],boundary:Object(w["b"])([m["c"],p["l"]],"scrollParent"),disabled:Object(w["b"])(p["e"],!1),dropleft:Object(w["b"])(p["e"],!1),dropright:Object(w["b"])(p["e"],!1),dropup:Object(w["b"])(p["e"],!1),noFlip:Object(w["b"])(p["e"],!1),offset:Object(w["b"])(p["i"],0),popperOpts:Object(w["b"])(p["j"],{}),right:Object(w["b"])(p["e"],!1)}),o["l"]),A=r["a"].extend({mixins:[k["a"],M["a"],E,C],provide(){return{bvDropdown:this}},inject:{bvNavbar:{default:null}},props:L,data(){return{visible:!1,visibleChangePrevented:!1}},computed:{inNavbar(){return!Object(y["f"])(this.bvNavbar)},toggler(){const{toggle:t}=this.$refs;return t?t.$el||t:null},directionClass(){return this.dropup?"dropup":this.dropright?"dropright":this.dropleft?"dropleft":""},boundaryClass(){return"scrollParent"===this.boundary||this.inNavbar?"":"position-static"}},watch:{visible(t,e){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(t!==e){const n=t?a["t"]:a["m"],i=new g["a"](n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null,componentId:this.safeId?this.safeId():this.id||null});if(this.emitEvent(i),i.defaultPrevented)return this.visibleChangePrevented=!0,this.visible=e,void this.$off(a["l"],this.focusToggler);t?this.showMenu():this.hideMenu()}},disabled(t,e){t!==e&&t&&this.visible&&(this.visible=!1)}},created(){this.$_popper=null,this.$_hideTimeout=null},deactivated(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper()},beforeDestroy(){this.visible=!1,this.whileOpenListen(!1),this.destroyPopper(),this.clearHideTimeout()},methods:{emitEvent(t){const{type:e}=t;this.emitOnRoot(Object(v["e"])(o["l"],e),t),this.$emit(e,t)},showMenu(){if(!this.disabled){if(!this.inNavbar)if("undefined"===typeof i["a"])Object(x["a"])("Popper.js not found. Falling back to CSS positioning",o["l"]);else{let t=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;t=t.$el||t,this.createPopper(t)}this.emitOnRoot(O,this),this.whileOpenListen(!0),this.$nextTick(()=>{this.focusMenu(),this.$emit(a["u"])})}},hideMenu(){this.whileOpenListen(!1),this.emitOnRoot(T,this),this.$emit(a["l"]),this.destroyPopper()},createPopper(t){this.destroyPopper(),this.$_popper=new i["a"](t,this.$refs.menu,this.getPopperConfig())},destroyPopper(){this.$_popper&&this.$_popper.destroy(),this.$_popper=null},updatePopper(){try{this.$_popper.scheduleUpdate()}catch{}},clearHideTimeout(){clearTimeout(this.$_hideTimeout),this.$_hideTimeout=null},getPopperConfig(){let t=u;this.dropup?t=this.right?c:l:this.dropright?t=d:this.dropleft?t=f:this.right&&(t=h);const e={placement:t,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}},n=this.boundary;return n&&(e.modifiers.preventOverflow={boundariesElement:n}),Object(_["h"])(e,this.popperOpts||{})},whileOpenListen(t){this.listenForClickOut=t,this.listenForFocusIn=t;const e=t?"$on":"$off";this.$root[e](O,this.rootCloseListener)},rootCloseListener(t){t!==this&&(this.visible=!1)},show(){this.disabled||Object(b["v"])(()=>{this.visible=!0})},hide(t=!1){this.disabled||(this.visible=!1,t&&this.$once(a["l"],this.focusToggler))},toggle(t){t=t||{};const{type:e,keyCode:n}=t;("click"===e||"keydown"===e&&-1!==[s["c"],s["h"],s["a"]].indexOf(n))&&(this.disabled?this.visible=!1:(this.$emit(a["v"],t),Object(v["f"])(t),this.visible?this.hide(!0):this.show()))},onMousedown(t){Object(v["f"])(t,{propagation:!1})},onKeydown(t){const{keyCode:e}=t;e===s["d"]?this.onEsc(t):e===s["a"]?this.focusNext(t,!1):e===s["i"]&&this.focusNext(t,!0)},onEsc(t){this.visible&&(this.visible=!1,Object(v["f"])(t),this.$once(a["l"],this.focusToggler))},onSplitClick(t){this.disabled?this.visible=!1:this.$emit(a["d"],t)},hideHandler(t){const{target:e}=t;!this.visible||Object(b["f"])(this.$refs.menu,e)||Object(b["f"])(this.toggler,e)||(this.clearHideTimeout(),this.$_hideTimeout=setTimeout(()=>this.hide(),this.inNavbar?300:0))},clickOutHandler(t){this.hideHandler(t)},focusInHandler(t){this.hideHandler(t)},focusNext(t,e){const{target:n}=t;!this.visible||t&&Object(b["e"])(S,n)||(Object(v["f"])(t),this.$nextTick(()=>{const t=this.getItems();if(t.length<1)return;let i=t.indexOf(n);e&&i>0?i--:!e&&i<t.length-1&&i++,i<0&&(i=0),this.focusItem(i,t)}))},focusItem(t,e){const n=e.find((e,n)=>n===t);Object(b["d"])(n)},getItems(){return j(Object(b["x"])(R,this.$refs.menu))},focusMenu(){Object(b["d"])(this.$refs.menu)},focusToggler(){this.$nextTick(()=>{Object(b["d"])(this.toggler)})}}})},3844:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return p}));var i=n("2b0e");const r="$bvConfig",o=["xs","sm","md","lg","xl"];var a=n("5bbd"),s=n("1b2d");const l=i["a"].prototype,c=(t,e)=>{const n=l[r];return n?n.getConfigValue(t,e):Object(a["a"])(e)},u=(t,e=null,n)=>e?c(`${t}.${e}`,n):c(t,{}),h=()=>c("breakpoints",o),d=Object(s["a"])(()=>h()),f=()=>Object(a["a"])(d()),p=Object(s["a"])(()=>{const t=f();return t[0]="",t})},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"38cb":function(t,e,n){var i=n("4d16");function r(e,n){return t.exports=r=i||function(t,e){return t.__proto__=e,t},t.exports["default"]=t.exports,t.exports.__esModule=!0,r(e,n)}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"38fd":function(t,e,n){var i=n("69a8"),r=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},3914:function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return g}));var i=n("8db0"),r=n("3372"),o=n("1524"),a=n("0a38"),s=n("055d");const l="a",c=t=>"%"+t.charCodeAt(0).toString(16),u=t=>encodeURIComponent(Object(s["d"])(t)).replace(i["e"],c).replace(i["d"],","),h=(decodeURIComponent,t=>{if(!Object(o["i"])(t))return"";const e=Object(a["g"])(t).map(e=>{const n=t[e];return Object(o["k"])(n)?"":Object(o["f"])(n)?u(e):Object(o["a"])(n)?n.reduce((t,n)=>(Object(o["f"])(n)?t.push(u(e)):Object(o["k"])(n)||t.push(u(e)+"="+u(n)),t),[]).join("&"):u(e)+"="+u(n)}).filter(t=>t.length>0).join("&");return e?"?"+e:""}),d=t=>!(!t.href&&!t.to),f=t=>!(!t||Object(r["o"])(t,"a")),p=({to:t,disabled:e,routerComponentName:n},i)=>{const r=!!i.$router;return!r||r&&(e||!t)?l:n||(i.$nuxt?"nuxt-link":"router-link")},m=({target:t,rel:e}={})=>"_blank"===t&&Object(o["f"])(e)?"noopener":e||null,g=({href:t,to:e}={},n=l,i="#",r="/")=>{if(t)return t;if(f(n))return null;if(Object(o["j"])(e))return e||r;if(Object(o["i"])(e)&&(e.path||e.query||e.hash)){const t=Object(s["d"])(e.path),n=h(e.query);let i=Object(s["d"])(e.hash);return i=i&&"#"!==i.charAt(0)?"#"+i:i,`${t}${n}${i}`||r}return i}},"391b":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l}));const i=new Set(["",".","NA","N/A","n/a","nan","-nan","NaN","-NaN","null","NULL","None",null]),r=/([\d.-]+)([\sxeE]*)([0-9-]*)/;function o(t){return Number.isInteger(t)}function a(t,e=i,n=null){return t.map(t=>e.has(t)?n:t)}function s(t){return t.replace(/^chr/g,"").toUpperCase()}function l(t,e=!1){if(null===t)return t;const n=+t;if(e)return n;if(n<0||n>1)throw new Error("p value is not in the allowed range");if(0===n){if("0"===t)return 1/0;let[,e,,n]=t.match(r);return e=+e,n=""!==n?+n:0,0===e?1/0:-(Math.log10(+e)+ +n)}return-Math.log10(n)}function c({freq:t,allele_count:e,n_samples:n,is_alt_effect:r=!0}){if(void 0!==t&&void 0!==e)throw new Error("Frequency and allele count options are mutually exclusive");let o;if(void 0===t&&(i.has(e)||i.has(n)))return null;if(void 0===t&&void 0!==e)o=+e/+n/2;else{if(i.has(t))return null;o=+t}if(o<0||o>1)throw new Error("Allele frequency is not in the allowed range");return r?o:1-o}},"3a38":function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"3b2b":function(t,e,n){var i=n("7726"),r=n("5dbc"),o=n("86cc").f,a=n("9093").f,s=n("aae3"),l=n("0bfb"),c=i.RegExp,u=c,h=c.prototype,d=/a/g,f=/a/g,p=new c(d)!==d;if(n("9e1e")&&(!p||n("79e5")((function(){return f[n("2b4c")("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")})))){c=function(t,e){var n=this instanceof c,i=s(t),o=void 0===e;return!n&&i&&t.constructor===c&&o?t:r(p?new u(i&&!o?t.source:t,e):u((i=t instanceof c)?t.source:t,i&&o?l.call(t):e),n?this:h,c)};for(var m=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=a(u),b=0;g.length>b;)m(g[b++]);h.constructor=c,c.prototype=h,n("2aba")(i,"RegExp",c)}n("7a56")("RegExp")},"3def":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s["a"]})),n.d(e,"d",(function(){return u}));var i=n("391b");function r(t){return null===t||void 0===t||"."===t?null:t}function o(t){return t=r(t),t?+t:null}function a({normalize:t=!0}={}){return e=>{const n=e.trim().split("\t");let[a,s,l,c,u,h,d,f,p,m,g,b]=n;if(!(a&&s&&l))throw new Error("Sample data must provide all required BED columns");if(h=r(h),t&&(a=Object(i["d"])(a),s=+s+1,l=+l,u=o(u),d=o(d),f=o(f),p=r(p),m=o(m),g=r(g),g=g?g.replace(/,$/,"").split(",").map(t=>+t):null,b=r(b),b=b?b.replace(/,$/,"").split(",").map(t=>+t+1):null,g&&b&&m&&(g.length!==m||b.length!==m)))throw new Error("Block size and start information should provide the same number of items as in blockCount");return{chrom:a,chromStart:s,chromEnd:l,name:c,score:u,strand:h,thickStart:d,thickEnd:f,itemRgb:p,blockCount:m,blockSizes:g,blockStarts:b}}}var s=n("051d"),l=n("d917"),c=n("a866");function u({normalize:t=!0}={}){return e=>{let[n,r,o,a,s,l,u]=e.trim().split("\t");return t&&(n=Object(i["d"])(n),a=Object(i["d"])(a),o=Object(c["a"])(o),l=Object(c["a"])(l),r=+r,s=+s,u=+u),{chromosome1:n,position1:r,variant1:o,chromosome2:a,position2:s,variant2:l,correlation:u}}}function h(t){if(t.Adapters.has("TabixUrlSource")){const e=t.Adapters.get("TabixUrlSource"),n=t.Adapters.get("LDServer");class i extends e{constructor(t){t.limit_fields||(t.limit_fields=["variant2","position2","correlation"]),super(t)}_buildRequestOptions(t,e){if(!e)throw new Error("LD request must depend on association data");const i=super._buildRequestOptions(...arguments);return e.length?(i.ld_refvar=n.prototype.__find_ld_refvar(t,e),i):(i._skip_request=!0,i)}_performRequest(t){return t._skip_request?Promise.resolve([]):super._performRequest(t)}_annotateRecords(t,e){return t.filter(t=>t["variant1"]===e.ld_refvar)}}t.Adapters.add("UserTabixLD",i)}}"undefined"!==typeof LocusZoom&&LocusZoom.use(h);const d={install:h,makeBed12Parser:a,makeGWASParser:s["a"],guessGWAS:l["b"],makePlinkLdParser:u};e["a"]=d},"3e6c":function(t,e,n){"use strict";function i(t){return"?"+Object.keys(t).map((function(e){return`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`})).join("&")}function r(t){const e={};if(t){const n=("?"===t[0]?t.substr(1):t).split("&");for(let t=0;t<n.length;t++){const i=n[t].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}}return e}function o(t,e,n){n=n||!1;const i={};let r=e;return n&&(r={},Object.keys(e).forEach((function(t){r[e[t]]=t}))),Object.keys(r).forEach((function(e){const n=r[e];Object.prototype.hasOwnProperty.call(t,e)&&(i[n]=t[e])})),i}function a(t,e){t.applyState(e)}function s(t,e){return o(t.state,e)}function l(t,e){e=e||window.location.search;const n=r(e);return o(n,t,!0)}function c(t,e,n){n=n||a;const i=function(i){const r=l(e);n(t,r)};return window.addEventListener("popstate",i),t.trackExternalListener(window,"popstate",i),i}function u(t,e,n){n=n||s;const o=function(o){const a=r(window.location.search),s=n(t,e,o),l=Object.assign({},a,s),c=Object.keys(l).some((function(t){return a[t]!=l[t]}));if(c){const t=i(l);Object.keys(a).length?history.pushState({},document.title,t):history.replaceState({},document.title,t)}};return t.on("state_changed",o),o}n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c}))},"3e8d":function(t,e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},4078:function(t,e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"408c":function(t,e,n){var i=n("2b3e"),r=function(){return i.Date.now()};t.exports=r},"40c3":function(t,n,i){var r=i("6b4c"),o=i("5168")("toStringTag"),a="Arguments"==r(function(){return arguments}()),s=function(t,n){try{return t[n]}catch(e){}};t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},"41a0":function(t,e,n){"use strict";var i=n("2aeb"),r=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},4479:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("6e29");const r=Object(i["a"])("$attrs","bvAttrs")},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},"456d":function(t,e,n){var i=n("4bf8"),r=n("0d58");n("5eda")("keys",(function(){return function(t){return r(i(t))}}))},4588:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"45f2":function(t,e,n){var i=n("d9f6").f,r=n("07e3"),o=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"46d3":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var i=n("17cc"),r=n("29b3"),o=n("1524");const a=(t,e={},n={})=>(t=Object(i["b"])(t).filter(r["a"]),t.some(t=>e[t]||n[t])),s=(t,e={},n={},a={})=>{let s;t=Object(i["b"])(t).filter(r["a"]);for(let i=0;i<t.length&&!s;i++){const e=t[i];s=n[e]||a[e]}return Object(o["e"])(s)?s(e):s}},"475d":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var i=n("2b0e"),r=n("1f62"),o=n("daee");const a=Object(o["c"])({size:Object(o["b"])(r["l"])},"formControls"),s=i["a"].extend({props:a,computed:{sizeFormClass(){return[this.size?"form-control-"+this.size:null]}}})},"47ee":function(t,e,n){var i=n("c3a1"),r=n("9aa9"),o=n("355d");t.exports=function(t){var e=i(t),n=r.f;if(n){var a,s=n(t),l=o.f,c=0;while(s.length>c)l.call(t,a=s[c++])&&e.push(a)}return e}},"481b":function(t,e){t.exports={}},"48d5":function(t,e,n){var i=n("67bb"),r=n("c8bb"),o=n("5d73");function a(t,e){if("undefined"!==typeof i&&r(Object(t))){var n=[],a=!0,s=!1,l=void 0;try{for(var c,u=o(t);!(a=(c=u.next()).done);a=!0)if(n.push(c.value),e&&n.length===e)break}catch(h){s=!0,l=h}finally{try{a||null==u["return"]||u["return"]()}finally{if(s)throw l}}return n}}t.exports=a,t.exports["default"]=t.exports,t.exports.__esModule=!0},4917:function(t,e,n){"use strict";var i=n("cb7c"),r=n("9def"),o=n("0390"),a=n("5f1b");n("214f")("match",1,(function(t,e,n,s){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var l=i(t),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;var h,d=[],f=0;while(null!==(h=a(l,c))){var p=String(h[0]);d[f]=p,""===p&&(l.lastIndex=o(c,r(l.lastIndex),u)),f++}return 0===f?null:d}]}))},"4a59":function(t,e,n){var i=n("9b43"),r=n("1fa8"),o=n("33a4"),a=n("cb7c"),s=n("9def"),l=n("27ee"),c={},u={};e=t.exports=function(t,e,n,h,d){var f,p,m,g,b=d?function(){return t}:l(t),v=i(n,h,e?2:1),y=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(o(b)){for(f=s(t.length);f>y;y++)if(g=e?v(a(p=t[y])[0],p[1]):v(t[y]),g===c||g===u)return g}else for(m=b.call(t);!(p=m.next()).done;)if(g=r(m,v,p.value,e),g===c||g===u)return g};e.BREAK=c,e.RETURN=u},"4aa6":function(t,e,n){t.exports=n("dc62")},"4bf8":function(t,e,n){var i=n("be13");t.exports=function(t){return Object(i(t))}},"4cbb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("c9cf"),r=i.getGlobalObject(),o=function(){function t(){this.enabled=!1}return t.prototype.disable=function(){this.enabled=!1},t.prototype.enable=function(){this.enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&i.consoleSandbox((function(){r.console.log("Sentry Logger [Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&i.consoleSandbox((function(){r.console.warn("Sentry Logger [Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&i.consoleSandbox((function(){r.console.error("Sentry Logger [Error]: "+t.join(" "))}))},t}(),a=new o;e.logger=a},"4cef":function(t,e){var n=/\s/;function i(t){var e=t.length;while(e--&&n.test(t.charAt(e)));return e}t.exports=i},"4d16":function(t,e,n){t.exports=n("25b0")},"4def":function(t,e,n){var i=n("fe40"),r=n("76dd"),o=/[&<>"']/g,a=RegExp(o.source);function s(t){return t=r(t),t&&a.test(t)?t.replace(o,i):t}t.exports=s},"4e2b":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("4aa6"),r=n("38cb");function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=i(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"4e4e":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("daee");const l=t=>(t="left"===t?"start":"right"===t?"end":t,"justify-content-"+t),c=Object(s["c"])({align:Object(s["b"])(a["l"]),cardHeader:Object(s["b"])(a["e"],!1),fill:Object(s["b"])(a["e"],!1),justified:Object(s["b"])(a["e"],!1),pills:Object(s["b"])(a["e"],!1),small:Object(s["b"])(a["e"],!1),tabs:Object(s["b"])(a["e"],!1),tag:Object(s["b"])(a["l"],"ul"),vertical:Object(s["b"])(a["e"],!1)},o["x"]),u=i["a"].extend({name:o["x"],functional:!0,props:c,render(t,{props:e,data:n,children:i}){const{tabs:o,pills:a,vertical:s,align:c,cardHeader:u}=e;return t(e.tag,Object(r["a"])(n,{staticClass:"nav",class:{"nav-tabs":o,"nav-pills":a&&!o,"card-header-tabs":!s&&u&&o,"card-header-pills":!s&&u&&a&&!o,"flex-column":s,"nav-fill":!s&&e.fill,"nav-justified":!s&&e.justified,[l(c)]:!s&&c,small:e.small}}),i)}})},"4e82":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return m})),n.d(e,"o",(function(){return g})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return v})),n.d(e,"r",(function(){return y})),n.d(e,"s",(function(){return _})),n.d(e,"t",(function(){return w})),n.d(e,"u",(function(){return x})),n.d(e,"v",(function(){return E})),n.d(e,"w",(function(){return C})),n.d(e,"x",(function(){return k})),n.d(e,"z",(function(){return M})),n.d(e,"A",(function(){return O})),n.d(e,"C",(function(){return T})),n.d(e,"k",(function(){return S})),n.d(e,"y",(function(){return R})),n.d(e,"B",(function(){return j})),n.d(e,"D",(function(){return L})),n.d(e,"E",(function(){return A})),n.d(e,"F",(function(){return D}));const i="BButton",r="BCard",o="BCardBody",a="BCardFooter",s="BCardHeader",l="BCardImg",c="BCardSubTitle",u="BCardTitle",h="BCol",d="BCollapse",f="BDropdown",p="BFormCheckbox",m="BFormGroup",g="BFormInvalidFeedback",b="BFormRadio",v="BFormRadioGroup",y="BFormRow",_="BFormText",w="BFormValidFeedback",x="BImg",E="BLink",C="BModal",k="BNav",M="BTab",O="BTabs",T="BTooltip",S="BVCollapse",R="BVPopper",j="BVTabButton",L="BVTooltip",A="BVTooltipTemplate",D="BVTransition"},"4ee1":function(t,n,i){var r=i("5168")("iterator"),o=!1;try{var a=[7][r]();a["return"]=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(t,n){if(!n&&!o)return!1;var i=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:i=!0}},a[r]=function(){return s},t(a)}catch(e){}return i}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5147:function(t,n,i){var r=i("2b4c")("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(i){}}return!0}},5153:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i("94df");function o(t,e){return void 0===e&&(e=0),0!==e&&r.isString(t)?t.length<=e?t:t.substr(0,e)+"...":t}function a(t,e){var n=t,i=n.length;if(i<=150)return n;e>i&&(e=i);var r=Math.max(e-60,0);r<5&&(r=0);var o=Math.min(r+140,i);return o>i-5&&(o=i),o===i&&(r=Math.max(o-140,0)),n=n.slice(r,o),r>0&&(n="'{snip} "+n),o<i&&(n+=" {snip}"),n}function s(t,n){if(!Array.isArray(t))return"";for(var i=[],r=0;r<t.length;r++){var o=t[r];try{i.push(String(o))}catch(e){i.push("[value cannot be serialized]")}}return i.join(n)}function l(t,e){return!(e.length>t.length)&&-1!==t.indexOf(e)}n.truncate=o,n.snipLine=a,n.safeJoin=s,n.includes=l},5168:function(t,e,n){var i=n("dbdb")("wks"),r=n("62a0"),o=n("e53d").Symbol,a="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=i},"520a":function(t,e,n){"use strict";var i=n("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,a=r,s="lastIndex",l=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[s]||0!==e[s]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(a=function(t){var e,n,a,u,h=this;return c&&(n=new RegExp("^"+h.source+"$(?!\\s)",i.call(h))),l&&(e=h[s]),a=r.call(h,t),l&&a&&(h[s]=h.global?a.index+a[0].length:e),c&&a&&a.length>1&&o.call(a[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a}),t.exports=a},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53e2":function(t,e,n){var i=n("07e3"),r=n("241e"),o=n("5559")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"549b":function(t,e,n){"use strict";var i=n("d864"),r=n("63b6"),o=n("241e"),a=n("b0dc"),s=n("3702"),l=n("b447"),c=n("20fd"),u=n("7cd6");r(r.S+r.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,h,d=o(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,b=0,v=u(d);if(g&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(e=l(d.length),n=new f(e);e>b;b++)c(n,b,g?m(d[b],b):d[b]);else for(h=v.call(d),n=new f;!(r=h.next()).done;b++)c(n,b,g?a(h,m,[r.value,b],!0):r.value);return n.length=b,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"551c":function(t,n,i){"use strict";var r,o,a,s,l=i("2d00"),c=i("7726"),u=i("9b43"),h=i("23c6"),d=i("5ca1"),f=i("d3f4"),p=i("d8e8"),m=i("f605"),g=i("4a59"),b=i("ebd6"),v=i("1991").set,y=i("8079")(),_=i("a5b8"),w=i("9c80"),x=i("a25f"),E=i("bcaa"),C="Promise",k=c.TypeError,M=c.process,O=M&&M.versions,T=O&&O.v8||"",S=c[C],R="process"==h(M),j=function(){},L=o=_.f,A=!!function(){try{var t=S.resolve(1),n=(t.constructor={})[i("2b4c")("species")]=function(t){t(j,j)};return(R||"function"==typeof PromiseRejectionEvent)&&t.then(j)instanceof n&&0!==T.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),D=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},z=function(t,n){if(!t._n){t._n=!0;var i=t._c;y((function(){var r=t._v,o=1==t._s,a=0,s=function(n){var i,a,s,l=o?n.ok:n.fail,c=n.resolve,u=n.reject,h=n.domain;try{l?(o||(2==t._h&&F(t),t._h=1),!0===l?i=r:(h&&h.enter(),i=l(r),h&&(h.exit(),s=!0)),i===n.promise?u(k("Promise-chain cycle")):(a=D(i))?a.call(i,c,u):c(i)):u(r)}catch(e){h&&!s&&h.exit(),u(e)}};while(i.length>a)s(i[a++]);t._c=[],t._n=!1,n&&!t._h&&P(t)}))}},P=function(t){v.call(c,(function(){var e,n,i,r=t._v,o=N(t);if(o&&(e=w((function(){R?M.emit("unhandledRejection",r,t):(n=c.onunhandledrejection)?n({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=R||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){v.call(c,(function(){var e;R?M.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},I=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),z(e,!0))},H=function(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw k("Promise can't be resolved itself");(n=D(t))?y((function(){var r={_w:i,_d:!1};try{n.call(t,u(H,r,1),u(I,r,1))}catch(e){I.call(r,e)}})):(i._v=t,i._s=1,z(i,!1))}catch(e){I.call({_w:i,_d:!1},e)}}};A||(S=function(t){m(this,S,C,"_h"),p(t),r.call(this);try{t(u(H,this,1),u(I,this,1))}catch(e){I.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=i("dcbc")(S.prototype,{then:function(t,e){var n=L(b(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=R?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&z(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=u(H,t,1),this.reject=u(I,t,1)},_.f=L=function(t){return t===S||t===s?new a(t):o(t)}),d(d.G+d.W+d.F*!A,{Promise:S}),i("7f20")(S,C),i("7a56")(C),s=i("8378")[C],d(d.S+d.F*!A,C,{reject:function(t){var e=L(this),n=e.reject;return n(t),e.promise}}),d(d.S+d.F*(l||!A),C,{resolve:function(t){return E(l&&this===s?S:this,t)}}),d(d.S+d.F*!(A&&i("5cc5")((function(t){S.all(t)["catch"](j)}))),C,{all:function(t){var e=this,n=L(e),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,a=1;g(t,!1,(function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then((function(t){l||(l=!0,n[s]=t,--a||i(n))}),r)})),--a||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=L(e),i=n.reject,r=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},5537:function(t,e,n){var i=n("8378"),r=n("7726"),o="__core-js_shared__",a=r[o]||(r[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var i=n("dbdb")("keys"),r=n("62a0");t.exports=function(t){return i[t]||(i[t]=r(t))}},"55dd":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d8e8"),o=n("4bf8"),a=n("79e5"),s=[].sort,l=[1,2,3];i(i.P+i.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},5698:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return i})),n.d(e,"bisect",(function(){return u})),n.d(e,"bisectRight",(function(){return l})),n.d(e,"bisectLeft",(function(){return c})),n.d(e,"ascending",(function(){return r})),n.d(e,"bisector",(function(){return o})),n.d(e,"cross",(function(){return f})),n.d(e,"descending",(function(){return p})),n.d(e,"deviation",(function(){return b})),n.d(e,"extent",(function(){return v})),n.d(e,"histogram",(function(){return L})),n.d(e,"thresholdFreedmanDiaconis",(function(){return D})),n.d(e,"thresholdScott",(function(){return z})),n.d(e,"thresholdSturges",(function(){return j})),n.d(e,"max",(function(){return P})),n.d(e,"mean",(function(){return N})),n.d(e,"median",(function(){return F})),n.d(e,"merge",(function(){return I})),n.d(e,"min",(function(){return H})),n.d(e,"pairs",(function(){return h})),n.d(e,"permute",(function(){return B})),n.d(e,"quantile",(function(){return A})),n.d(e,"range",(function(){return C})),n.d(e,"scan",(function(){return $})),n.d(e,"shuffle",(function(){return V})),n.d(e,"sum",(function(){return W})),n.d(e,"ticks",(function(){return T})),n.d(e,"tickIncrement",(function(){return S})),n.d(e,"tickStep",(function(){return R})),n.d(e,"transpose",(function(){return U})),n.d(e,"variance",(function(){return g})),n.d(e,"zip",(function(){return q})),n.d(e,"axisTop",(function(){return st})),n.d(e,"axisRight",(function(){return lt})),n.d(e,"axisBottom",(function(){return ct})),n.d(e,"axisLeft",(function(){return ut})),n.d(e,"brush",(function(){return aa})),n.d(e,"brushX",(function(){return ra})),n.d(e,"brushY",(function(){return oa})),n.d(e,"brushSelection",(function(){return ia})),n.d(e,"chord",(function(){return ma})),n.d(e,"ribbon",(function(){return Ra})),n.d(e,"nest",(function(){return za})),n.d(e,"set",(function(){return Va})),n.d(e,"map",(function(){return Da})),n.d(e,"keys",(function(){return Wa})),n.d(e,"values",(function(){return Ua})),n.d(e,"entries",(function(){return Ga})),n.d(e,"color",(function(){return Dn})),n.d(e,"rgb",(function(){return Fn})),n.d(e,"hsl",(function(){return Un})),n.d(e,"lab",(function(){return os})),n.d(e,"hcl",(function(){return fs})),n.d(e,"lch",(function(){return ds})),n.d(e,"gray",(function(){return rs})),n.d(e,"cubehelix",(function(){return ks})),n.d(e,"contours",(function(){return Is})),n.d(e,"contourDensity",(function(){return Us})),n.d(e,"dispatch",(function(){return bt})),n.d(e,"drag",(function(){return Zs})),n.d(e,"dragDisable",(function(){return fn})),n.d(e,"dragEnable",(function(){return pn})),n.d(e,"dsvFormat",(function(){return ul})),n.d(e,"csvParse",(function(){return dl})),n.d(e,"csvParseRows",(function(){return fl})),n.d(e,"csvFormat",(function(){return pl})),n.d(e,"csvFormatBody",(function(){return ml})),n.d(e,"csvFormatRows",(function(){return gl})),n.d(e,"csvFormatRow",(function(){return bl})),n.d(e,"csvFormatValue",(function(){return vl})),n.d(e,"tsvParse",(function(){return _l})),n.d(e,"tsvParseRows",(function(){return wl})),n.d(e,"tsvFormat",(function(){return xl})),n.d(e,"tsvFormatBody",(function(){return El})),n.d(e,"tsvFormatRows",(function(){return Cl})),n.d(e,"tsvFormatRow",(function(){return kl})),n.d(e,"tsvFormatValue",(function(){return Ml})),n.d(e,"autoType",(function(){return Ol})),n.d(e,"easeLinear",(function(){return Sl})),n.d(e,"easeQuad",(function(){return Ll})),n.d(e,"easeQuadIn",(function(){return Rl})),n.d(e,"easeQuadOut",(function(){return jl})),n.d(e,"easeQuadInOut",(function(){return Ll})),n.d(e,"easeCubic",(function(){return Mo})),n.d(e,"easeCubicIn",(function(){return Co})),n.d(e,"easeCubicOut",(function(){return ko})),n.d(e,"easeCubicInOut",(function(){return Mo})),n.d(e,"easePoly",(function(){return Pl})),n.d(e,"easePolyIn",(function(){return Dl})),n.d(e,"easePolyOut",(function(){return zl})),n.d(e,"easePolyInOut",(function(){return Pl})),n.d(e,"easeSin",(function(){return Bl})),n.d(e,"easeSinIn",(function(){return Il})),n.d(e,"easeSinOut",(function(){return Hl})),n.d(e,"easeSinInOut",(function(){return Bl})),n.d(e,"easeExp",(function(){return Ul})),n.d(e,"easeExpIn",(function(){return Vl})),n.d(e,"easeExpOut",(function(){return Wl})),n.d(e,"easeExpInOut",(function(){return Ul})),n.d(e,"easeCircle",(function(){return Yl})),n.d(e,"easeCircleIn",(function(){return Gl})),n.d(e,"easeCircleOut",(function(){return ql})),n.d(e,"easeCircleInOut",(function(){return Yl})),n.d(e,"easeBounce",(function(){return ac})),n.d(e,"easeBounceIn",(function(){return oc})),n.d(e,"easeBounceOut",(function(){return ac})),n.d(e,"easeBounceInOut",(function(){return sc})),n.d(e,"easeBack",(function(){return hc})),n.d(e,"easeBackIn",(function(){return cc})),n.d(e,"easeBackOut",(function(){return uc})),n.d(e,"easeBackInOut",(function(){return hc})),n.d(e,"easeElastic",(function(){return gc})),n.d(e,"easeElasticIn",(function(){return mc})),n.d(e,"easeElasticOut",(function(){return gc})),n.d(e,"easeElasticInOut",(function(){return bc})),n.d(e,"blob",(function(){return yc})),n.d(e,"buffer",(function(){return wc})),n.d(e,"dsv",(function(){return kc})),n.d(e,"csv",(function(){return Mc})),n.d(e,"tsv",(function(){return Oc})),n.d(e,"image",(function(){return Tc})),n.d(e,"json",(function(){return Rc})),n.d(e,"text",(function(){return Ec})),n.d(e,"xml",(function(){return Lc})),n.d(e,"html",(function(){return Ac})),n.d(e,"svg",(function(){return Dc})),n.d(e,"forceCenter",(function(){return zc})),n.d(e,"forceCollide",(function(){return lu})),n.d(e,"forceLink",(function(){return hu})),n.d(e,"forceManyBody",(function(){return bu})),n.d(e,"forceRadial",(function(){return vu})),n.d(e,"forceSimulation",(function(){return gu})),n.d(e,"forceX",(function(){return yu})),n.d(e,"forceY",(function(){return _u})),n.d(e,"formatDefaultLocale",(function(){return Bu})),n.d(e,"format",(function(){return ju})),n.d(e,"formatPrefix",(function(){return Lu})),n.d(e,"formatLocale",(function(){return Hu})),n.d(e,"formatSpecifier",(function(){return Ou})),n.d(e,"FormatSpecifier",(function(){return Tu})),n.d(e,"precisionFixed",(function(){return $u})),n.d(e,"precisionPrefix",(function(){return Vu})),n.d(e,"precisionRound",(function(){return Wu})),n.d(e,"geoArea",(function(){return Nh})),n.d(e,"geoBounds",(function(){return Sd})),n.d(e,"geoCentroid",(function(){return Bd})),n.d(e,"geoCircle",(function(){return Zd})),n.d(e,"geoClipAntimeridian",(function(){return hf})),n.d(e,"geoClipCircle",(function(){return mf})),n.d(e,"geoClipExtent",(function(){return Ef})),n.d(e,"geoClipRectangle",(function(){return yf})),n.d(e,"geoContains",(function(){return $f})),n.d(e,"geoDistance",(function(){return Af})),n.d(e,"geoGraticule",(function(){return Uf})),n.d(e,"geoGraticule10",(function(){return Gf})),n.d(e,"geoInterpolate",(function(){return Jf})),n.d(e,"geoLength",(function(){return Rf})),n.d(e,"geoPath",(function(){return Jp})),n.d(e,"geoAlbers",(function(){return wm})),n.d(e,"geoAlbersUsa",(function(){return Em})),n.d(e,"geoAzimuthalEqualArea",(function(){return Om})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return Mm})),n.d(e,"geoAzimuthalEquidistant",(function(){return Sm})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return Tm})),n.d(e,"geoConicConformal",(function(){return zm})),n.d(e,"geoConicConformalRaw",(function(){return Dm})),n.d(e,"geoConicEqualArea",(function(){return _m})),n.d(e,"geoConicEqualAreaRaw",(function(){return ym})),n.d(e,"geoConicEquidistant",(function(){return Im})),n.d(e,"geoConicEquidistantRaw",(function(){return Fm})),n.d(e,"geoEqualEarth",(function(){return qm})),n.d(e,"geoEqualEarthRaw",(function(){return Gm})),n.d(e,"geoEquirectangular",(function(){return Nm})),n.d(e,"geoEquirectangularRaw",(function(){return Pm})),n.d(e,"geoGnomonic",(function(){return Xm})),n.d(e,"geoGnomonicRaw",(function(){return Ym})),n.d(e,"geoIdentity",(function(){return Km})),n.d(e,"geoProjection",(function(){return mm})),n.d(e,"geoProjectionMutator",(function(){return gm})),n.d(e,"geoMercator",(function(){return jm})),n.d(e,"geoMercatorRaw",(function(){return Rm})),n.d(e,"geoNaturalEarth1",(function(){return Zm})),n.d(e,"geoNaturalEarth1Raw",(function(){return Jm})),n.d(e,"geoOrthographic",(function(){return tg})),n.d(e,"geoOrthographicRaw",(function(){return Qm})),n.d(e,"geoStereographic",(function(){return ng})),n.d(e,"geoStereographicRaw",(function(){return eg})),n.d(e,"geoTransverseMercator",(function(){return rg})),n.d(e,"geoTransverseMercatorRaw",(function(){return ig})),n.d(e,"geoRotation",(function(){return Xd})),n.d(e,"geoStream",(function(){return Sh})),n.d(e,"geoTransform",(function(){return Zp})),n.d(e,"cluster",(function(){return dg})),n.d(e,"hierarchy",(function(){return Mg})),n.d(e,"pack",(function(){return tb})),n.d(e,"packSiblings",(function(){return Yg})),n.d(e,"packEnclose",(function(){return Dg})),n.d(e,"partition",(function(){return ab})),n.d(e,"stratify",(function(){return db})),n.d(e,"tree",(function(){return wb})),n.d(e,"treemap",(function(){return Mb})),n.d(e,"treemapBinary",(function(){return Ob})),n.d(e,"treemapDice",(function(){return ob})),n.d(e,"treemapSlice",(function(){return xb})),n.d(e,"treemapSliceDice",(function(){return Tb})),n.d(e,"treemapSquarify",(function(){return kb})),n.d(e,"treemapResquarify",(function(){return Sb})),n.d(e,"interpolate",(function(){return wi})),n.d(e,"interpolateArray",(function(){return ci})),n.d(e,"interpolateBasis",(function(){return Xn})),n.d(e,"interpolateBasisClosed",(function(){return Kn})),n.d(e,"interpolateDate",(function(){return hi})),n.d(e,"interpolateDiscrete",(function(){return Rb})),n.d(e,"interpolateHue",(function(){return jb})),n.d(e,"interpolateNumber",(function(){return di})),n.d(e,"interpolateNumberArray",(function(){return si})),n.d(e,"interpolateObject",(function(){return fi})),n.d(e,"interpolateRound",(function(){return Lb})),n.d(e,"interpolateString",(function(){return _i})),n.d(e,"interpolateTransformCss",(function(){return br})),n.d(e,"interpolateTransformSvg",(function(){return vr})),n.d(e,"interpolateZoom",(function(){return Hb})),n.d(e,"interpolateRgb",(function(){return ii})),n.d(e,"interpolateRgbBasis",(function(){return oi})),n.d(e,"interpolateRgbBasisClosed",(function(){return ai})),n.d(e,"interpolateHsl",(function(){return $b})),n.d(e,"interpolateHslLong",(function(){return Vb})),n.d(e,"interpolateLab",(function(){return Wb})),n.d(e,"interpolateHcl",(function(){return Gb})),n.d(e,"interpolateHclLong",(function(){return qb})),n.d(e,"interpolateCubehelix",(function(){return Xb})),n.d(e,"interpolateCubehelixLong",(function(){return Kb})),n.d(e,"piecewise",(function(){return Jb})),n.d(e,"quantize",(function(){return Zb})),n.d(e,"path",(function(){return Ca})),n.d(e,"polygonArea",(function(){return Qb})),n.d(e,"polygonCentroid",(function(){return tv})),n.d(e,"polygonHull",(function(){return rv})),n.d(e,"polygonContains",(function(){return ov})),n.d(e,"polygonLength",(function(){return av})),n.d(e,"quadtree",(function(){return nu})),n.d(e,"randomUniform",(function(){return lv})),n.d(e,"randomNormal",(function(){return cv})),n.d(e,"randomLogNormal",(function(){return uv})),n.d(e,"randomBates",(function(){return dv})),n.d(e,"randomIrwinHall",(function(){return hv})),n.d(e,"randomExponential",(function(){return fv})),n.d(e,"scaleBand",(function(){return wv})),n.d(e,"scalePoint",(function(){return Ev})),n.d(e,"scaleIdentity",(function(){return Fv})),n.d(e,"scaleLinear",(function(){return Nv})),n.d(e,"scaleLog",(function(){return Xv})),n.d(e,"scaleSymlog",(function(){return Qv})),n.d(e,"scaleOrdinal",(function(){return _v})),n.d(e,"scaleImplicit",(function(){return yv})),n.d(e,"scalePow",(function(){return ry})),n.d(e,"scaleSqrt",(function(){return oy})),n.d(e,"scaleQuantile",(function(){return ay})),n.d(e,"scaleQuantize",(function(){return sy})),n.d(e,"scaleThreshold",(function(){return ly})),n.d(e,"scaleTime",(function(){return ix})),n.d(e,"scaleUtc",(function(){return fx})),n.d(e,"scaleSequential",(function(){return gx})),n.d(e,"scaleSequentialLog",(function(){return bx})),n.d(e,"scaleSequentialPow",(function(){return yx})),n.d(e,"scaleSequentialSqrt",(function(){return _x})),n.d(e,"scaleSequentialSymlog",(function(){return vx})),n.d(e,"scaleSequentialQuantile",(function(){return wx})),n.d(e,"scaleDiverging",(function(){return Ex})),n.d(e,"scaleDivergingLog",(function(){return Cx})),n.d(e,"scaleDivergingPow",(function(){return Mx})),n.d(e,"scaleDivergingSqrt",(function(){return Ox})),n.d(e,"scaleDivergingSymlog",(function(){return kx})),n.d(e,"tickFormat",(function(){return zv})),n.d(e,"schemeCategory10",(function(){return Sx})),n.d(e,"schemeAccent",(function(){return Rx})),n.d(e,"schemeDark2",(function(){return jx})),n.d(e,"schemePaired",(function(){return Lx})),n.d(e,"schemePastel1",(function(){return Ax})),n.d(e,"schemePastel2",(function(){return Dx})),n.d(e,"schemeSet1",(function(){return zx})),n.d(e,"schemeSet2",(function(){return Px})),n.d(e,"schemeSet3",(function(){return Nx})),n.d(e,"schemeTableau10",(function(){return Fx})),n.d(e,"interpolateBrBG",(function(){return Bx})),n.d(e,"schemeBrBG",(function(){return Hx})),n.d(e,"interpolatePRGn",(function(){return Vx})),n.d(e,"schemePRGn",(function(){return $x})),n.d(e,"interpolatePiYG",(function(){return Ux})),n.d(e,"schemePiYG",(function(){return Wx})),n.d(e,"interpolatePuOr",(function(){return qx})),n.d(e,"schemePuOr",(function(){return Gx})),n.d(e,"interpolateRdBu",(function(){return Xx})),n.d(e,"schemeRdBu",(function(){return Yx})),n.d(e,"interpolateRdGy",(function(){return Jx})),n.d(e,"schemeRdGy",(function(){return Kx})),n.d(e,"interpolateRdYlBu",(function(){return Qx})),n.d(e,"schemeRdYlBu",(function(){return Zx})),n.d(e,"interpolateRdYlGn",(function(){return eE})),n.d(e,"schemeRdYlGn",(function(){return tE})),n.d(e,"interpolateSpectral",(function(){return iE})),n.d(e,"schemeSpectral",(function(){return nE})),n.d(e,"interpolateBuGn",(function(){return oE})),n.d(e,"schemeBuGn",(function(){return rE})),n.d(e,"interpolateBuPu",(function(){return sE})),n.d(e,"schemeBuPu",(function(){return aE})),n.d(e,"interpolateGnBu",(function(){return cE})),n.d(e,"schemeGnBu",(function(){return lE})),n.d(e,"interpolateOrRd",(function(){return hE})),n.d(e,"schemeOrRd",(function(){return uE})),n.d(e,"interpolatePuBuGn",(function(){return fE})),n.d(e,"schemePuBuGn",(function(){return dE})),n.d(e,"interpolatePuBu",(function(){return mE})),n.d(e,"schemePuBu",(function(){return pE})),n.d(e,"interpolatePuRd",(function(){return bE})),n.d(e,"schemePuRd",(function(){return gE})),n.d(e,"interpolateRdPu",(function(){return yE})),n.d(e,"schemeRdPu",(function(){return vE})),n.d(e,"interpolateYlGnBu",(function(){return wE})),n.d(e,"schemeYlGnBu",(function(){return _E})),n.d(e,"interpolateYlGn",(function(){return EE})),n.d(e,"schemeYlGn",(function(){return xE})),n.d(e,"interpolateYlOrBr",(function(){return kE})),n.d(e,"schemeYlOrBr",(function(){return CE})),n.d(e,"interpolateYlOrRd",(function(){return OE})),n.d(e,"schemeYlOrRd",(function(){return ME})),n.d(e,"interpolateBlues",(function(){return SE})),n.d(e,"schemeBlues",(function(){return TE})),n.d(e,"interpolateGreens",(function(){return jE})),n.d(e,"schemeGreens",(function(){return RE})),n.d(e,"interpolateGreys",(function(){return AE})),n.d(e,"schemeGreys",(function(){return LE})),n.d(e,"interpolatePurples",(function(){return zE})),n.d(e,"schemePurples",(function(){return DE})),n.d(e,"interpolateReds",(function(){return NE})),n.d(e,"schemeReds",(function(){return PE})),n.d(e,"interpolateOranges",(function(){return IE})),n.d(e,"schemeOranges",(function(){return FE})),n.d(e,"interpolateCividis",(function(){return HE})),n.d(e,"interpolateCubehelixDefault",(function(){return BE})),n.d(e,"interpolateRainbow",(function(){return UE})),n.d(e,"interpolateWarm",(function(){return $E})),n.d(e,"interpolateCool",(function(){return VE})),n.d(e,"interpolateSinebow",(function(){return XE})),n.d(e,"interpolateTurbo",(function(){return KE})),n.d(e,"interpolateViridis",(function(){return ZE})),n.d(e,"interpolateMagma",(function(){return QE})),n.d(e,"interpolateInferno",(function(){return tC})),n.d(e,"interpolatePlasma",(function(){return eC})),n.d(e,"create",(function(){return nC})),n.d(e,"creator",(function(){return ze})),n.d(e,"local",(function(){return rC})),n.d(e,"matcher",(function(){return Ct})),n.d(e,"mouse",(function(){return ki})),n.d(e,"namespace",(function(){return Yt})),n.d(e,"namespaces",(function(){return qt})),n.d(e,"clientPoint",(function(){return Ei})),n.d(e,"select",(function(){return un})),n.d(e,"selectAll",(function(){return aC})),n.d(e,"selection",(function(){return cn})),n.d(e,"selector",(function(){return yt})),n.d(e,"selectorAll",(function(){return xt})),n.d(e,"style",(function(){return se})),n.d(e,"touch",(function(){return Ci})),n.d(e,"touches",(function(){return sC})),n.d(e,"window",(function(){return ne})),n.d(e,"event",(function(){return Ge})),n.d(e,"customEvent",(function(){return tn})),n.d(e,"arc",(function(){return SC})),n.d(e,"area",(function(){return zC})),n.d(e,"line",(function(){return DC})),n.d(e,"pie",(function(){return FC})),n.d(e,"areaRadial",(function(){return WC})),n.d(e,"radialArea",(function(){return WC})),n.d(e,"lineRadial",(function(){return VC})),n.d(e,"radialLine",(function(){return VC})),n.d(e,"pointRadial",(function(){return UC})),n.d(e,"linkHorizontal",(function(){return QC})),n.d(e,"linkVertical",(function(){return tk})),n.d(e,"linkRadial",(function(){return ek})),n.d(e,"symbol",(function(){return wk})),n.d(e,"symbols",(function(){return _k})),n.d(e,"symbolCircle",(function(){return nk})),n.d(e,"symbolCross",(function(){return ik})),n.d(e,"symbolDiamond",(function(){return ak})),n.d(e,"symbolSquare",(function(){return dk})),n.d(e,"symbolStar",(function(){return hk})),n.d(e,"symbolTriangle",(function(){return pk})),n.d(e,"symbolWye",(function(){return yk})),n.d(e,"curveBasisClosed",(function(){return Ok})),n.d(e,"curveBasisOpen",(function(){return Sk})),n.d(e,"curveBasis",(function(){return kk})),n.d(e,"curveBundle",(function(){return jk})),n.d(e,"curveCardinalClosed",(function(){return Pk})),n.d(e,"curveCardinalOpen",(function(){return Fk})),n.d(e,"curveCardinal",(function(){return Dk})),n.d(e,"curveCatmullRomClosed",(function(){return Vk})),n.d(e,"curveCatmullRomOpen",(function(){return Uk})),n.d(e,"curveCatmullRom",(function(){return Bk})),n.d(e,"curveLinearClosed",(function(){return qk})),n.d(e,"curveLinear",(function(){return jC})),n.d(e,"curveMonotoneX",(function(){return eM})),n.d(e,"curveMonotoneY",(function(){return nM})),n.d(e,"curveNatural",(function(){return oM})),n.d(e,"curveStep",(function(){return sM})),n.d(e,"curveStepAfter",(function(){return cM})),n.d(e,"curveStepBefore",(function(){return lM})),n.d(e,"stack",(function(){return fM})),n.d(e,"stackOffsetExpand",(function(){return pM})),n.d(e,"stackOffsetDiverging",(function(){return mM})),n.d(e,"stackOffsetNone",(function(){return uM})),n.d(e,"stackOffsetSilhouette",(function(){return gM})),n.d(e,"stackOffsetWiggle",(function(){return bM})),n.d(e,"stackOrderAppearance",(function(){return vM})),n.d(e,"stackOrderAscending",(function(){return _M})),n.d(e,"stackOrderDescending",(function(){return xM})),n.d(e,"stackOrderInsideOut",(function(){return EM})),n.d(e,"stackOrderNone",(function(){return hM})),n.d(e,"stackOrderReverse",(function(){return CM})),n.d(e,"timeInterval",(function(){return hy})),n.d(e,"timeMillisecond",(function(){return Jy})),n.d(e,"timeMilliseconds",(function(){return Zy})),n.d(e,"utcMillisecond",(function(){return Jy})),n.d(e,"utcMilliseconds",(function(){return Zy})),n.d(e,"timeSecond",(function(){return Yy})),n.d(e,"timeSeconds",(function(){return Xy})),n.d(e,"utcSecond",(function(){return Yy})),n.d(e,"utcSeconds",(function(){return Xy})),n.d(e,"timeMinute",(function(){return Uy})),n.d(e,"timeMinutes",(function(){return Gy})),n.d(e,"timeHour",(function(){return $y})),n.d(e,"timeHours",(function(){return Vy})),n.d(e,"timeDay",(function(){return Iy})),n.d(e,"timeDays",(function(){return Hy})),n.d(e,"timeWeek",(function(){return Cy})),n.d(e,"timeWeeks",(function(){return jy})),n.d(e,"timeSunday",(function(){return Cy})),n.d(e,"timeSundays",(function(){return jy})),n.d(e,"timeMonday",(function(){return ky})),n.d(e,"timeMondays",(function(){return Ly})),n.d(e,"timeTuesday",(function(){return My})),n.d(e,"timeTuesdays",(function(){return Ay})),n.d(e,"timeWednesday",(function(){return Oy})),n.d(e,"timeWednesdays",(function(){return Dy})),n.d(e,"timeThursday",(function(){return Ty})),n.d(e,"timeThursdays",(function(){return zy})),n.d(e,"timeFriday",(function(){return Sy})),n.d(e,"timeFridays",(function(){return Py})),n.d(e,"timeSaturday",(function(){return Ry})),n.d(e,"timeSaturdays",(function(){return Ny})),n.d(e,"timeMonth",(function(){return gy})),n.d(e,"timeMonths",(function(){return by})),n.d(e,"timeYear",(function(){return fy})),n.d(e,"timeYears",(function(){return py})),n.d(e,"utcMinute",(function(){return hx})),n.d(e,"utcMinutes",(function(){return dx})),n.d(e,"utcHour",(function(){return lx})),n.d(e,"utcHours",(function(){return cx})),n.d(e,"utcDay",(function(){return m_})),n.d(e,"utcDays",(function(){return g_})),n.d(e,"utcWeek",(function(){return t_})),n.d(e,"utcWeeks",(function(){return s_})),n.d(e,"utcSunday",(function(){return t_})),n.d(e,"utcSundays",(function(){return s_})),n.d(e,"utcMonday",(function(){return e_})),n.d(e,"utcMondays",(function(){return l_})),n.d(e,"utcTuesday",(function(){return n_})),n.d(e,"utcTuesdays",(function(){return c_})),n.d(e,"utcWednesday",(function(){return i_})),n.d(e,"utcWednesdays",(function(){return u_})),n.d(e,"utcThursday",(function(){return r_})),n.d(e,"utcThursdays",(function(){return h_})),n.d(e,"utcFriday",(function(){return o_})),n.d(e,"utcFridays",(function(){return d_})),n.d(e,"utcSaturday",(function(){return a_})),n.d(e,"utcSaturdays",(function(){return f_})),n.d(e,"utcMonth",(function(){return ox})),n.d(e,"utcMonths",(function(){return ax})),n.d(e,"utcYear",(function(){return v_})),n.d(e,"utcYears",(function(){return y_})),n.d(e,"timeFormatDefaultLocale",(function(){return Gw})),n.d(e,"timeFormat",(function(){return k_})),n.d(e,"timeParse",(function(){return M_})),n.d(e,"utcFormat",(function(){return O_})),n.d(e,"utcParse",(function(){return T_})),n.d(e,"timeFormatLocale",(function(){return E_})),n.d(e,"isoFormat",(function(){return TM})),n.d(e,"isoParse",(function(){return jM})),n.d(e,"now",(function(){return zi})),n.d(e,"timer",(function(){return Fi})),n.d(e,"timerFlush",(function(){return Ii})),n.d(e,"timeout",(function(){return Wi})),n.d(e,"interval",(function(){return LM})),n.d(e,"transition",(function(){return wo})),n.d(e,"active",(function(){return jo})),n.d(e,"interrupt",(function(){return cr})),n.d(e,"voronoi",(function(){return xO})),n.d(e,"zoom",(function(){return PO})),n.d(e,"zoomTransform",(function(){return OO})),n.d(e,"zoomIdentity",(function(){return MO}));var i="5.16.0",r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},o=function(t){return 1===t.length&&(t=a(t)),{left:function(e,n,i,r){null==i&&(i=0),null==r&&(r=e.length);while(i<r){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){null==i&&(i=0),null==r&&(r=e.length);while(i<r){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};function a(t){return function(e,n){return r(t(e),n)}}var s=o(r),l=s.right,c=s.left,u=l,h=function(t,e){null==e&&(e=d);var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);while(n<i)o[n]=e(r,r=t[++n]);return o};function d(t,e){return[t,e]}var f=function(t,e,n){var i,r,o,a,s=t.length,l=e.length,c=new Array(s*l);for(null==n&&(n=d),i=o=0;i<s;++i)for(a=t[i],r=0;r<l;++r,++o)c[o]=n(a,e[r]);return c},p=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},m=function(t){return null===t?NaN:+t},g=function(t,e){var n,i,r=t.length,o=0,a=-1,s=0,l=0;if(null==e)while(++a<r)isNaN(n=m(t[a]))||(i=n-s,s+=i/++o,l+=i*(n-s));else while(++a<r)isNaN(n=m(e(t[a],a,t)))||(i=n-s,s+=i/++o,l+=i*(n-s));if(o>1)return l/(o-1)},b=function(t,e){var n=g(t,e);return n?Math.sqrt(n):n},v=function(t,e){var n,i,r,o=t.length,a=-1;if(null==e){while(++a<o)if(null!=(n=t[a])&&n>=n){i=r=n;while(++a<o)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}}else while(++a<o)if(null!=(n=e(t[a],a,t))&&n>=n){i=r=n;while(++a<o)null!=(n=e(t[a],a,t))&&(i>n&&(i=n),r<n&&(r=n))}return[i,r]},y=Array.prototype,_=y.slice,w=y.map,x=function(t){return function(){return t}},E=function(t){return t},C=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);while(++i<r)o[i]=t+i*n;return o},k=Math.sqrt(50),M=Math.sqrt(10),O=Math.sqrt(2),T=function(t,e,n){var i,r,o,a,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=S(t,e,n))||!isFinite(a))return[];if(a>0){t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));while(++s<r)o[s]=(t+s)*a}else{t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));while(++s<r)o[s]=(t-s)/a}return i&&o.reverse(),o};function S(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=k?10:o>=M?5:o>=O?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=k?10:o>=M?5:o>=O?2:1)}function R(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=k?r*=10:o>=M?r*=5:o>=O&&(r*=2),e<t?-r:r}var j=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},L=function(){var t=E,e=v,n=j;function i(i){var r,o,a=i.length,s=new Array(a);for(r=0;r<a;++r)s[r]=t(i[r],r,i);var l=e(s),c=l[0],h=l[1],d=n(s,c,h);Array.isArray(d)||(d=R(c,h,d),d=C(Math.ceil(c/d)*d,h,d));var f=d.length;while(d[0]<=c)d.shift(),--f;while(d[f-1]>h)d.pop(),--f;var p,m=new Array(f+1);for(r=0;r<=f;++r)p=m[r]=[],p.x0=r>0?d[r-1]:c,p.x1=r<f?d[r]:h;for(r=0;r<a;++r)o=s[r],c<=o&&o<=h&&m[u(d,o,0,f)].push(i[r]);return m}return i.value=function(e){return arguments.length?(t="function"===typeof e?e:x(e),i):t},i.domain=function(t){return arguments.length?(e="function"===typeof t?t:x([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?x(_.call(t)):x(t),i):n},i},A=function(t,e,n){if(null==n&&(n=m),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(r-o)}},D=function(t,e,n){return t=w.call(t,m).sort(r),Math.ceil((n-e)/(2*(A(t,.75)-A(t,.25))*Math.pow(t.length,-1/3)))},z=function(t,e,n){return Math.ceil((n-e)/(3.5*b(t)*Math.pow(t.length,-1/3)))},P=function(t,e){var n,i,r=t.length,o=-1;if(null==e){while(++o<r)if(null!=(n=t[o])&&n>=n){i=n;while(++o<r)null!=(n=t[o])&&n>i&&(i=n)}}else while(++o<r)if(null!=(n=e(t[o],o,t))&&n>=n){i=n;while(++o<r)null!=(n=e(t[o],o,t))&&n>i&&(i=n)}return i},N=function(t,e){var n,i=t.length,r=i,o=-1,a=0;if(null==e)while(++o<i)isNaN(n=m(t[o]))?--r:a+=n;else while(++o<i)isNaN(n=m(e(t[o],o,t)))?--r:a+=n;if(r)return a/r},F=function(t,e){var n,i=t.length,o=-1,a=[];if(null==e)while(++o<i)isNaN(n=m(t[o]))||a.push(n);else while(++o<i)isNaN(n=m(e(t[o],o,t)))||a.push(n);return A(a.sort(r),.5)},I=function(t){var e,n,i,r=t.length,o=-1,a=0;while(++o<r)a+=t[o].length;n=new Array(a);while(--r>=0){i=t[r],e=i.length;while(--e>=0)n[--a]=i[e]}return n},H=function(t,e){var n,i,r=t.length,o=-1;if(null==e){while(++o<r)if(null!=(n=t[o])&&n>=n){i=n;while(++o<r)null!=(n=t[o])&&i>n&&(i=n)}}else while(++o<r)if(null!=(n=e(t[o],o,t))&&n>=n){i=n;while(++o<r)null!=(n=e(t[o],o,t))&&i>n&&(i=n)}return i},B=function(t,e){var n=e.length,i=new Array(n);while(n--)i[n]=t[e[n]];return i},$=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];null==e&&(e=r);while(++o<n)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);return 0===e(s,s)?a:void 0}},V=function(t,e,n){var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);while(o)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},W=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)while(++r<i)(n=+t[r])&&(o+=n);else while(++r<i)(n=+e(t[r],r,t))&&(o+=n);return o},U=function(t){if(!(r=t.length))return[];for(var e=-1,n=H(t,G),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i};function G(t){return t.length}var q=function(){return U(arguments)},Y=Array.prototype.slice,X=function(t){return t},K=1,J=2,Z=3,Q=4,tt=1e-6;function et(t){return"translate("+(t+.5)+",0)"}function nt(t){return"translate(0,"+(t+.5)+")"}function it(t){return function(e){return+t(e)}}function rt(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function ot(){return!this.__axis}function at(t,e){var n=[],i=null,r=null,o=6,a=6,s=3,l=t===K||t===Q?-1:1,c=t===Q||t===J?"x":"y",u=t===K||t===Z?et:nt;function h(h){var d=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,f=null==r?e.tickFormat?e.tickFormat.apply(e,n):X:r,p=Math.max(o,0)+s,m=e.range(),g=+m[0]+.5,b=+m[m.length-1]+.5,v=(e.bandwidth?rt:it)(e.copy()),y=h.selection?h.selection():h,_=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(d,e).order(),x=w.exit(),E=w.enter().append("g").attr("class","tick"),C=w.select("line"),k=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(E),C=C.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),k=k.merge(E.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",t===K?"0em":t===Z?"0.71em":"0.32em")),h!==y&&(_=_.transition(h),w=w.transition(h),C=C.transition(h),k=k.transition(h),x=x.transition(h).attr("opacity",tt).attr("transform",(function(t){return isFinite(t=v(t))?u(t):this.getAttribute("transform")})),E.attr("opacity",tt).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:v(t))}))),x.remove(),_.attr("d",t===Q||t==J?a?"M"+l*a+","+g+"H0.5V"+b+"H"+l*a:"M0.5,"+g+"V"+b:a?"M"+g+","+l*a+"V0.5H"+b+"V"+l*a:"M"+g+",0.5H"+b),w.attr("opacity",1).attr("transform",(function(t){return u(v(t))})),C.attr(c+"2",l*o),k.attr(c,l*p).text(f),y.filter(ot).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===J?"start":t===Q?"end":"middle"),y.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Y.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Y.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:Y.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(r=t,h):r},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function st(t){return at(K,t)}function lt(t){return at(J,t)}function ct(t){return at(Z,t)}function ut(t){return at(Q,t)}var ht={value:function(){}};function dt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new ft(i)}function ft(t){this._=t}function pt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function mt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function gt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ht,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}ft.prototype=dt.prototype={constructor:ft,on:function(t,e){var n,i=this._,r=pt(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=r[o]).type)i[n]=gt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=gt(i[n],t.name,null);return this}while(++o<a)if((n=(t=r[o]).type)&&(n=mt(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ft(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var bt=dt;function vt(){}var yt=function(t){return null==t?vt:function(){return this.querySelector(t)}},_t=function(t){"function"!==typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new sn(i,this._parents)};function wt(){return[]}var xt=function(t){return null==t?wt:function(){return this.querySelectorAll(t)}},Et=function(t){"function"!==typeof t&&(t=xt(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new sn(i,r)},Ct=function(t){return function(){return this.matches(t)}},kt=function(t){"function"!==typeof t&&(t=Ct(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new sn(i,this._parents)},Mt=function(t){return new Array(t.length)},Ot=function(){return new sn(this._enter||this._groups.map(Mt),this._parents)};function Tt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Tt.prototype={constructor:Tt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var St=function(t){return function(){return t}},Rt="$";function jt(t,e,n,i,r,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new Tt(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function Lt(t,e,n,i,r,o,a){var s,l,c,u={},h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=Rt+a.call(l,l.__data__,s,e),c in u?r[s]=l:u[c]=l);for(s=0;s<d;++s)c=Rt+a.call(t,o[s],s,o),(l=u[c])?(i[s]=l,l.__data__=o[s],u[c]=null):n[s]=new Tt(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u[f[s]]===l&&(r[s]=l)}var At=function(t,e){if(!t)return f=new Array(this.size()),c=-1,this.each((function(t){f[++c]=t})),f;var n=e?Lt:jt,i=this._parents,r=this._groups;"function"!==typeof t&&(t=St(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],h=r[c],d=h.length,f=t.call(u,u&&u.__data__,c,i),p=f.length,m=s[c]=new Array(p),g=a[c]=new Array(p),b=l[c]=new Array(d);n(u,h,m,g,b,f,e);for(var v,y,_=0,w=0;_<p;++_)if(v=m[_]){_>=w&&(w=_+1);while(!(y=g[w])&&++w<p);v._next=y||null}}return a=new sn(a,i),a._enter=s,a._exit=l,a},Dt=function(){return new sn(this._exit||this._groups.map(Mt),this._parents)},zt=function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"===typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},Pt=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<i;++s)a[s]=e[s];return new sn(a,this._parents)},Nt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},Ft=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=It);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new sn(r,this._parents).order()};function It(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Ht=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Bt=function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},$t=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},Vt=function(){var t=0;return this.each((function(){++t})),t},Wt=function(){return!this.node()},Ut=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},Gt="http://www.w3.org/1999/xhtml",qt={svg:"http://www.w3.org/2000/svg",xhtml:Gt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),qt.hasOwnProperty(e)?{space:qt[e],local:t}:t};function Xt(t){return function(){this.removeAttribute(t)}}function Kt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jt(t,e){return function(){this.setAttribute(t,e)}}function Zt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function te(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var ee=function(t,e){var n=Yt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Kt:Xt:"function"===typeof e?n.local?te:Qt:n.local?Zt:Jt)(n,e))},ne=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function ie(t){return function(){this.style.removeProperty(t)}}function re(t,e,n){return function(){this.style.setProperty(t,e,n)}}function oe(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}var ae=function(t,e,n){return arguments.length>1?this.each((null==e?ie:"function"===typeof e?oe:re)(t,e,null==n?"":n)):se(this.node(),t)};function se(t,e){return t.style.getPropertyValue(e)||ne(t).getComputedStyle(t,null).getPropertyValue(e)}function le(t){return function(){delete this[t]}}function ce(t,e){return function(){this[t]=e}}function ue(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var he=function(t,e){return arguments.length>1?this.each((null==e?le:"function"===typeof e?ue:ce)(t,e)):this.node()[t]};function de(t){return t.trim().split(/^|\s+/)}function fe(t){return t.classList||new pe(t)}function pe(t){this._node=t,this._names=de(t.getAttribute("class")||"")}function me(t,e){var n=fe(t),i=-1,r=e.length;while(++i<r)n.add(e[i])}function ge(t,e){var n=fe(t),i=-1,r=e.length;while(++i<r)n.remove(e[i])}function be(t){return function(){me(this,t)}}function ve(t){return function(){ge(this,t)}}function ye(t,e){return function(){(e.apply(this,arguments)?me:ge)(this,t)}}pe.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var _e=function(t,e){var n=de(t+"");if(arguments.length<2){var i=fe(this.node()),r=-1,o=n.length;while(++r<o)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"===typeof e?ye:e?be:ve)(n,e))};function we(){this.textContent=""}function xe(t){return function(){this.textContent=t}}function Ee(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var Ce=function(t){return arguments.length?this.each(null==t?we:("function"===typeof t?Ee:xe)(t)):this.node().textContent};function ke(){this.innerHTML=""}function Me(t){return function(){this.innerHTML=t}}function Oe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var Te=function(t){return arguments.length?this.each(null==t?ke:("function"===typeof t?Oe:Me)(t)):this.node().innerHTML};function Se(){this.nextSibling&&this.parentNode.appendChild(this)}var Re=function(){return this.each(Se)};function je(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Le=function(){return this.each(je)};function Ae(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Gt&&e.documentElement.namespaceURI===Gt?e.createElement(t):e.createElementNS(n,t)}}function De(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ze=function(t){var e=Yt(t);return(e.local?De:Ae)(e)},Pe=function(t){var e="function"===typeof t?t:ze(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function Ne(){return null}var Fe=function(t,e){var n="function"===typeof t?t:ze(t),i=null==e?Ne:"function"===typeof e?e:yt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))};function Ie(){var t=this.parentNode;t&&t.removeChild(this)}var He=function(){return this.each(Ie)};function Be(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Ve=function(t){return this.select(t?$e:Be)},We=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Ue={},Ge=null;if("undefined"!==typeof document){var qe=document.documentElement;"onmouseenter"in qe||(Ue={mouseenter:"mouseover",mouseleave:"mouseout"})}function Ye(t,e,n){return t=Xe(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Xe(t,e,n){return function(i){var r=Ge;Ge=i;try{t.call(this,this.__data__,e,n)}finally{Ge=r}}}function Ke(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Je(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Ze(t,e,n){var i=Ue.hasOwnProperty(t.type)?Ye:Xe;return function(r,o,a){var s,l=this.__on,c=i(e,o,a);if(l)for(var u=0,h=l.length;u<h;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}var Qe=function(t,e,n){var i,r,o=Ke(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ze:Je,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value};function tn(t,e,n,i){var r=Ge;t.sourceEvent=Ge,Ge=t;try{return e.apply(n,i)}finally{Ge=r}}function en(t,e,n){var i=ne(t),r=i.CustomEvent;"function"===typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function nn(t,e){return function(){return en(this,t,e)}}function rn(t,e){return function(){return en(this,t,e.apply(this,arguments))}}var on=function(t,e){return this.each(("function"===typeof e?rn:nn)(t,e))},an=[null];function sn(t,e){this._groups=t,this._parents=e}function ln(){return new sn([[document.documentElement]],an)}sn.prototype=ln.prototype={constructor:sn,select:_t,selectAll:Et,filter:kt,data:At,enter:Ot,exit:Dt,join:zt,merge:Pt,order:Nt,sort:Ft,call:Ht,nodes:Bt,node:$t,size:Vt,empty:Wt,each:Ut,attr:ee,style:ae,property:he,classed:_e,text:Ce,html:Te,raise:Re,lower:Le,append:Pe,insert:Fe,remove:He,clone:Ve,datum:We,on:Qe,dispatch:on};var cn=ln,un=function(t){return"string"===typeof t?new sn([[document.querySelector(t)]],[document.documentElement]):new sn([[t]],an)};function hn(){Ge.stopImmediatePropagation()}var dn=function(){Ge.preventDefault(),Ge.stopImmediatePropagation()},fn=function(t){var e=t.document.documentElement,n=un(t).on("dragstart.drag",dn,!0);"onselectstart"in e?n.on("selectstart.drag",dn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function pn(t,e){var n=t.document.documentElement,i=un(t).on("dragstart.drag",null);e&&(i.on("click.drag",dn,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var mn=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function gn(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function bn(){}var vn=.7,yn=1/vn,_n="\\s*([+-]?\\d+)\\s*",wn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",En=/^#([0-9a-f]{3,8})$/,Cn=new RegExp("^rgb\\("+[_n,_n,_n]+"\\)$"),kn=new RegExp("^rgb\\("+[xn,xn,xn]+"\\)$"),Mn=new RegExp("^rgba\\("+[_n,_n,_n,wn]+"\\)$"),On=new RegExp("^rgba\\("+[xn,xn,xn,wn]+"\\)$"),Tn=new RegExp("^hsl\\("+[wn,xn,xn]+"\\)$"),Sn=new RegExp("^hsla\\("+[wn,xn,xn,wn]+"\\)$"),Rn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function jn(){return this.rgb().formatHex()}function Ln(){return Wn(this).formatHsl()}function An(){return this.rgb().formatRgb()}function Dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=En.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?zn(e):3===n?new In(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Pn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Pn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Cn.exec(t))?new In(e[1],e[2],e[3],1):(e=kn.exec(t))?new In(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Mn.exec(t))?Pn(e[1],e[2],e[3],e[4]):(e=On.exec(t))?Pn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Tn.exec(t))?Vn(e[1],e[2]/100,e[3]/100,1):(e=Sn.exec(t))?Vn(e[1],e[2]/100,e[3]/100,e[4]):Rn.hasOwnProperty(t)?zn(Rn[t]):"transparent"===t?new In(NaN,NaN,NaN,0):null}function zn(t){return new In(t>>16&255,t>>8&255,255&t,1)}function Pn(t,e,n,i){return i<=0&&(t=e=n=NaN),new In(t,e,n,i)}function Nn(t){return t instanceof bn||(t=Dn(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function Fn(t,e,n,i){return 1===arguments.length?Nn(t):new In(t,e,n,null==i?1:i)}function In(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Hn(){return"#"+$n(this.r)+$n(this.g)+$n(this.b)}function Bn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function $n(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Vn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gn(t,e,n,i)}function Wn(t){if(t instanceof Gn)return new Gn(t.h,t.s,t.l,t.opacity);if(t instanceof bn||(t=Dn(t)),!t)return new Gn;if(t instanceof Gn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Gn(a,s,l,t.opacity)}function Un(t,e,n,i){return 1===arguments.length?Wn(t):new Gn(t,e,n,null==i?1:i)}function Gn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function qn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Yn(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}mn(bn,Dn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:jn,formatHex:jn,formatHsl:Ln,formatRgb:An,toString:An}),mn(In,Fn,gn(bn,{brighter:function(t){return t=null==t?yn:Math.pow(yn,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?vn:Math.pow(vn,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hn,formatHex:Hn,formatRgb:Bn,toString:Bn})),mn(Gn,Un,gn(bn,{brighter:function(t){return t=null==t?yn:Math.pow(yn,t),new Gn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?vn:Math.pow(vn,t),new Gn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new In(qn(t>=240?t-240:t+120,r,i),qn(t,r,i),qn(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Xn=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return Yn((n-i/e)*e,a,r,o,s)}},Kn=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return Yn((n-i/e)*e,r,o,a,s)}},Jn=function(t){return function(){return t}};function Zn(t,e){return function(n){return t+n*e}}function Qn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function ti(t,e){var n=e-t;return n?Zn(t,n>180||n<-180?n-360*Math.round(n/360):n):Jn(isNaN(t)?e:t)}function ei(t){return 1===(t=+t)?ni:function(e,n){return n-e?Qn(e,n,t):Jn(isNaN(e)?n:e)}}function ni(t,e){var n=e-t;return n?Zn(t,n):Jn(isNaN(t)?e:t)}var ii=function t(e){var n=ei(e);function i(t,e){var i=n((t=Fn(t)).r,(e=Fn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=ni(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function ri(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=Fn(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}var oi=ri(Xn),ai=ri(Kn),si=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}};function li(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var ci=function(t,e){return(li(e)?si:ui)(t,e)};function ui(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=wi(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}var hi=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},di=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},fi=function(t,e){var n,i={},r={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?i[n]=wi(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},pi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mi=new RegExp(pi.source,"g");function gi(t){return function(){return t}}function bi(t){return function(e){return t(e)+""}}var vi,yi,_i=function(t,e){var n,i,r,o=pi.lastIndex=mi.lastIndex=0,a=-1,s=[],l=[];t+="",e+="";while((n=pi.exec(t))&&(i=mi.exec(e)))(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:di(n,i)})),o=mi.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?bi(l[0].x):gi(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})},wi=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?Jn(e):("number"===i?di:"string"===i?(n=Dn(e))?(e=n,ii):_i:e instanceof Dn?ii:e instanceof Date?hi:li(e)?si:Array.isArray(e)?ui:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?fi:di)(t,e)},xi=function(){var t,e=Ge;while(t=e.sourceEvent)e=t;return e},Ei=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},Ci=function(t,e,n){arguments.length<3&&(n=e,e=xi().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Ei(t,i);return null},ki=function(t){var e=xi();return e.changedTouches&&(e=e.changedTouches[0]),Ei(t,e)},Mi=0,Oi=0,Ti=0,Si=1e3,Ri=0,ji=0,Li=0,Ai="object"===typeof performance&&performance.now?performance:Date,Di="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zi(){return ji||(Di(Pi),ji=Ai.now()+Li)}function Pi(){ji=0}function Ni(){this._call=this._time=this._next=null}function Fi(t,e,n){var i=new Ni;return i.restart(t,e,n),i}function Ii(){zi(),++Mi;var t,e=vi;while(e)(t=ji-e._time)>=0&&e._call.call(null,t),e=e._next;--Mi}function Hi(){ji=(Ri=Ai.now())+Li,Mi=Oi=0;try{Ii()}finally{Mi=0,$i(),ji=0}}function Bi(){var t=Ai.now(),e=t-Ri;e>Si&&(Li-=e,Ri=t)}function $i(){var t,e,n=vi,i=1/0;while(n)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:vi=e);yi=t,Vi(i)}function Vi(t){if(!Mi){Oi&&(Oi=clearTimeout(Oi));var e=t-ji;e>24?(t<1/0&&(Oi=setTimeout(Hi,t-Ai.now()-Li)),Ti&&(Ti=clearInterval(Ti))):(Ti||(Ri=Ai.now(),Ti=setInterval(Bi,Si)),Mi=1,Di(Hi))}}Ni.prototype=Fi.prototype={constructor:Ni,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?zi():+n)+(null==e?0:+e),this._next||yi===this||(yi?yi._next=this:vi=this,yi=this),this._call=t,this._time=n,Vi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vi())}};var Wi=function(t,e,n){var i=new Ni;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i},Ui=bt("start","end","cancel","interrupt"),Gi=[],qi=0,Yi=1,Xi=2,Ki=3,Ji=4,Zi=5,Qi=6,tr=function(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};rr(t,n,{name:e,index:i,group:r,on:Ui,tween:Gi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:qi})};function er(t,e){var n=ir(t,e);if(n.state>qi)throw new Error("too late; already scheduled");return n}function nr(t,e){var n=ir(t,e);if(n.state>Ki)throw new Error("too late; already running");return n}function ir(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function rr(t,e,n){var i,r=t.__transition;function o(t){n.state=Yi,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,h,d;if(n.state!==Yi)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Ki)return Wi(a);d.state===Ji?(d.state=Qi,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Qi,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Wi((function(){n.state===Ki&&(n.state=Ji,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=Xi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Xi){for(n.state=Ki,i=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function s(e){var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=Zi,1),o=-1,a=i.length;while(++o<a)i[o].call(t,r);n.state===Zi&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=Qi,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Fi(o,0,n.time)}var or,ar,sr,lr,cr=function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Xi&&n.state<Zi,n.state=Qi,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}},ur=function(t){return this.each((function(){cr(this,t)}))},hr=180/Math.PI,dr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},fr=function(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*hr,skewX:Math.atan(l)*hr,scaleX:a,scaleY:s}};function pr(t){return"none"===t?dr:(or||(or=document.createElement("DIV"),ar=document.documentElement,sr=document.defaultView),or.style.transform=t,t=sr.getComputedStyle(ar.appendChild(or),null).getPropertyValue("transform"),ar.removeChild(or),t=t.slice(7,-1).split(","),fr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function mr(t){return null==t?dr:(lr||(lr=document.createElementNS("http://www.w3.org/2000/svg","g")),lr.setAttribute("transform",t),(t=lr.transform.baseVal.consolidate())?(t=t.matrix,fr(t.a,t.b,t.c,t.d,t.e,t.f)):dr)}function gr(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:di(t,r)},{i:l-2,x:di(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:di(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function s(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:di(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function l(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:di(t,n)},{i:s-2,x:di(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),a(e.rotate,n.rotate,i,r),s(e.skewX,n.skewX,i,r),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){var e,n=-1,o=r.length;while(++n<o)i[(e=r[n]).i]=e.x(t);return i.join("")}}}var br=gr(pr,"px, ","px)","deg)"),vr=gr(mr,", ",")",")");function yr(t,e){var n,i;return function(){var r=nr(this,t),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;a<s;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function _r(t,e,n){var i,r;if("function"!==typeof n)throw new Error;return function(){var o=nr(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}var wr=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=ir(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?yr:_r)(n,t,e))};function xr(t,e,n){var i=t._id;return t.each((function(){var t=nr(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ir(t,i).value[e]}}var Er=function(t,e){var n;return("number"===typeof e?di:e instanceof Dn?ii:(n=Dn(e))?(e=n,ii):_i)(t,e)};function Cr(t){return function(){this.removeAttribute(t)}}function kr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mr(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function Or(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function Tr(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return a=this.getAttribute(t),s=l+"",a===s?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}}function Sr(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return a=this.getAttributeNS(t.space,t.local),s=l+"",a===s?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}var Rr=function(t,e){var n=Yt(t),i="transform"===n?vr:Er;return this.attrTween(t,"function"===typeof e?(n.local?Sr:Tr)(n,i,xr(this,"attr."+t,e)):null==e?(n.local?kr:Cr)(n):(n.local?Or:Mr)(n,i,e))};function jr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Lr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ar(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Lr(t,r)),n}return r._value=e,r}function Dr(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&jr(t,r)),n}return r._value=e,r}var zr=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var i=Yt(t);return this.tween(n,(i.local?Ar:Dr)(i,e))};function Pr(t,e){return function(){er(this,t).delay=+e.apply(this,arguments)}}function Nr(t,e){return e=+e,function(){er(this,t).delay=e}}var Fr=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Pr:Nr)(e,t)):ir(this.node(),e).delay};function Ir(t,e){return function(){nr(this,t).duration=+e.apply(this,arguments)}}function Hr(t,e){return e=+e,function(){nr(this,t).duration=e}}var Br=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Ir:Hr)(e,t)):ir(this.node(),e).duration};function $r(t,e){if("function"!==typeof e)throw new Error;return function(){nr(this,t).ease=e}}var Vr=function(t){var e=this._id;return arguments.length?this.each($r(e,t)):ir(this.node(),e).ease},Wr=function(t){"function"!==typeof t&&(t=Ct(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new _o(i,this._parents,this._name,this._id)},Ur=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<i;++s)a[s]=e[s];return new _o(a,this._parents,this._name,this._id)};function Gr(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function qr(t,e,n){var i,r,o=Gr(e)?er:nr;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}var Yr=function(t,e){var n=this._id;return arguments.length<2?ir(this.node(),n).on.on(t):this.each(qr(n,t,e))};function Xr(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var Kr=function(){return this.on("end.remove",Xr(this._id))},Jr=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=yt(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,tr(h[d],e,n,d,h,ir(s,n)));return new _o(o,this._parents,e,n)},Zr=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=xt(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=ir(l,n),m=0,g=f.length;m<g;++m)(d=f[m])&&tr(d,e,n,m,f,p);o.push(f),a.push(l)}return new _o(o,a,e,n)},Qr=cn.prototype.constructor,to=function(){return new Qr(this._groups,this._parents)};function eo(t,e){var n,i,r;return function(){var o=se(this,t),a=(this.style.removeProperty(t),se(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}function no(t){return function(){this.style.removeProperty(t)}}function io(t,e,n){var i,r,o=n+"";return function(){var a=se(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}function ro(t,e,n){var i,r,o;return function(){var a=se(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=se(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}function oo(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var l=nr(this,t),c=l.on,u=null==l.value[a]?o||(o=no(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(s,r=u),l.on=i}}var ao=function(t,e,n){var i="transform"===(t+="")?br:Er;return null==e?this.styleTween(t,eo(t,i)).on("end.style."+t,no(t)):"function"===typeof e?this.styleTween(t,ro(t,i,xr(this,"style."+t,e))).each(oo(this._id,t)):this.styleTween(t,io(t,i,e),n).on("end.style."+t,null)};function so(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function lo(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&so(t,o,n)),i}return o._value=e,o}var co=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;return this.tween(i,lo(t,e,null==n?"":n))};function uo(t){return function(){this.textContent=t}}function ho(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var fo=function(t){return this.tween("text","function"===typeof t?ho(xr(this,"text",t)):uo(null==t?"":t+""))};function po(t){return function(e){this.textContent=t.call(this,e)}}function mo(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&po(i)),e}return i._value=t,i}var go=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,mo(t))},bo=function(){for(var t=this._name,e=this._id,n=xo(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=ir(a,e);tr(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _o(i,this._parents,t,n)},vo=function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--r&&o()}};n.each((function(){var n=nr(this,i),r=n.on;r!==t&&(e=(t=r).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))},yo=0;function _o(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function wo(t){return cn().transition(t)}function xo(){return++yo}var Eo=cn.prototype;function Co(t){return t*t*t}function ko(t){return--t*t*t+1}function Mo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}_o.prototype=wo.prototype={constructor:_o,select:Jr,selectAll:Zr,filter:Wr,merge:Ur,selection:to,transition:bo,call:Eo.call,nodes:Eo.nodes,node:Eo.node,size:Eo.size,empty:Eo.empty,each:Eo.each,on:Yr,attr:Rr,attrTween:zr,style:ao,styleTween:co,text:fo,textTween:go,remove:Kr,tween:wr,delay:Fr,duration:Br,ease:Vr,end:vo};var Oo={time:null,delay:0,duration:250,ease:Mo};function To(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))return Oo.time=zi(),Oo;return n}var So=function(t){var e,n;t instanceof _o?(e=t._id,t=t._name):(e=xo(),(n=Oo).time=zi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&tr(a,t,e,c,s,n||To(a,e));return new _o(i,this._parents,t,e)};cn.prototype.interrupt=ur,cn.prototype.transition=So;var Ro=[null],jo=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>Yi&&n.name===e)return new _o([[t]],Ro,e,+i);return null},Lo=function(t){return function(){return t}},Ao=function(t,e,n){this.target=t,this.type=e,this.selection=n};function Do(){Ge.stopImmediatePropagation()}var zo=function(){Ge.preventDefault(),Ge.stopImmediatePropagation()},Po={name:"drag"},No={name:"space"},Fo={name:"handle"},Io={name:"center"};function Ho(t){return[+t[0],+t[1]]}function Bo(t){return[Ho(t[0]),Ho(t[1])]}function $o(t){return function(e){return Ci(e,Ge.touches,t)}}var Vo={name:"x",handles:["w","e"].map(Jo),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Wo={name:"y",handles:["n","s"].map(Jo),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Uo={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Jo),input:function(t){return null==t?null:Bo(t)},output:function(t){return t}},Go={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Yo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Xo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ko={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Jo(t){return{type:t}}function Zo(){return!Ge.ctrlKey&&!Ge.button}function Qo(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ta(){return navigator.maxTouchPoints||"ontouchstart"in this}function ea(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function na(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ia(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function ra(){return sa(Vo)}function oa(){return sa(Wo)}var aa=function(){return sa(Uo)};function sa(t){var e,n=Qo,i=Zo,r=ta,o=!0,a=bt("start","brush","end"),s=6;function l(e){var n=e.property("__brush",m).selectAll(".overlay").data([Jo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Go.overlay).merge(n).each((function(){var t=ea(this).extent;un(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Jo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Go.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Go[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=un(this),e=ea(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e,n){var i=t.__brush.emitter;return!i||n&&i.clean?new h(t,e,n):i}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function d(){if((!e||Ge.touches)&&i.apply(this,arguments)){var n,r,a,s,l,h,d,f,p,m,g,b=this,v=Ge.target.__data__.type,y="selection"===(o&&Ge.metaKey?v="overlay":v)?Po:o&&Ge.altKey?Io:Fo,_=t===Wo?null:Xo[v],w=t===Vo?null:Ko[v],x=ea(b),E=x.extent,C=x.selection,k=E[0][0],M=E[0][1],O=E[1][0],T=E[1][1],S=0,R=0,j=_&&w&&o&&Ge.shiftKey,L=Ge.touches?$o(Ge.changedTouches[0].identifier):ki,A=L(b),D=A,z=u(b,arguments,!0).beforestart();"overlay"===v?(C&&(p=!0),x.selection=C=[[n=t===Wo?k:A[0],a=t===Vo?M:A[1]],[l=t===Wo?O:n,d=t===Vo?T:a]]):(n=C[0][0],a=C[0][1],l=C[1][0],d=C[1][1]),r=n,s=a,h=l,f=d;var P=un(b).attr("pointer-events","none"),N=P.selectAll(".overlay").attr("cursor",Go[v]);if(Ge.touches)z.moved=I,z.ended=B;else{var F=un(Ge.view).on("mousemove.brush",I,!0).on("mouseup.brush",B,!0);o&&F.on("keydown.brush",$,!0).on("keyup.brush",V,!0),fn(Ge.view)}Do(),cr(b),c.call(b),z.start()}function I(){var t=L(b);!j||m||g||(Math.abs(t[0]-D[0])>Math.abs(t[1]-D[1])?g=!0:m=!0),D=t,p=!0,zo(),H()}function H(){var t;switch(S=D[0]-A[0],R=D[1]-A[1],y){case No:case Po:_&&(S=Math.max(k-n,Math.min(O-l,S)),r=n+S,h=l+S),w&&(R=Math.max(M-a,Math.min(T-d,R)),s=a+R,f=d+R);break;case Fo:_<0?(S=Math.max(k-n,Math.min(O-n,S)),r=n+S,h=l):_>0&&(S=Math.max(k-l,Math.min(O-l,S)),r=n,h=l+S),w<0?(R=Math.max(M-a,Math.min(T-a,R)),s=a+R,f=d):w>0&&(R=Math.max(M-d,Math.min(T-d,R)),s=a,f=d+R);break;case Io:_&&(r=Math.max(k,Math.min(O,n-S*_)),h=Math.max(k,Math.min(O,l+S*_))),w&&(s=Math.max(M,Math.min(T,a-R*w)),f=Math.max(M,Math.min(T,d+R*w)));break}h<r&&(_*=-1,t=n,n=l,l=t,t=r,r=h,h=t,v in qo&&N.attr("cursor",Go[v=qo[v]])),f<s&&(w*=-1,t=a,a=d,d=t,t=s,s=f,f=t,v in Yo&&N.attr("cursor",Go[v=Yo[v]])),x.selection&&(C=x.selection),m&&(r=C[0][0],h=C[1][0]),g&&(s=C[0][1],f=C[1][1]),C[0][0]===r&&C[0][1]===s&&C[1][0]===h&&C[1][1]===f||(x.selection=[[r,s],[h,f]],c.call(b),z.brush())}function B(){if(Do(),Ge.touches){if(Ge.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else pn(Ge.view,p),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);P.attr("pointer-events","all"),N.attr("cursor",Go.overlay),x.selection&&(C=x.selection),na(C)&&(x.selection=null,c.call(b)),z.end()}function $(){switch(Ge.keyCode){case 16:j=_&&w;break;case 18:y===Fo&&(_&&(l=h-S*_,n=r+S*_),w&&(d=f-R*w,a=s+R*w),y=Io,H());break;case 32:y!==Fo&&y!==Io||(_<0?l=h-S:_>0&&(n=r-S),w<0?d=f-R:w>0&&(a=s-R),y=No,N.attr("cursor",Go.selection),H());break;default:return}zo()}function V(){switch(Ge.keyCode){case 16:j&&(m=g=j=!1,H());break;case 18:y===Io&&(_<0?l=h:_>0&&(n=r),w<0?d=f:w>0&&(a=s),y=Fo,H());break;case 32:y===No&&(Ge.altKey?(_&&(l=h-S*_,n=r+S*_),w&&(d=f-R*w,a=s+R*w),y=Io):(_<0?l=h:_>0&&(n=r),w<0?d=f:w>0&&(a=s),y=Fo),N.attr("cursor",Go[v]),H());break;default:return}zo()}}function f(){u(this,arguments).moved()}function p(){u(this,arguments).ended()}function m(){var e=this.__brush||{selection:null};return e.extent=Bo(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.selection?e.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var e=this,i=e.__brush,r=u(e,arguments),o=i.selection,a=t.input("function"===typeof n?n.apply(this,arguments):n,i.extent),s=wi(o,a);function l(t){i.selection=1===t&&null===a?null:s(t),c.call(e),r.brush()}return null!==o&&null!==a?l:l(1)})):e.each((function(){var e=this,i=arguments,r=e.__brush,o=t.input("function"===typeof n?n.apply(e,i):n,r.extent),a=u(e,i).beforestart();cr(e),r.selection=null===o?null:o,c.call(e),a.start().brush().end()}))},l.clear=function(t){l.move(t,null)},h.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){tn(new Ao(l,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"===typeof t?t:Lo(Bo(t)),l):n},l.filter=function(t){return arguments.length?(i="function"===typeof t?t:Lo(!!t),l):i},l.touchable=function(t){return arguments.length?(r="function"===typeof t?t:Lo(!!t),l):r},l.handleSize=function(t){return arguments.length?(s=+t,l):s},l.keyModifiers=function(t){return arguments.length?(o=!!t,l):o},l.on=function(){var t=a.on.apply(a,arguments);return t===a?l:t},l}var la=Math.cos,ca=Math.sin,ua=Math.PI,ha=ua/2,da=2*ua,fa=Math.max;function pa(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var ma=function(){var t=0,e=null,n=null,i=null;function r(r){var o,a,s,l,c,u,h=r.length,d=[],f=C(h),p=[],m=[],g=m.groups=new Array(h),b=new Array(h*h);o=0,c=-1;while(++c<h){a=0,u=-1;while(++u<h)a+=r[c][u];d.push(a),p.push(C(h)),o+=a}e&&f.sort((function(t,n){return e(d[t],d[n])})),n&&p.forEach((function(t,e){t.sort((function(t,i){return n(r[e][t],r[e][i])}))})),o=fa(0,da-t*h)/o,l=o?t:da/h,a=0,c=-1;while(++c<h){s=a,u=-1;while(++u<h){var v=f[c],y=p[v][u],_=r[v][y],w=a,x=a+=_*o;b[y*h+v]={index:v,subindex:y,startAngle:w,endAngle:x,value:_}}g[v]={index:v,startAngle:s,endAngle:a,value:d[v]},a+=l}c=-1;while(++c<h){u=c-1;while(++u<h){var E=b[u*h+c],k=b[c*h+u];(E.value||k.value)&&m.push(E.value<k.value?{source:k,target:E}:{source:E,target:k})}}return i?m.sort(i):m}return r.padAngle=function(e){return arguments.length?(t=fa(0,e),r):t},r.sortGroups=function(t){return arguments.length?(e=t,r):e},r.sortSubgroups=function(t){return arguments.length?(n=t,r):n},r.sortChords=function(t){return arguments.length?(null==t?i=null:(i=pa(t))._=t,r):i&&i._},r},ga=Array.prototype.slice,ba=function(t){return function(){return t}},va=Math.PI,ya=2*va,_a=1e-6,wa=ya-_a;function xa(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ea(){return new xa}xa.prototype=Ea.prototype={constructor:xa,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,l=i-e,c=o-t,u=a-e,h=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>_a)if(Math.abs(u*s-l*c)>_a&&r){var d=n-o,f=i-a,p=s*s+l*l,m=d*d+f*f,g=Math.sqrt(p),b=Math.sqrt(h),v=r*Math.tan((va-Math.acos((p+h-m)/(2*g*b)))/2),y=v/b,_=v/g;Math.abs(y-1)>_a&&(this._+="L"+(t+y*c)+","+(e+y*u)),this._+="A"+r+","+r+",0,0,"+ +(u*d>c*f)+","+(this._x1=t+_*s)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(i),s=n*Math.sin(i),l=t+a,c=e+s,u=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>_a||Math.abs(this._y1-c)>_a)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%ya+ya),h>wa?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>_a&&(this._+="A"+n+","+n+",0,"+ +(h>=va)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Ca=Ea;function ka(t){return t.source}function Ma(t){return t.target}function Oa(t){return t.radius}function Ta(t){return t.startAngle}function Sa(t){return t.endAngle}var Ra=function(){var t=ka,e=Ma,n=Oa,i=Ta,r=Sa,o=null;function a(){var a,s=ga.call(arguments),l=t.apply(this,s),c=e.apply(this,s),u=+n.apply(this,(s[0]=l,s)),h=i.apply(this,s)-ha,d=r.apply(this,s)-ha,f=u*la(h),p=u*ca(h),m=+n.apply(this,(s[0]=c,s)),g=i.apply(this,s)-ha,b=r.apply(this,s)-ha;if(o||(o=a=Ca()),o.moveTo(f,p),o.arc(0,0,u,h,d),h===g&&d===b||(o.quadraticCurveTo(0,0,m*la(g),m*ca(g)),o.arc(0,0,m,g,b)),o.quadraticCurveTo(0,0,f,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"===typeof t?t:ba(+t),a):n},a.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:ba(+t),a):i},a.endAngle=function(t){return arguments.length?(r="function"===typeof t?t:ba(+t),a):r},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a},ja="$";function La(){}function Aa(t,e){var n=new La;if(t instanceof La)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)while(++r<o)n.set(r,t[r]);else while(++r<o)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}La.prototype=Aa.prototype={constructor:La,has:function(t){return ja+t in this},get:function(t){return this[ja+t]},set:function(t,e){return this[ja+t]=e,this},remove:function(t){var e=ja+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===ja&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===ja&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===ja&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===ja&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===ja&&++t;return t},empty:function(){for(var t in this)if(t[0]===ja)return!1;return!0},each:function(t){for(var e in this)e[0]===ja&&t(this[e],e.slice(1),this)}};var Da=Aa,za=function(){var t,e,n,i=[],r=[];function o(n,r,a,s){if(r>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;var l,c,u,h=-1,d=n.length,f=i[r++],p=Da(),m=a();while(++h<d)(u=p.get(l=f(c=n[h])+""))?u.push(c):p.set(l,[c]);return p.each((function(t,e){s(m,e,o(t,r,a,s))})),m}function a(t,n){if(++n>i.length)return t;var o,s=r[n-1];return null!=e&&n>=i.length?o=t.entries():(o=[],t.each((function(t,e){o.push({key:e,values:a(t,n)})}))),null!=s?o.sort((function(t,e){return s(t.key,e.key)})):o}return n={object:function(t){return o(t,0,Pa,Na)},map:function(t){return o(t,0,Fa,Ia)},entries:function(t){return a(o(t,0,Fa,Ia),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return r[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Pa(){return{}}function Na(t,e,n){t[e]=n}function Fa(){return Da()}function Ia(t,e,n){t.set(e,n)}function Ha(){}var Ba=Da.prototype;function $a(t,e){var n=new Ha;if(t instanceof Ha)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)while(++i<r)n.add(t[i]);else while(++i<r)n.add(e(t[i],i,t))}return n}Ha.prototype=$a.prototype={constructor:Ha,has:Ba.has,add:function(t){return t+="",this[ja+t]=t,this},remove:Ba.remove,clear:Ba.clear,values:Ba.keys,size:Ba.size,empty:Ba.empty,each:Ba.each};var Va=$a,Wa=function(t){var e=[];for(var n in t)e.push(n);return e},Ua=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Ga=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},qa=Math.PI/180,Ya=180/Math.PI,Xa=18,Ka=.96422,Ja=1,Za=.82521,Qa=4/29,ts=6/29,es=3*ts*ts,ns=ts*ts*ts;function is(t){if(t instanceof as)return new as(t.l,t.a,t.b,t.opacity);if(t instanceof ps)return ms(t);t instanceof In||(t=Nn(t));var e,n,i=us(t.r),r=us(t.g),o=us(t.b),a=ss((.2225045*i+.7168786*r+.0606169*o)/Ja);return i===r&&r===o?e=n=a:(e=ss((.4360747*i+.3850649*r+.1430804*o)/Ka),n=ss((.0139322*i+.0971045*r+.7141733*o)/Za)),new as(116*a-16,500*(e-a),200*(a-n),t.opacity)}function rs(t,e){return new as(t,0,0,null==e?1:e)}function os(t,e,n,i){return 1===arguments.length?is(t):new as(t,e,n,null==i?1:i)}function as(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function ss(t){return t>ns?Math.pow(t,1/3):t/es+Qa}function ls(t){return t>ts?t*t*t:es*(t-Qa)}function cs(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function us(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hs(t){if(t instanceof ps)return new ps(t.h,t.c,t.l,t.opacity);if(t instanceof as||(t=is(t)),0===t.a&&0===t.b)return new ps(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ya;return new ps(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ds(t,e,n,i){return 1===arguments.length?hs(t):new ps(n,e,t,null==i?1:i)}function fs(t,e,n,i){return 1===arguments.length?hs(t):new ps(t,e,n,null==i?1:i)}function ps(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function ms(t){if(isNaN(t.h))return new as(t.l,0,0,t.opacity);var e=t.h*qa;return new as(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}mn(as,os,gn(bn,{brighter:function(t){return new as(this.l+Xa*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new as(this.l-Xa*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Ka*ls(e),t=Ja*ls(t),n=Za*ls(n),new In(cs(3.1338561*e-1.6168667*t-.4906146*n),cs(-.9787684*e+1.9161415*t+.033454*n),cs(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),mn(ps,fs,gn(bn,{brighter:function(t){return new ps(this.h,this.c,this.l+Xa*(null==t?1:t),this.opacity)},darker:function(t){return new ps(this.h,this.c,this.l-Xa*(null==t?1:t),this.opacity)},rgb:function(){return ms(this).rgb()}}));var gs=-.14861,bs=1.78277,vs=-.29227,ys=-.90649,_s=1.97294,ws=_s*ys,xs=_s*bs,Es=bs*vs-ys*gs;function Cs(t){if(t instanceof Ms)return new Ms(t.h,t.s,t.l,t.opacity);t instanceof In||(t=Nn(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Es*i+ws*e-xs*n)/(Es+ws-xs),o=i-r,a=(_s*(n-r)-vs*o)/ys,s=Math.sqrt(a*a+o*o)/(_s*r*(1-r)),l=s?Math.atan2(a,o)*Ya-120:NaN;return new Ms(l<0?l+360:l,s,r,t.opacity)}function ks(t,e,n,i){return 1===arguments.length?Cs(t):new Ms(t,e,n,null==i?1:i)}function Ms(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}mn(Ms,ks,gn(bn,{brighter:function(t){return t=null==t?yn:Math.pow(yn,t),new Ms(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?vn:Math.pow(vn,t),new Ms(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*qa,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new In(255*(e+n*(gs*i+bs*r)),255*(e+n*(vs*i+ys*r)),255*(e+n*(_s*i)),this.opacity)}}));var Os=Array.prototype,Ts=Os.slice,Ss=function(t,e){return t-e},Rs=function(t){var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];while(++e<n)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i},js=function(t){return function(){return t}},Ls=function(t,e){var n,i=-1,r=e.length;while(++i<r)if(n=As(t,e[i]))return n;return 0};function As(t,e){for(var n=e[0],i=e[1],r=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var l=t[o],c=l[0],u=l[1],h=t[s],d=h[0],f=h[1];if(Ds(l,h,e))return 0;u>i!==f>i&&n<(d-c)*(i-u)/(f-u)+c&&(r=-r)}return r}function Ds(t,e,n){var i;return zs(t,e,n)&&Ps(t[i=+(t[0]===e[0])],n[i],e[i])}function zs(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function Ps(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}var Ns=function(){},Fs=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Is=function(){var t=1,e=1,n=j,i=l;function r(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Ss);else{var i=v(t),r=i[0],a=i[1];e=R(r,a,e),e=C(Math.floor(r/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(t,e){var n=[],r=[];return a(t,e,(function(o){i(o,t,e),Rs(o)>0?n.push([o]):r.push(o)})),r.forEach((function(t){for(var e,i=0,r=n.length;i<r;++i)if(-1!==Ls((e=n[i])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:e,coordinates:n}}function a(n,i,r){var o,a,l,c,u,h,d=new Array,f=new Array;o=a=-1,c=n[0]>=i,Fs[c<<1].forEach(p);while(++o<t-1)l=c,c=n[o+1]>=i,Fs[l|c<<1].forEach(p);Fs[c<<0].forEach(p);while(++a<e-1){o=-1,c=n[a*t+t]>=i,u=n[a*t]>=i,Fs[c<<1|u<<2].forEach(p);while(++o<t-1)l=c,c=n[a*t+t+o+1]>=i,h=u,u=n[a*t+o+1]>=i,Fs[l|c<<1|u<<2|h<<3].forEach(p);Fs[c|u<<3].forEach(p)}o=-1,u=n[a*t]>=i,Fs[u<<2].forEach(p);while(++o<t-1)h=u,u=n[a*t+o+1]>=i,Fs[u<<2|h<<3].forEach(p);function p(t){var e,n,i=[t[0][0]+o,t[0][1]+a],l=[t[1][0]+o,t[1][1]+a],c=s(i),u=s(l);(e=f[c])?(n=d[u])?(delete f[e.end],delete d[n.start],e===n?(e.ring.push(l),r(e.ring)):d[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(l),f[e.end=u]=e):(e=d[u])?(n=f[c])?(delete d[e.start],delete f[n.end],e===n?(e.ring.push(l),r(e.ring)):d[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(i),d[e.start=c]=e):d[c]=f[u]={start:c,end:u,ring:[i,l]}}Fs[u<<3].forEach(p)}function s(e){return 2*e[0]+e[1]*(t+1)*4}function l(n,i,r){n.forEach((function(n){var o,a=n[0],s=n[1],l=0|a,c=0|s,u=i[c*t+l];a>0&&a<t&&l===a&&(o=i[c*t+l-1],n[0]=a+(r-o)/(u-o)-.5),s>0&&s<e&&c===s&&(o=i[(c-1)*t+l],n[1]=s+(r-o)/(u-o)-.5)}))}return r.contour=o,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(i>0)||!(o>0))throw new Error("invalid size");return t=i,e=o,r},r.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:Array.isArray(t)?js(Ts.call(t)):js(t),r):n},r.smooth=function(t){return arguments.length?(i=t?l:Ns,r):i===l},r};function Hs(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=t.data[s+a*i]),s>=n&&(s>=o&&(l-=t.data[s-o+a*i]),e.data[s-n+a*i]=l/Math.min(s+1,i-1+o-s,o))}function Bs(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=t.data[a+s*i]),s>=n&&(s>=o&&(l-=t.data[a+(s-o)*i]),e.data[a+(s-n)*i]=l/Math.min(s+1,r-1+o-s,o))}function $s(t){return t[0]}function Vs(t){return t[1]}function Ws(){return 1}var Us=function(){var t=$s,e=Vs,n=Ws,i=960,r=500,o=20,a=2,s=3*o,l=i+2*s>>a,c=r+2*s>>a,u=js(20);function h(i){var r=new Float32Array(l*c),h=new Float32Array(l*c);i.forEach((function(i,o,u){var h=+t(i,o,u)+s>>a,d=+e(i,o,u)+s>>a,f=+n(i,o,u);h>=0&&h<l&&d>=0&&d<c&&(r[h+d*l]+=f)})),Hs({width:l,height:c,data:r},{width:l,height:c,data:h},o>>a),Bs({width:l,height:c,data:h},{width:l,height:c,data:r},o>>a),Hs({width:l,height:c,data:r},{width:l,height:c,data:h},o>>a),Bs({width:l,height:c,data:h},{width:l,height:c,data:r},o>>a),Hs({width:l,height:c,data:r},{width:l,height:c,data:h},o>>a),Bs({width:l,height:c,data:h},{width:l,height:c,data:r},o>>a);var f=u(r);if(!Array.isArray(f)){var p=P(r);f=R(0,p,f),f=C(0,Math.floor(p/f)*f,f),f.shift()}return Is().thresholds(f).size([l,c])(r).map(d)}function d(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(f),t}function f(t){t.forEach(p)}function p(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function g(){return s=3*o,l=i+2*s>>a,c=r+2*s>>a,h}return h.x=function(e){return arguments.length?(t="function"===typeof e?e:js(+e),h):t},h.y=function(t){return arguments.length?(e="function"===typeof t?t:js(+t),h):e},h.weight=function(t){return arguments.length?(n="function"===typeof t?t:js(+t),h):n},h.size=function(t){if(!arguments.length)return[i,r];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0)&&!(e>=0))throw new Error("invalid size");return i=e,r=n,g()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),g()},h.thresholds=function(t){return arguments.length?(u="function"===typeof t?t:Array.isArray(t)?js(Ts.call(t)):js(t),h):u},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},h},Gs=function(t){return function(){return t}};function qs(t,e,n,i,r,o,a,s,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=c}function Ys(){return!Ge.ctrlKey&&!Ge.button}function Xs(){return this.parentNode}function Ks(t){return null==t?{x:Ge.x,y:Ge.y}:t}function Js(){return navigator.maxTouchPoints||"ontouchstart"in this}qs.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Zs=function(){var t,e,n,i,r=Ys,o=Xs,a=Ks,s=Js,l={},c=bt("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!i&&r.apply(this,arguments)){var a=y("mouse",o.apply(this,arguments),ki,this,arguments);a&&(un(Ge.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),fn(Ge.view),hn(),n=!1,t=Ge.clientX,e=Ge.clientY,a("start"))}}function p(){if(dn(),!n){var i=Ge.clientX-t,r=Ge.clientY-e;n=i*i+r*r>h}l.mouse("drag")}function m(){un(Ge.view).on("mousemove.drag mouseup.drag",null),pn(Ge.view,n),dn(),l.mouse("end")}function g(){if(r.apply(this,arguments)){var t,e,n=Ge.changedTouches,i=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=y(n[t].identifier,i,Ci,this,arguments))&&(hn(),e("start"))}}function b(){var t,e,n=Ge.changedTouches,i=n.length;for(t=0;t<i;++t)(e=l[n[t].identifier])&&(dn(),e("drag"))}function v(){var t,e,n=Ge.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<r;++t)(e=l[n[t].identifier])&&(hn(),e("end"))}function y(t,e,n,i,r){var o,s,h,f=n(e,t),p=c.copy();if(tn(new qs(d,"beforestart",o,t,u,f[0],f[1],0,0,p),(function(){return null!=(Ge.subject=o=a.apply(i,r))&&(s=o.x-f[0]||0,h=o.y-f[1]||0,!0)})))return function a(c){var m,g=f;switch(c){case"start":l[t]=a,m=u++;break;case"end":delete l[t],--u;case"drag":f=n(e,t),m=u;break}tn(new qs(d,c,o,t,m,f[0]+s,f[1]+h,f[0]-g[0],f[1]-g[1],p),p.apply,p,[c,i,r])}}return d.filter=function(t){return arguments.length?(r="function"===typeof t?t:Gs(!!t),d):r},d.container=function(t){return arguments.length?(o="function"===typeof t?t:Gs(t),d):o},d.subject=function(t){return arguments.length?(a="function"===typeof t?t:Gs(t),d):a},d.touchable=function(t){return arguments.length?(s="function"===typeof t?t:Gs(!!t),d):s},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},Qs={},tl={},el=34,nl=10,il=13;function rl(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ol(t,e){var n=rl(t);return function(i,r){return e(n(i),r,t)}}function al(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function sl(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function ll(t){return t<0?"-"+sl(-t,6):t>9999?"+"+sl(t,6):sl(t,4)}function cl(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),i=t.getUTCSeconds(),r=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ll(t.getUTCFullYear(),4)+"-"+sl(t.getUTCMonth()+1,2)+"-"+sl(t.getUTCDate(),2)+(r?"T"+sl(e,2)+":"+sl(n,2)+":"+sl(i,2)+"."+sl(r,3)+"Z":i?"T"+sl(e,2)+":"+sl(n,2)+":"+sl(i,2)+"Z":n||e?"T"+sl(e,2)+":"+sl(n,2)+"Z":"")}var ul=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?ol(t,e):rl(t)}));return o.columns=i||[],o}function r(t,e){var i,r=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return tl;if(c)return c=!1,Qs;var e,i,r=a;if(t.charCodeAt(r)===el){while(a++<o&&t.charCodeAt(a)!==el||t.charCodeAt(++a)===el);return(e=a)>=o?l=!0:(i=t.charCodeAt(a++))===nl?c=!0:i===il&&(c=!0,t.charCodeAt(a)===nl&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}while(a<o){if((i=t.charCodeAt(e=a++))===nl)c=!0;else if(i===il)c=!0,t.charCodeAt(a)===nl&&++a;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}t.charCodeAt(o-1)===nl&&--o,t.charCodeAt(o-1)===il&&--o;while((i=u())!==tl){var h=[];while(i!==Qs&&i!==tl)h.push(i),i=u();e&&null==(h=e(h,s++))||r.push(h)}return r}function o(e,n){return e.map((function(e){return n.map((function(t){return u(e[t])})).join(t)}))}function a(e,n){return null==n&&(n=al(e)),[n.map(u).join(t)].concat(o(e,n)).join("\n")}function s(t,e){return null==e&&(e=al(t)),o(t,e).join("\n")}function l(t){return t.map(c).join("\n")}function c(e){return e.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?cl(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:i,parseRows:r,format:a,formatBody:s,formatRows:l,formatRow:c,formatValue:u}},hl=ul(","),dl=hl.parse,fl=hl.parseRows,pl=hl.format,ml=hl.formatBody,gl=hl.formatRows,bl=hl.formatRow,vl=hl.formatValue,yl=ul("\t"),_l=yl.parse,wl=yl.parseRows,xl=yl.format,El=yl.formatBody,Cl=yl.formatRows,kl=yl.formatRow,Ml=yl.formatValue;function Ol(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Tl&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t}var Tl=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Sl(t){return+t}function Rl(t){return t*t}function jl(t){return t*(2-t)}function Ll(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Al=3,Dl=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(Al),zl=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(Al),Pl=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(Al),Nl=Math.PI,Fl=Nl/2;function Il(t){return 1===+t?1:1-Math.cos(t*Fl)}function Hl(t){return Math.sin(t*Fl)}function Bl(t){return(1-Math.cos(Nl*t))/2}function $l(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Vl(t){return $l(1-+t)}function Wl(t){return 1-$l(t)}function Ul(t){return((t*=2)<=1?$l(1-t):2-$l(t-1))/2}function Gl(t){return 1-Math.sqrt(1-t*t)}function ql(t){return Math.sqrt(1- --t*t)}function Yl(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Xl=4/11,Kl=6/11,Jl=8/11,Zl=3/4,Ql=9/11,tc=10/11,ec=15/16,nc=21/22,ic=63/64,rc=1/Xl/Xl;function oc(t){return 1-ac(1-t)}function ac(t){return(t=+t)<Xl?rc*t*t:t<Jl?rc*(t-=Kl)*t+Zl:t<tc?rc*(t-=Ql)*t+ec:rc*(t-=nc)*t+ic}function sc(t){return((t*=2)<=1?1-ac(1-t):ac(t-1)+1)/2}var lc=1.70158,cc=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(lc),uc=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(lc),hc=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(lc),dc=2*Math.PI,fc=1,pc=.3,mc=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=dc);function r(t){return e*$l(- --t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*dc)},r.period=function(n){return t(e,n)},r}(fc,pc),gc=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=dc);function r(t){return 1-e*$l(t=+t)*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*dc)},r.period=function(n){return t(e,n)},r}(fc,pc),bc=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=dc);function r(t){return((t=2*t-1)<0?e*$l(-t)*Math.sin((i-t)/n):2-e*$l(t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*dc)},r.period=function(n){return t(e,n)},r}(fc,pc);function vc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var yc=function(t,e){return fetch(t,e).then(vc)};function _c(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var wc=function(t,e){return fetch(t,e).then(_c)};function xc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Ec=function(t,e){return fetch(t,e).then(xc)};function Cc(t){return function(e,n,i){return 2===arguments.length&&"function"===typeof n&&(i=n,n=void 0),Ec(e,n).then((function(e){return t(e,i)}))}}function kc(t,e,n,i){3===arguments.length&&"function"===typeof n&&(i=n,n=void 0);var r=ul(t);return Ec(e,n).then((function(t){return r.parse(t,i)}))}var Mc=Cc(dl),Oc=Cc(_l),Tc=function(t,e){return new Promise((function(n,i){var r=new Image;for(var o in e)r[o]=e[o];r.onerror=i,r.onload=function(){n(r)},r.src=t}))};function Sc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}var Rc=function(t,e){return fetch(t,e).then(Sc)};function jc(t){return function(e,n){return Ec(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}var Lc=jc("application/xml"),Ac=jc("text/html"),Dc=jc("image/svg+xml"),zc=function(t,e){var n;function i(){var i,r,o=n.length,a=0,s=0;for(i=0;i<o;++i)r=n[i],a+=r.x,s+=r.y;for(a=a/o-t,s=s/o-e,i=0;i<o;++i)r=n[i],r.x-=a,r.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},Pc=function(t){return function(){return t}},Nc=function(){return 1e-6*(Math.random()-.5)},Fc=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Ic(this.cover(e,n),e,n,t)};function Ic(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,l,c,u,h,d,f=t._root,p={data:i},m=t._x0,g=t._y0,b=t._x1,v=t._y1;if(!f)return t._root=p,t;while(f.length)if((c=e>=(o=(m+b)/2))?m=o:b=o,(u=n>=(a=(g+v)/2))?g=a:v=a,r=f,!(f=f[h=u<<1|c]))return r[h]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+b)/2))?m=o:b=o,(u=n>=(a=(g+v)/2))?g=a:v=a}while((h=u<<1|c)===(d=(l>=a)<<1|s>=o));return r[d]=f,r[h]=p,t}function Hc(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>h&&(h=r));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)Ic(this,a[n],s[n],t[n]);return this}var Bc=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{var a,s,l=r-n,c=this._root;while(n>t||t>=r||i>e||e>=o)switch(s=(e<i)<<1|t<n,a=new Array(4),a[s]=c,c=a,l*=2,s){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},$c=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Vc=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Wc=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r},Uc=function(t,e,n){var i,r,o,a,s,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;m&&p.push(new Wc(m,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);while(l=p.pop())if(!(!(m=l.node)||(r=l.x0)>d||(o=l.y0)>f||(a=l.x1)<u||(s=l.y1)<h))if(m.length){var g=(r+a)/2,b=(o+s)/2;p.push(new Wc(m[3],g,b,a,s),new Wc(m[2],r,b,g,s),new Wc(m[1],g,o,a,b),new Wc(m[0],r,o,g,b)),(c=(e>=b)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=t-+this._x.call(null,m.data),y=e-+this._y.call(null,m.data),_=v*v+y*y;if(_<n){var w=Math.sqrt(n=_);u=t-w,h=e-w,d=t+w,f=e+w,i=m.data}}return i},Gc=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,l,c,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,b=this._y1;if(!f)return this;if(f.length)while(1){if((c=o>=(s=(p+g)/2))?p=s:g=s,(u=a>=(l=(m+b)/2))?m=l:b=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}while(f.data!==t)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)};function qc(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}var Yc=function(){return this._root},Xc=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Kc=function(t){var e,n,i,r,o,a,s=[],l=this._root;l&&s.push(new Wc(l,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(i+o)/2,u=(r+a)/2;(n=l[3])&&s.push(new Wc(n,c,u,o,a)),(n=l[2])&&s.push(new Wc(n,i,u,c,a)),(n=l[1])&&s.push(new Wc(n,c,r,o,u)),(n=l[0])&&s.push(new Wc(n,i,r,c,u))}return this},Jc=function(t){var e,n=[],i=[];this._root&&n.push(new Wc(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(o=r[0])&&n.push(new Wc(o,a,s,u,h)),(o=r[1])&&n.push(new Wc(o,u,s,l,h)),(o=r[2])&&n.push(new Wc(o,a,h,u,c)),(o=r[3])&&n.push(new Wc(o,u,h,l,c))}i.push(e)}while(e=i.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this};function Zc(t){return t[0]}var Qc=function(t){return arguments.length?(this._x=t,this):this._x};function tu(t){return t[1]}var eu=function(t){return arguments.length?(this._y=t,this):this._y};function nu(t,e,n){var i=new iu(null==e?Zc:e,null==n?tu:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function iu(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function ru(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var ou=nu.prototype=iu.prototype;function au(t){return t.x+t.vx}function su(t){return t.y+t.vy}ou.copy=function(){var t,e,n=new iu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ru(i),n;t=[{source:i,target:n._root=new Array(4)}];while(i=t.pop())for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ru(e));return n},ou.add=Fc,ou.addAll=Hc,ou.cover=Bc,ou.data=$c,ou.extent=Vc,ou.find=Uc,ou.remove=Gc,ou.removeAll=qc,ou.root=Yc,ou.size=Xc,ou.visit=Kc,ou.visitAfter=Jc,ou.x=Qc,ou.y=eu;var lu=function(t){var e,n,i=1,r=1;function o(){for(var t,o,s,l,c,u,h,d=e.length,f=0;f<r;++f)for(o=nu(e,au,su).visitAfter(a),t=0;t<d;++t)s=e[t],u=n[s.index],h=u*u,l=s.x+s.vx,c=s.y+s.vy,o.visit(p);function p(t,e,n,r,o){var a=t.data,d=t.r,f=u+d;if(!a)return e>l+f||r<l-f||n>c+f||o<c-f;if(a.index>s.index){var p=l-a.x-a.vx,m=c-a.y-a.vy,g=p*p+m*m;g<f*f&&(0===p&&(p=Nc(),g+=p*p),0===m&&(m=Nc(),g+=m*m),g=(f-(g=Math.sqrt(g)))/g*i,s.vx+=(p*=g)*(f=(d*=d)/(h+d)),s.vy+=(m*=g)*f,a.vx-=p*(f=1-f),a.vy-=m*f)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!==typeof t&&(t=Pc(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"===typeof e?e:Pc(+e),s(),o):t},o};function cu(t){return t.index}function uu(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var hu=function(t){var e,n,i,r,o,a=cu,s=u,l=Pc(30),c=1;function u(t){return 1/Math.min(r[t.source.index],r[t.target.index])}function h(i){for(var r=0,a=t.length;r<c;++r)for(var s,l,u,h,d,f,p,m=0;m<a;++m)s=t[m],l=s.source,u=s.target,h=u.x+u.vx-l.x-l.vx||Nc(),d=u.y+u.vy-l.y-l.vy||Nc(),f=Math.sqrt(h*h+d*d),f=(f-n[m])/f*i*e[m],h*=f,d*=f,u.vx-=h*(p=o[m]),u.vy-=d*p,l.vx+=h*(p=1-p),l.vy+=d*p}function d(){if(i){var s,l,c=i.length,u=t.length,h=Da(i,a);for(s=0,r=new Array(c);s<u;++s)l=t[s],l.index=s,"object"!==typeof l.source&&(l.source=uu(h,l.source)),"object"!==typeof l.target&&(l.target=uu(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)l=t[s],o[s]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(u),f(),n=new Array(u),p()}}function f(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+s(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t){i=t,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(s="function"===typeof t?t:Pc(+t),f(),h):s},h.distance=function(t){return arguments.length?(l="function"===typeof t?t:Pc(+t),p(),h):l},h};function du(t){return t.x}function fu(t){return t.y}var pu=10,mu=Math.PI*(3-Math.sqrt(5)),gu=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=Da(),l=Fi(u),c=bt("tick","end");function u(){h(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function h(i){var l,c,u=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,s.each((function(t){t(n)})),l=0;l<u;++l)c=t[l],null==c.fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=pu*Math.sqrt(n),o=n*mu;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.each(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,f(n)),e):s.get(t)},find:function(e,n,i){var r,o,a,s,l,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)s=t[c],r=e-s.x,o=n-s.y,a=r*r+o*o,a<i&&(l=s,i=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},bu=function(){var t,e,n,i,r=Pc(-30),o=1,a=1/0,s=.81;function l(i){var r,o=t.length,a=nu(t,du,fu).visitAfter(u);for(n=i,r=0;r<o;++r)e=t[r],a.visit(h)}function c(){if(t){var e,n,o=t.length;for(i=new Array(o),e=0;e<o;++e)n=t[e],i[n.index]=+r(n,e,t)}}function u(t){var e,n,r,o,a,s=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,r,l,c){if(!t.value)return!0;var u=t.x-e.x,h=t.y-e.y,d=c-r,f=u*u+h*h;if(d*d/s<f)return f<a&&(0===u&&(u=Nc(),f+=u*u),0===h&&(h=Nc(),f+=h*h),f<o&&(f=Math.sqrt(o*f)),e.vx+=u*t.value*n/f,e.vy+=h*t.value*n/f),!0;if(!(t.length||f>=a)){(t.data!==e||t.next)&&(0===u&&(u=Nc(),f+=u*u),0===h&&(h=Nc(),f+=h*h),f<o&&(f=Math.sqrt(o*f)));do{t.data!==e&&(d=i[t.data.index]*n/f,e.vx+=u*d,e.vy+=h*d)}while(t=t.next)}}return l.initialize=function(e){t=e,c()},l.strength=function(t){return arguments.length?(r="function"===typeof t?t:Pc(+t),c(),l):r},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l},vu=function(t,e,n){var i,r,o,a=Pc(.1);function s(t){for(var a=0,s=i.length;a<s;++a){var l=i[a],c=l.x-e||1e-6,u=l.y-n||1e-6,h=Math.sqrt(c*c+u*u),d=(o[a]-h)*r[a]*t/h;l.vx+=c*d,l.vy+=u*d}}function l(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(i[e],e,i),r[e]=isNaN(o[e])?0:+a(i[e],e,i)}}return"function"!==typeof t&&(t=Pc(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){i=t,l()},s.strength=function(t){return arguments.length?(a="function"===typeof t?t:Pc(+t),l(),s):a},s.radius=function(e){return arguments.length?(t="function"===typeof e?e:Pc(+e),l(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},yu=function(t){var e,n,i,r=Pc(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)r=e[o],r.vx+=(i[o]-r.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!==typeof t&&(t=Pc(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"===typeof t?t:Pc(+t),a(),o):r},o.x=function(e){return arguments.length?(t="function"===typeof e?e:Pc(+e),a(),o):t},o},_u=function(t){var e,n,i,r=Pc(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)r=e[o],r.vy+=(i[o]-r.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!==typeof t&&(t=Pc(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"===typeof t?t:Pc(+t),a(),o):r},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Pc(+e),a(),o):t},o},wu=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)};function xu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}var Eu=function(t){return t=xu(Math.abs(t)),t?t[1]:NaN},Cu=function(t,e){return function(n,i){var r=n.length,o=[],a=0,s=t[0],l=0;while(r>0&&s>0){if(l+s+1>i&&(s=Math.max(1,i-l)),o.push(n.substring(r-=s,r+s)),(l+=s+1)>i)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}},ku=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},Mu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ou(t){if(!(e=Mu.exec(t)))throw new Error("invalid format: "+t);var e;return new Tu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Tu(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Ou.prototype=Tu.prototype,Tu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Su,Ru,ju,Lu,Au=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(e+1):t},Du=function(t,e){var n=xu(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Su=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+xu(t,Math.max(0,e+o-1))[0]},zu=function(t,e){var n=xu(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Pu={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:wu,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return zu(100*t,e)},r:zu,s:Du,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Nu=function(t){return t},Fu=Array.prototype.map,Iu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],Hu=function(t){var e=void 0===t.grouping||void 0===t.thousands?Nu:Cu(Fu.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",r=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Nu:ku(Fu.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){t=Ou(t);var c=t.fill,u=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,b=t.trim,v=t.type;"n"===v?(m=!0,v="g"):Pu[v]||(void 0===g&&(g=12),b=!0,v="g"),(f||"0"===c&&"="===u)&&(f=!0,c="0",u="=");var y="$"===d?n:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===d?i:/[%p]/.test(v)?a:"",w=Pu[v],x=/[defgprs%]/.test(v);function E(t){var n,i,a,d=y,E=_;if("c"===v)E=w(t)+E,t="";else{t=+t;var C=t<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),g),b&&(t=Au(t)),C&&0===+t&&"+"!==h&&(C=!1),d=(C?"("===h?h:s:"-"===h||"("===h?"":h)+d,E=("s"===v?Iu[8+Su/3]:"")+E+(C&&"("===h?")":""),x){n=-1,i=t.length;while(++n<i)if(a=t.charCodeAt(n),48>a||a>57){E=(46===a?r+t.slice(n+1):t.slice(n))+E,t=t.slice(0,n);break}}}m&&!f&&(t=e(t,1/0));var k=d.length+t.length+E.length,M=k<p?new Array(p-k+1).join(c):"";switch(m&&f&&(t=e(M+t,M.length?p-E.length:1/0),M=""),u){case"<":t=d+t+E+M;break;case"=":t=d+M+t+E;break;case"^":t=M.slice(0,k=M.length>>1)+d+t+E+M.slice(k);break;default:t=M+d+t+E;break}return o(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return t+""},E}function u(t,e){var n=c((t=Ou(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Eu(e)/3))),r=Math.pow(10,-i),o=Iu[8+i/3];return function(t){return n(r*t)+o}}return{format:c,formatPrefix:u}};function Bu(t){return Ru=Hu(t),ju=Ru.format,Lu=Ru.formatPrefix,Ru}Bu({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var $u=function(t){return Math.max(0,-Eu(Math.abs(t)))},Vu=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Eu(e)/3)))-Eu(Math.abs(t)))},Wu=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Eu(e)-Eu(t))+1},Uu=function(){return new Gu};function Gu(){this.reset()}Gu.prototype={constructor:Gu,reset:function(){this.s=this.t=0},add:function(t){Yu(qu,t,this.t),Yu(this,qu.s,this.s),this.s?this.t+=qu.t:this.s=qu.t},valueOf:function(){return this.s}};var qu=new Gu;function Yu(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var Xu=1e-6,Ku=1e-12,Ju=Math.PI,Zu=Ju/2,Qu=Ju/4,th=2*Ju,eh=180/Ju,nh=Ju/180,ih=Math.abs,rh=Math.atan,oh=Math.atan2,ah=Math.cos,sh=Math.ceil,lh=Math.exp,ch=(Math.floor,Math.log),uh=Math.pow,hh=Math.sin,dh=Math.sign||function(t){return t>0?1:t<0?-1:0},fh=Math.sqrt,ph=Math.tan;function mh(t){return t>1?0:t<-1?Ju:Math.acos(t)}function gh(t){return t>1?Zu:t<-1?-Zu:Math.asin(t)}function bh(t){return(t=hh(t/2))*t}function vh(){}function yh(t,e){t&&wh.hasOwnProperty(t.type)&&wh[t.type](t,e)}var _h={Feature:function(t,e){yh(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,i=-1,r=n.length;while(++i<r)yh(n[i].geometry,e)}},wh={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){xh(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)xh(n[i],e,0)},Polygon:function(t,e){Eh(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)Eh(n[i],e)},GeometryCollection:function(t,e){var n=t.geometries,i=-1,r=n.length;while(++i<r)yh(n[i],e)}};function xh(t,e,n){var i,r=-1,o=t.length-n;e.lineStart();while(++r<o)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Eh(t,e){var n=-1,i=t.length;e.polygonStart();while(++n<i)xh(t[n],e,1);e.polygonEnd()}var Ch,kh,Mh,Oh,Th,Sh=function(t,e){t&&_h.hasOwnProperty(t.type)?_h[t.type](t,e):yh(t,e)},Rh=Uu(),jh=Uu(),Lh={point:vh,lineStart:vh,lineEnd:vh,polygonStart:function(){Rh.reset(),Lh.lineStart=Ah,Lh.lineEnd=Dh},polygonEnd:function(){var t=+Rh;jh.add(t<0?th+t:t),this.lineStart=this.lineEnd=this.point=vh},sphere:function(){jh.add(th)}};function Ah(){Lh.point=zh}function Dh(){Ph(Ch,kh)}function zh(t,e){Lh.point=Ph,Ch=t,kh=e,t*=nh,e*=nh,Mh=t,Oh=ah(e=e/2+Qu),Th=hh(e)}function Ph(t,e){t*=nh,e*=nh,e=e/2+Qu;var n=t-Mh,i=n>=0?1:-1,r=i*n,o=ah(e),a=hh(e),s=Th*a,l=Oh*o+s*ah(r),c=s*i*hh(r);Rh.add(oh(c,l)),Mh=t,Oh=o,Th=a}var Nh=function(t){return jh.reset(),Sh(t,Lh),2*jh};function Fh(t){return[oh(t[1],t[0]),gh(t[2])]}function Ih(t){var e=t[0],n=t[1],i=ah(n);return[i*ah(e),i*hh(e),hh(n)]}function Hh(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bh(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function $h(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Vh(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Wh(t){var e=fh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Uh,Gh,qh,Yh,Xh,Kh,Jh,Zh,Qh,td,ed=Uu(),nd={point:id,lineStart:od,lineEnd:ad,polygonStart:function(){nd.point=sd,nd.lineStart=ld,nd.lineEnd=cd,ed.reset(),Lh.polygonStart()},polygonEnd:function(){Lh.polygonEnd(),nd.point=id,nd.lineStart=od,nd.lineEnd=ad,Rh<0?(Uh=-(qh=180),Gh=-(Yh=90)):ed>Xu?Yh=90:ed<-Xu&&(Gh=-90),td[0]=Uh,td[1]=qh},sphere:function(){Uh=-(qh=180),Gh=-(Yh=90)}};function id(t,e){Qh.push(td=[Uh=t,qh=t]),e<Gh&&(Gh=e),e>Yh&&(Yh=e)}function rd(t,e){var n=Ih([t*nh,e*nh]);if(Zh){var i=Bh(Zh,n),r=[i[1],-i[0],0],o=Bh(r,i);Wh(o),o=Fh(o);var a,s=t-Xh,l=s>0?1:-1,c=o[0]*eh*l,u=ih(s)>180;u^(l*Xh<c&&c<l*t)?(a=o[1]*eh,a>Yh&&(Yh=a)):(c=(c+360)%360-180,u^(l*Xh<c&&c<l*t)?(a=-o[1]*eh,a<Gh&&(Gh=a)):(e<Gh&&(Gh=e),e>Yh&&(Yh=e))),u?t<Xh?ud(Uh,t)>ud(Uh,qh)&&(qh=t):ud(t,qh)>ud(Uh,qh)&&(Uh=t):qh>=Uh?(t<Uh&&(Uh=t),t>qh&&(qh=t)):t>Xh?ud(Uh,t)>ud(Uh,qh)&&(qh=t):ud(t,qh)>ud(Uh,qh)&&(Uh=t)}else Qh.push(td=[Uh=t,qh=t]);e<Gh&&(Gh=e),e>Yh&&(Yh=e),Zh=n,Xh=t}function od(){nd.point=rd}function ad(){td[0]=Uh,td[1]=qh,nd.point=id,Zh=null}function sd(t,e){if(Zh){var n=t-Xh;ed.add(ih(n)>180?n+(n>0?360:-360):n)}else Kh=t,Jh=e;Lh.point(t,e),rd(t,e)}function ld(){Lh.lineStart()}function cd(){sd(Kh,Jh),Lh.lineEnd(),ih(ed)>Xu&&(Uh=-(qh=180)),td[0]=Uh,td[1]=qh,Zh=null}function ud(t,e){return(e-=t)<0?e+360:e}function hd(t,e){return t[0]-e[0]}function dd(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var fd,pd,md,gd,bd,vd,yd,_d,wd,xd,Ed,Cd,kd,Md,Od,Td,Sd=function(t){var e,n,i,r,o,a,s;if(Yh=qh=-(Uh=Gh=1/0),Qh=[],Sh(t,nd),n=Qh.length){for(Qh.sort(hd),e=1,i=Qh[0],o=[i];e<n;++e)r=Qh[e],dd(i,r[0])||dd(i,r[1])?(ud(i[0],r[1])>ud(i[0],i[1])&&(i[1]=r[1]),ud(r[0],i[1])>ud(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,n=o.length-1,e=0,i=o[n];e<=n;i=r,++e)r=o[e],(s=ud(i[1],r[0]))>a&&(a=s,Uh=r[0],qh=i[1])}return Qh=td=null,Uh===1/0||Gh===1/0?[[NaN,NaN],[NaN,NaN]]:[[Uh,Gh],[qh,Yh]]},Rd={sphere:vh,point:jd,lineStart:Ad,lineEnd:Pd,polygonStart:function(){Rd.lineStart=Nd,Rd.lineEnd=Fd},polygonEnd:function(){Rd.lineStart=Ad,Rd.lineEnd=Pd}};function jd(t,e){t*=nh,e*=nh;var n=ah(e);Ld(n*ah(t),n*hh(t),hh(e))}function Ld(t,e,n){++fd,md+=(t-md)/fd,gd+=(e-gd)/fd,bd+=(n-bd)/fd}function Ad(){Rd.point=Dd}function Dd(t,e){t*=nh,e*=nh;var n=ah(e);Md=n*ah(t),Od=n*hh(t),Td=hh(e),Rd.point=zd,Ld(Md,Od,Td)}function zd(t,e){t*=nh,e*=nh;var n=ah(e),i=n*ah(t),r=n*hh(t),o=hh(e),a=oh(fh((a=Od*o-Td*r)*a+(a=Td*i-Md*o)*a+(a=Md*r-Od*i)*a),Md*i+Od*r+Td*o);pd+=a,vd+=a*(Md+(Md=i)),yd+=a*(Od+(Od=r)),_d+=a*(Td+(Td=o)),Ld(Md,Od,Td)}function Pd(){Rd.point=jd}function Nd(){Rd.point=Id}function Fd(){Hd(Cd,kd),Rd.point=jd}function Id(t,e){Cd=t,kd=e,t*=nh,e*=nh,Rd.point=Hd;var n=ah(e);Md=n*ah(t),Od=n*hh(t),Td=hh(e),Ld(Md,Od,Td)}function Hd(t,e){t*=nh,e*=nh;var n=ah(e),i=n*ah(t),r=n*hh(t),o=hh(e),a=Od*o-Td*r,s=Td*i-Md*o,l=Md*r-Od*i,c=fh(a*a+s*s+l*l),u=gh(c),h=c&&-u/c;wd+=h*a,xd+=h*s,Ed+=h*l,pd+=u,vd+=u*(Md+(Md=i)),yd+=u*(Od+(Od=r)),_d+=u*(Td+(Td=o)),Ld(Md,Od,Td)}var Bd=function(t){fd=pd=md=gd=bd=vd=yd=_d=wd=xd=Ed=0,Sh(t,Rd);var e=wd,n=xd,i=Ed,r=e*e+n*n+i*i;return r<Ku&&(e=vd,n=yd,i=_d,pd<Xu&&(e=md,n=gd,i=bd),r=e*e+n*n+i*i,r<Ku)?[NaN,NaN]:[oh(n,e)*eh,gh(i/fh(r))*eh]},$d=function(t){return function(){return t}},Vd=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n};function Wd(t,e){return[ih(t)>Ju?t+Math.round(-t/th)*th:t,e]}function Ud(t,e,n){return(t%=th)?e||n?Vd(qd(t),Yd(e,n)):qd(t):e||n?Yd(e,n):Wd}function Gd(t){return function(e,n){return e+=t,[e>Ju?e-th:e<-Ju?e+th:e,n]}}function qd(t){var e=Gd(t);return e.invert=Gd(-t),e}function Yd(t,e){var n=ah(t),i=hh(t),r=ah(e),o=hh(e);function a(t,e){var a=ah(e),s=ah(t)*a,l=hh(t)*a,c=hh(e),u=c*n+s*i;return[oh(l*r-u*o,s*n-c*i),gh(u*r+l*o)]}return a.invert=function(t,e){var a=ah(e),s=ah(t)*a,l=hh(t)*a,c=hh(e),u=c*r-l*o;return[oh(l*r+c*o,s*n+u*i),gh(u*n-s*i)]},a}Wd.invert=Wd;var Xd=function(t){function e(e){return e=t(e[0]*nh,e[1]*nh),e[0]*=eh,e[1]*=eh,e}return t=Ud(t[0]*nh,t[1]*nh,t.length>2?t[2]*nh:0),e.invert=function(e){return e=t.invert(e[0]*nh,e[1]*nh),e[0]*=eh,e[1]*=eh,e},e};function Kd(t,e,n,i,r,o){if(n){var a=ah(e),s=hh(e),l=i*n;null==r?(r=e+i*th,o=e-l/2):(r=Jd(a,r),o=Jd(a,o),(i>0?r<o:r>o)&&(r+=i*th));for(var c,u=r;i>0?u>o:u<o;u-=l)c=Fh([a,-s*ah(u),-s*hh(u)]),t.point(c[0],c[1])}}function Jd(t,e){e=Ih(e),e[0]-=t,Wh(e);var n=mh(-e[1]);return((-e[2]<0?-n:n)+th-Xu)%th}var Zd=function(){var t,e,n=$d([0,0]),i=$d(90),r=$d(6),o={point:a};function a(n,i){t.push(n=e(n,i)),n[0]*=eh,n[1]*=eh}function s(){var a=n.apply(this,arguments),s=i.apply(this,arguments)*nh,l=r.apply(this,arguments)*nh;return t=[],e=Ud(-a[0]*nh,-a[1]*nh,0).invert,Kd(o,s,l,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return s.center=function(t){return arguments.length?(n="function"===typeof t?t:$d([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(i="function"===typeof t?t:$d(+t),s):i},s.precision=function(t){return arguments.length?(r="function"===typeof t?t:$d(+t),s):r},s},Qd=function(){var t,e=[];return{point:function(e,n,i){t.push([e,n,i])},lineStart:function(){e.push(t=[])},lineEnd:vh,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},tf=function(t,e){return ih(t[0]-e[0])<Xu&&ih(t[1]-e[1])<Xu};function ef(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var nf=function(t,e,n,i,r){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(tf(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a[0]+=2*Xu}s.push(n=new ef(i,t,null,!0)),l.push(n.o=new ef(i,null,n,!1)),s.push(n=new ef(a,t,null,!1)),l.push(n.o=new ef(a,null,n,!0))}})),s.length){for(l.sort(e),rf(s),rf(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;var c,u,h=s[0];while(1){var d=h,f=!0;while(d.v)if((d=d.n)===h)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=c.length;o<a;++o)r.point((u=c[o])[0],u[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,f=!f}while(!d.v);r.lineEnd()}}};function rf(t){if(e=t.length){var e,n,i=0,r=t[0];while(++i<e)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var of=Uu();function af(t){return ih(t[0])<=Ju?t[0]:dh(t[0])*((ih(t[0])+Ju)%th-Ju)}var sf=function(t,e){var n=af(e),i=e[1],r=hh(i),o=[hh(n),-ah(n),0],a=0,s=0;of.reset(),1===r?i=Zu+Xu:-1===r&&(i=-Zu-Xu);for(var l=0,c=t.length;l<c;++l)if(h=(u=t[l]).length)for(var u,h,d=u[h-1],f=af(d),p=d[1]/2+Qu,m=hh(p),g=ah(p),b=0;b<h;++b,f=y,m=w,g=x,d=v){var v=u[b],y=af(v),_=v[1]/2+Qu,w=hh(_),x=ah(_),E=y-f,C=E>=0?1:-1,k=C*E,M=k>Ju,O=m*w;if(of.add(oh(O*C*hh(k),g*x+O*ah(k))),a+=M?E+C*th:E,M^f>=n^y>=n){var T=Bh(Ih(d),Ih(v));Wh(T);var S=Bh(o,T);Wh(S);var R=(M^E>=0?-1:1)*gh(S[2]);(i>R||i===R&&(T[0]||T[1]))&&(s+=M^E>=0?1:-1)}}return(a<-Xu||a<Xu&&of<-Xu)^1&s},lf=function(t,e,n,i){return function(r){var o,a,s,l=e(r),c=Qd(),u=e(c),h=!1,d={point:f,lineStart:m,lineEnd:g,polygonStart:function(){d.point=b,d.lineStart=v,d.lineEnd=y,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=m,d.lineEnd=g,a=I(a);var t=sf(o,i);a.length?(h||(r.polygonStart(),h=!0),nf(a,uf,t,n,r)):t&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(e,n){t(e,n)&&r.point(e,n)}function p(t,e){l.point(t,e)}function m(){d.point=p,l.lineStart()}function g(){d.point=f,l.lineEnd()}function b(t,e){s.push([t,e]),u.point(t,e)}function v(){u.lineStart(),s=[]}function y(){b(s[0][0],s[0][1]),u.lineEnd();var t,e,n,i,l=u.clean(),d=c.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&l){if(n=d[0],(e=n.length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(cf))}return d}};function cf(t){return t.length>1}function uf(t,e){return((t=t.x)[0]<0?t[1]-Zu-Xu:Zu-t[1])-((e=e.x)[0]<0?e[1]-Zu-Xu:Zu-e[1])}var hf=lf((function(){return!0}),df,pf,[-Ju,-Zu]);function df(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ju:-Ju,l=ih(o-n);ih(l-Ju)<Xu?(t.point(n,i=(i+a)/2>0?Zu:-Zu),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&l>=Ju&&(ih(n-r)<Xu&&(n-=r*Xu),ih(o-s)<Xu&&(o-=s*Xu),i=ff(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function ff(t,e,n,i){var r,o,a=hh(t-n);return ih(a)>Xu?rh((hh(e)*(o=ah(i))*hh(n)-hh(i)*(r=ah(e))*hh(t))/(r*o*a)):(e+i)/2}function pf(t,e,n,i){var r;if(null==t)r=n*Zu,i.point(-Ju,r),i.point(0,r),i.point(Ju,r),i.point(Ju,0),i.point(Ju,-r),i.point(0,-r),i.point(-Ju,-r),i.point(-Ju,0),i.point(-Ju,r);else if(ih(t[0]-e[0])>Xu){var o=t[0]<e[0]?Ju:-Ju;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}var mf=function(t){var e=ah(t),n=6*nh,i=e>0,r=ih(e)>Xu;function o(e,i,r,o){Kd(o,t,n,r,e,i)}function a(t,n){return ah(t)*ah(n)>e}function s(t){var e,n,o,s,u;return{lineStart:function(){s=o=!1,u=1},point:function(h,d){var f,p=[h,d],m=a(h,d),g=i?m?0:c(h,d):m?c(h+(h<0?Ju:-Ju),d):0;if(!e&&(s=o=m)&&t.lineStart(),m!==o&&(f=l(e,p),(!f||tf(e,f)||tf(p,f))&&(p[2]=1)),m!==o)u=0,m?(t.lineStart(),f=l(p,e),t.point(f[0],f[1])):(f=l(e,p),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(r&&e&&i^m){var b;g&n||!(b=l(p,e,!0))||(u=0,i?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1],3)))}!m||e&&tf(e,p)||t.point(p[0],p[1]),e=p,o=m,n=g},lineEnd:function(){o&&t.lineEnd(),e=null},clean:function(){return u|(s&&o)<<1}}}function l(t,n,i){var r=Ih(t),o=Ih(n),a=[1,0,0],s=Bh(r,o),l=Hh(s,s),c=s[0],u=l-c*c;if(!u)return!i&&t;var h=e*l/u,d=-e*c/u,f=Bh(a,s),p=Vh(a,h),m=Vh(s,d);$h(p,m);var g=f,b=Hh(p,g),v=Hh(g,g),y=b*b-v*(Hh(p,p)-1);if(!(y<0)){var _=fh(y),w=Vh(g,(-b-_)/v);if($h(w,p),w=Fh(w),!i)return w;var x,E=t[0],C=n[0],k=t[1],M=n[1];C<E&&(x=E,E=C,C=x);var O=C-E,T=ih(O-Ju)<Xu,S=T||O<Xu;if(!T&&M<k&&(x=k,k=M,M=x),S?T?k+M>0^w[1]<(ih(w[0]-E)<Xu?k:M):k<=w[1]&&w[1]<=M:O>Ju^(E<=w[0]&&w[0]<=C)){var R=Vh(g,(-b+_)/v);return $h(R,p),[w,Fh(R)]}}}function c(e,n){var r=i?t:Ju-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return lf(a,s,o,i?[0,-t]:[-Ju,t-Ju])},gf=function(t,e,n,i,r,o){var a,s=t[0],l=t[1],c=e[0],u=e[1],h=0,d=1,f=c-s,p=u-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<h)return;a<d&&(d=a)}else if(f>0){if(a>d)return;a>h&&(h=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>d)return;a>h&&(h=a)}else if(f>0){if(a<h)return;a<d&&(d=a)}if(a=i-l,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>h&&(h=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<d&&(d=a)}return h>0&&(t[0]=s+h*f,t[1]=l+h*p),d<1&&(e[0]=s+d*f,e[1]=l+d*p),!0}}}}},bf=1e9,vf=-bf;function yf(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,s,c){var u=0,h=0;if(null==r||(u=a(r,s))!==(h=a(o,s))||l(r,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+s+4)%4)!==h);else c.point(o[0],o[1])}function a(i,r){return ih(i[0]-t)<Xu?r>0?0:3:ih(i[0]-n)<Xu?r>0?2:1:ih(i[1]-e)<Xu?r>0?1:0:r>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,h,d,f,p,m,g,b,v,y=a,_=Qd(),w={point:x,lineStart:M,lineEnd:O,polygonStart:C,polygonEnd:k};function x(t,e){r(t,e)&&y.point(t,e)}function E(){for(var e=0,n=0,r=c.length;n<r;++n)for(var o,a,s=c[n],l=1,u=s.length,h=s[0],d=h[0],f=h[1];l<u;++l)o=d,a=f,h=s[l],d=h[0],f=h[1],a<=i?f>i&&(d-o)*(i-a)>(f-a)*(t-o)&&++e:f<=i&&(d-o)*(i-a)<(f-a)*(t-o)&&--e;return e}function C(){y=_,l=[],c=[],v=!0}function k(){var t=E(),e=v&&t,n=(l=I(l)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&nf(l,s,t,o,a),a.polygonEnd()),y=a,l=c=u=null}function M(){w.point=T,c&&c.push(u=[]),b=!0,g=!1,p=m=NaN}function O(){l&&(T(h,d),f&&g&&_.rejoin(),l.push(_.result())),w.point=x,g&&y.lineEnd()}function T(o,a){var s=r(o,a);if(c&&u.push([o,a]),b)h=o,d=a,f=s,b=!1,s&&(y.lineStart(),y.point(o,a));else if(s&&g)y.point(o,a);else{var l=[p=Math.max(vf,Math.min(bf,p)),m=Math.max(vf,Math.min(bf,m))],_=[o=Math.max(vf,Math.min(bf,o)),a=Math.max(vf,Math.min(bf,a))];gf(l,_,t,e,n,i)?(g||(y.lineStart(),y.point(l[0],l[1])),y.point(_[0],_[1]),s||y.lineEnd(),v=!1):s&&(y.lineStart(),y.point(o,a),v=!1)}p=o,m=a,g=s}return w}}var _f,wf,xf,Ef=function(){var t,e,n,i=0,r=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=yf(i,r,o,a)(e=n)},extent:function(s){return arguments.length?(i=+s[0][0],r=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[i,r],[o,a]]}}},Cf=Uu(),kf={sphere:vh,point:vh,lineStart:Mf,lineEnd:vh,polygonStart:vh,polygonEnd:vh};function Mf(){kf.point=Tf,kf.lineEnd=Of}function Of(){kf.point=kf.lineEnd=vh}function Tf(t,e){t*=nh,e*=nh,_f=t,wf=hh(e),xf=ah(e),kf.point=Sf}function Sf(t,e){t*=nh,e*=nh;var n=hh(e),i=ah(e),r=ih(t-_f),o=ah(r),a=hh(r),s=i*a,l=xf*n-wf*i*o,c=wf*n+xf*i*o;Cf.add(oh(fh(s*s+l*l),c)),_f=t,wf=n,xf=i}var Rf=function(t){return Cf.reset(),Sh(t,kf),+Cf},jf=[null,null],Lf={type:"LineString",coordinates:jf},Af=function(t,e){return jf[0]=t,jf[1]=e,Rf(Lf)},Df={Feature:function(t,e){return Pf(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,i=-1,r=n.length;while(++i<r)if(Pf(n[i].geometry,e))return!0;return!1}},zf={Sphere:function(){return!0},Point:function(t,e){return Nf(t.coordinates,e)},MultiPoint:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)if(Nf(n[i],e))return!0;return!1},LineString:function(t,e){return Ff(t.coordinates,e)},MultiLineString:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)if(Ff(n[i],e))return!0;return!1},Polygon:function(t,e){return If(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,i=-1,r=n.length;while(++i<r)if(If(n[i],e))return!0;return!1},GeometryCollection:function(t,e){var n=t.geometries,i=-1,r=n.length;while(++i<r)if(Pf(n[i],e))return!0;return!1}};function Pf(t,e){return!(!t||!zf.hasOwnProperty(t.type))&&zf[t.type](t,e)}function Nf(t,e){return 0===Af(t,e)}function Ff(t,e){for(var n,i,r,o=0,a=t.length;o<a;o++){if(i=Af(t[o],e),0===i)return!0;if(o>0&&(r=Af(t[o],t[o-1]),r>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<Ku*r))return!0;n=i}return!1}function If(t,e){return!!sf(t.map(Hf),Bf(e))}function Hf(t){return t=t.map(Bf),t.pop(),t}function Bf(t){return[t[0]*nh,t[1]*nh]}var $f=function(t,e){return(t&&Df.hasOwnProperty(t.type)?Df[t.type]:Pf)(t,e)};function Vf(t,e,n){var i=C(t,e-Xu,n).concat(e);return function(t){return i.map((function(e){return[t,e]}))}}function Wf(t,e,n){var i=C(t,e-Xu,n).concat(e);return function(t){return i.map((function(e){return[e,t]}))}}function Uf(){var t,e,n,i,r,o,a,s,l,c,u,h,d=10,f=d,p=90,m=360,g=2.5;function b(){return{type:"MultiLineString",coordinates:v()}}function v(){return C(sh(i/p)*p,n,p).map(u).concat(C(sh(s/m)*m,a,m).map(h)).concat(C(sh(e/d)*d,t,d).filter((function(t){return ih(t%p)>Xu})).map(l)).concat(C(sh(o/f)*f,r,f).filter((function(t){return ih(t%m)>Xu})).map(c))}return b.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},b.outline=function(){return{type:"Polygon",coordinates:[u(i).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],i>n&&(t=i,i=n,n=t),s>a&&(t=s,s=a,a=t),b.precision(g)):[[i,s],[n,a]]},b.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),o>r&&(n=o,o=r,r=n),b.precision(g)):[[e,o],[t,r]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(p=+t[0],m=+t[1],b):[p,m]},b.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],b):[d,f]},b.precision=function(d){return arguments.length?(g=+d,l=Vf(o,r,90),c=Wf(e,t,g),u=Vf(s,a,90),h=Wf(i,n,g),b):g},b.extentMajor([[-180,-90+Xu],[180,90-Xu]]).extentMinor([[-180,-80-Xu],[180,80+Xu]])}function Gf(){return Uf()()}var qf,Yf,Xf,Kf,Jf=function(t,e){var n=t[0]*nh,i=t[1]*nh,r=e[0]*nh,o=e[1]*nh,a=ah(i),s=hh(i),l=ah(o),c=hh(o),u=a*ah(n),h=a*hh(n),d=l*ah(r),f=l*hh(r),p=2*gh(fh(bh(o-i)+a*l*bh(r-n))),m=hh(p),g=p?function(t){var e=hh(t*=p)/m,n=hh(p-t)/m,i=n*u+e*d,r=n*h+e*f,o=n*s+e*c;return[oh(r,i)*eh,oh(o,fh(i*i+r*r))*eh]}:function(){return[n*eh,i*eh]};return g.distance=p,g},Zf=function(t){return t},Qf=Uu(),tp=Uu(),ep={point:vh,lineStart:vh,lineEnd:vh,polygonStart:function(){ep.lineStart=np,ep.lineEnd=op},polygonEnd:function(){ep.lineStart=ep.lineEnd=ep.point=vh,Qf.add(ih(tp)),tp.reset()},result:function(){var t=Qf/2;return Qf.reset(),t}};function np(){ep.point=ip}function ip(t,e){ep.point=rp,qf=Xf=t,Yf=Kf=e}function rp(t,e){tp.add(Kf*t-Xf*e),Xf=t,Kf=e}function op(){rp(qf,Yf)}var ap=ep,sp=1/0,lp=sp,cp=-sp,up=cp,hp={point:dp,lineStart:vh,lineEnd:vh,polygonStart:vh,polygonEnd:vh,result:function(){var t=[[sp,lp],[cp,up]];return cp=up=-(lp=sp=1/0),t}};function dp(t,e){t<sp&&(sp=t),t>cp&&(cp=t),e<lp&&(lp=e),e>up&&(up=e)}var fp,pp,mp,gp,bp=hp,vp=0,yp=0,_p=0,wp=0,xp=0,Ep=0,Cp=0,kp=0,Mp=0,Op={point:Tp,lineStart:Sp,lineEnd:Lp,polygonStart:function(){Op.lineStart=Ap,Op.lineEnd=Dp},polygonEnd:function(){Op.point=Tp,Op.lineStart=Sp,Op.lineEnd=Lp},result:function(){var t=Mp?[Cp/Mp,kp/Mp]:Ep?[wp/Ep,xp/Ep]:_p?[vp/_p,yp/_p]:[NaN,NaN];return vp=yp=_p=wp=xp=Ep=Cp=kp=Mp=0,t}};function Tp(t,e){vp+=t,yp+=e,++_p}function Sp(){Op.point=Rp}function Rp(t,e){Op.point=jp,Tp(mp=t,gp=e)}function jp(t,e){var n=t-mp,i=e-gp,r=fh(n*n+i*i);wp+=r*(mp+t)/2,xp+=r*(gp+e)/2,Ep+=r,Tp(mp=t,gp=e)}function Lp(){Op.point=Tp}function Ap(){Op.point=zp}function Dp(){Pp(fp,pp)}function zp(t,e){Op.point=Pp,Tp(fp=mp=t,pp=gp=e)}function Pp(t,e){var n=t-mp,i=e-gp,r=fh(n*n+i*i);wp+=r*(mp+t)/2,xp+=r*(gp+e)/2,Ep+=r,r=gp*t-mp*e,Cp+=r*(mp+t),kp+=r*(gp+e),Mp+=3*r,Tp(mp=t,gp=e)}var Np=Op;function Fp(t){this._context=t}Fp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,th);break}},result:vh};var Ip,Hp,Bp,$p,Vp,Wp=Uu(),Up={point:vh,lineStart:function(){Up.point=Gp},lineEnd:function(){Ip&&qp(Hp,Bp),Up.point=vh},polygonStart:function(){Ip=!0},polygonEnd:function(){Ip=null},result:function(){var t=+Wp;return Wp.reset(),t}};function Gp(t,e){Up.point=qp,Hp=$p=t,Bp=Vp=e}function qp(t,e){$p-=t,Vp-=e,Wp.add(fh($p*$p+Vp*Vp)),$p=t,Vp=e}var Yp=Up;function Xp(){this._string=[]}function Kp(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Xp.prototype={_radius:4.5,_circle:Kp(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Kp(this._radius)),this._string.push("M",t,",",e,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Jp=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"===typeof r&&i.pointRadius(+r.apply(this,arguments)),Sh(t,n(i))),i.result()}return o.area=function(t){return Sh(t,n(ap)),ap.result()},o.measure=function(t){return Sh(t,n(Yp)),Yp.result()},o.bounds=function(t){return Sh(t,n(bp)),bp.result()},o.centroid=function(t){return Sh(t,n(Np)),Np.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Zf):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new Xp):new Fp(e=t),"function"!==typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"===typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},Zp=function(t){return{stream:Qp(t)}};function Qp(t){return function(e){var n=new tm;for(var i in t)n[i]=t[i];return n.stream=e,n}}function tm(){}function em(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Sh(n,t.stream(bp)),e(bp.result()),null!=i&&t.clipExtent(i),t}function nm(t,e,n){return em(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function im(t,e,n){return nm(t,[[0,0],e],n)}function rm(t,e,n){return em(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];t.scale(150*r).translate([o,a])}),n)}function om(t,e,n){return em(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,a])}),n)}tm.prototype={constructor:tm,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var am=16,sm=ah(30*nh),lm=function(t,e){return+e?um(t,e):cm(t)};function cm(t){return Qp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function um(t,e){function n(i,r,o,a,s,l,c,u,h,d,f,p,m,g){var b=c-i,v=u-r,y=b*b+v*v;if(y>4*e&&m--){var _=a+d,w=s+f,x=l+p,E=fh(_*_+w*w+x*x),C=gh(x/=E),k=ih(ih(x)-1)<Xu||ih(o-h)<Xu?(o+h)/2:oh(w,_),M=t(k,C),O=M[0],T=M[1],S=O-i,R=T-r,j=v*S-b*R;(j*j/y>e||ih((b*S+v*R)/y-.5)>.3||a*d+s*f+l*p<sm)&&(n(i,r,o,a,s,l,O,T,k,_/=E,w/=E,x,m,g),g.point(O,T),n(O,T,k,_,w,x,c,u,h,d,f,p,m,g))}}return function(e){var i,r,o,a,s,l,c,u,h,d,f,p,m={point:g,lineStart:b,lineEnd:y,polygonStart:function(){e.polygonStart(),m.lineStart=_},polygonEnd:function(){e.polygonEnd(),m.lineStart=b}};function g(n,i){n=t(n,i),e.point(n[0],n[1])}function b(){u=NaN,m.point=v,e.lineStart()}function v(i,r){var o=Ih([i,r]),a=t(i,r);n(u,h,c,d,f,p,u=a[0],h=a[1],c=i,d=o[0],f=o[1],p=o[2],am,e),e.point(u,h)}function y(){m.point=g,e.lineEnd()}function _(){b(),m.point=w,m.lineEnd=x}function w(t,e){v(i=t,e),r=u,o=h,a=d,s=f,l=p,m.point=v}function x(){n(u,h,c,d,f,p,r,o,i,a,s,l,am,e),m.lineEnd=y,y()}return m}}var hm=Qp({point:function(t,e){this.stream.point(t*nh,e*nh)}});function dm(t){return Qp({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function fm(t,e,n,i,r){function o(o,a){return o*=i,a*=r,[e+t*o,n-t*a]}return o.invert=function(o,a){return[(o-e)/t*i,(n-a)/t*r]},o}function pm(t,e,n,i,r,o){var a=ah(o),s=hh(o),l=a*t,c=s*t,u=a/t,h=s/t,d=(s*n-a*e)/t,f=(s*e+a*n)/t;function p(t,o){return t*=i,o*=r,[l*t-c*o+e,n-c*t-l*o]}return p.invert=function(t,e){return[i*(u*t-h*e+d),r*(f-h*t-u*e)]},p}function mm(t){return gm((function(){return t}))()}function gm(t){var e,n,i,r,o,a,s,l,c,u,h=150,d=480,f=250,p=0,m=0,g=0,b=0,v=0,y=0,_=1,w=1,x=null,E=hf,C=null,k=Zf,M=.5;function O(t){return l(t[0]*nh,t[1]*nh)}function T(t){return t=l.invert(t[0],t[1]),t&&[t[0]*eh,t[1]*eh]}function S(){var t=pm(h,0,0,_,w,y).apply(null,e(p,m)),i=(y?pm:fm)(h,d-t[0],f-t[1],_,w,y);return n=Ud(g,b,v),s=Vd(e,i),l=Vd(n,s),a=lm(s,M),R()}function R(){return c=u=null,O}return O.stream=function(t){return c&&u===t?c:c=hm(dm(n)(E(a(k(u=t)))))},O.preclip=function(t){return arguments.length?(E=t,x=void 0,R()):E},O.postclip=function(t){return arguments.length?(k=t,C=i=r=o=null,R()):k},O.clipAngle=function(t){return arguments.length?(E=+t?mf(x=t*nh):(x=null,hf),R()):x*eh},O.clipExtent=function(t){return arguments.length?(k=null==t?(C=i=r=o=null,Zf):yf(C=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),R()):null==C?null:[[C,i],[r,o]]},O.scale=function(t){return arguments.length?(h=+t,S()):h},O.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],S()):[d,f]},O.center=function(t){return arguments.length?(p=t[0]%360*nh,m=t[1]%360*nh,S()):[p*eh,m*eh]},O.rotate=function(t){return arguments.length?(g=t[0]%360*nh,b=t[1]%360*nh,v=t.length>2?t[2]%360*nh:0,S()):[g*eh,b*eh,v*eh]},O.angle=function(t){return arguments.length?(y=t%360*nh,S()):y*eh},O.reflectX=function(t){return arguments.length?(_=t?-1:1,S()):_<0},O.reflectY=function(t){return arguments.length?(w=t?-1:1,S()):w<0},O.precision=function(t){return arguments.length?(a=lm(s,M=t*t),R()):fh(M)},O.fitExtent=function(t,e){return nm(O,t,e)},O.fitSize=function(t,e){return im(O,t,e)},O.fitWidth=function(t,e){return rm(O,t,e)},O.fitHeight=function(t,e){return om(O,t,e)},function(){return e=t.apply(this,arguments),O.invert=e.invert&&T,S()}}function bm(t){var e=0,n=Ju/3,i=gm(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*nh,n=t[1]*nh):[e*eh,n*eh]},r}function vm(t){var e=ah(t);function n(t,n){return[t*e,hh(n)/e]}return n.invert=function(t,n){return[t/e,gh(n*e)]},n}function ym(t,e){var n=hh(t),i=(n+hh(e))/2;if(ih(i)<Xu)return vm(t);var r=1+n*(2*i-n),o=fh(r)/i;function a(t,e){var n=fh(r-2*i*hh(e))/i;return[n*hh(t*=i),o-n*ah(t)]}return a.invert=function(t,e){var n=o-e,a=oh(t,ih(n))*dh(n);return n*i<0&&(a-=Ju*dh(t)*dh(n)),[a/i,gh((r-(t*t+n*n)*i*i)/(2*i))]},a}var _m=function(){return bm(ym).scale(155.424).center([0,33.6442])},wm=function(){return _m().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function xm(t){var e=t.length;return{point:function(n,i){var r=-1;while(++r<e)t[r].point(n,i)},sphere:function(){var n=-1;while(++n<e)t[n].sphere()},lineStart:function(){var n=-1;while(++n<e)t[n].lineStart()},lineEnd:function(){var n=-1;while(++n<e)t[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<e)t[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<e)t[n].polygonEnd()}}}var Em=function(){var t,e,n,i,r,o,a=wm(),s=_m().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=_m().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(i.point(e,a),o)||(r.point(e,a),o)}function h(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?s:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:a).invert(t)},u.stream=function(n){return t&&e===n?t:t=xm([a.stream(e=n),s.stream(n),l.stream(n)])},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),h()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(c),i=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+Xu,u+.12*e+Xu],[o-.214*e-Xu,u+.234*e-Xu]]).stream(c),r=l.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+Xu,u+.166*e+Xu],[o-.115*e-Xu,u+.234*e-Xu]]).stream(c),h()},u.fitExtent=function(t,e){return nm(u,t,e)},u.fitSize=function(t,e){return im(u,t,e)},u.fitWidth=function(t,e){return rm(u,t,e)},u.fitHeight=function(t,e){return om(u,t,e)},u.scale(1070)};function Cm(t){return function(e,n){var i=ah(e),r=ah(n),o=t(i*r);return[o*r*hh(e),o*hh(n)]}}function km(t){return function(e,n){var i=fh(e*e+n*n),r=t(i),o=hh(r),a=ah(r);return[oh(e*o,i*a),gh(i&&n*o/i)]}}var Mm=Cm((function(t){return fh(2/(1+t))}));Mm.invert=km((function(t){return 2*gh(t/2)}));var Om=function(){return mm(Mm).scale(124.75).clipAngle(179.999)},Tm=Cm((function(t){return(t=mh(t))&&t/hh(t)}));Tm.invert=km((function(t){return t}));var Sm=function(){return mm(Tm).scale(79.4188).clipAngle(179.999)};function Rm(t,e){return[t,ch(ph((Zu+e)/2))]}Rm.invert=function(t,e){return[t,2*rh(lh(e))-Zu]};var jm=function(){return Lm(Rm).scale(961/th)};function Lm(t){var e,n,i,r=mm(t),o=r.center,a=r.scale,s=r.translate,l=r.clipExtent,c=null;function u(){var o=Ju*a(),s=r(Xd(r.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Rm?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),i]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,i)]])}return r.scale=function(t){return arguments.length?(a(t),u()):a()},r.translate=function(t){return arguments.length?(s(t),u()):s()},r.center=function(t){return arguments.length?(o(t),u()):o()},r.clipExtent=function(t){return arguments.length?(null==t?c=e=n=i=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),u()):null==c?null:[[c,e],[n,i]]},u()}function Am(t){return ph((Zu+t)/2)}function Dm(t,e){var n=ah(t),i=t===e?hh(t):ch(n/ah(e))/ch(Am(e)/Am(t)),r=n*uh(Am(t),i)/i;if(!i)return Rm;function o(t,e){r>0?e<-Zu+Xu&&(e=-Zu+Xu):e>Zu-Xu&&(e=Zu-Xu);var n=r/uh(Am(e),i);return[n*hh(i*t),r-n*ah(i*t)]}return o.invert=function(t,e){var n=r-e,o=dh(i)*fh(t*t+n*n),a=oh(t,ih(n))*dh(n);return n*i<0&&(a-=Ju*dh(t)*dh(n)),[a/i,2*rh(uh(r/o,1/i))-Zu]},o}var zm=function(){return bm(Dm).scale(109.5).parallels([30,30])};function Pm(t,e){return[t,e]}Pm.invert=Pm;var Nm=function(){return mm(Pm).scale(152.63)};function Fm(t,e){var n=ah(t),i=t===e?hh(t):(n-ah(e))/(e-t),r=n/i+t;if(ih(i)<Xu)return Pm;function o(t,e){var n=r-e,o=i*t;return[n*hh(o),r-n*ah(o)]}return o.invert=function(t,e){var n=r-e,o=oh(t,ih(n))*dh(n);return n*i<0&&(o-=Ju*dh(t)*dh(n)),[o/i,r-dh(i)*fh(t*t+n*n)]},o}var Im=function(){return bm(Fm).scale(131.154).center([0,13.9389])},Hm=1.340264,Bm=-.081106,$m=893e-6,Vm=.003796,Wm=fh(3)/2,Um=12;function Gm(t,e){var n=gh(Wm*hh(e)),i=n*n,r=i*i*i;return[t*ah(n)/(Wm*(Hm+3*Bm*i+r*(7*$m+9*Vm*i))),n*(Hm+Bm*i+r*($m+Vm*i))]}Gm.invert=function(t,e){for(var n,i,r,o=e,a=o*o,s=a*a*a,l=0;l<Um;++l)if(i=o*(Hm+Bm*a+s*($m+Vm*a))-e,r=Hm+3*Bm*a+s*(7*$m+9*Vm*a),o-=n=i/r,a=o*o,s=a*a*a,ih(n)<Ku)break;return[Wm*t*(Hm+3*Bm*a+s*(7*$m+9*Vm*a))/ah(o),gh(hh(o)/Wm)]};var qm=function(){return mm(Gm).scale(177.158)};function Ym(t,e){var n=ah(e),i=ah(t)*n;return[n*hh(t)/i,hh(e)/i]}Ym.invert=km(rh);var Xm=function(){return mm(Ym).scale(144.049).clipAngle(60)},Km=function(){var t,e,n,i,r,o,a,s=1,l=0,c=0,u=1,h=1,d=0,f=null,p=1,m=1,g=Qp({point:function(t,e){var n=y([t,e]);this.stream.point(n[0],n[1])}}),b=Zf;function v(){return p=s*u,m=s*h,o=a=null,y}function y(n){var i=n[0]*p,r=n[1]*m;if(d){var o=r*t-i*e;i=i*t+r*e,r=o}return[i+l,r+c]}return y.invert=function(n){var i=n[0]-l,r=n[1]-c;if(d){var o=r*t+i*e;i=i*t-r*e,r=o}return[i/p,r/m]},y.stream=function(t){return o&&a===t?o:o=g(b(a=t))},y.postclip=function(t){return arguments.length?(b=t,f=n=i=r=null,v()):b},y.clipExtent=function(t){return arguments.length?(b=null==t?(f=n=i=r=null,Zf):yf(f=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),v()):null==f?null:[[f,n],[i,r]]},y.scale=function(t){return arguments.length?(s=+t,v()):s},y.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],v()):[l,c]},y.angle=function(n){return arguments.length?(d=n%360*nh,e=hh(d),t=ah(d),v()):d*eh},y.reflectX=function(t){return arguments.length?(u=t?-1:1,v()):u<0},y.reflectY=function(t){return arguments.length?(h=t?-1:1,v()):h<0},y.fitExtent=function(t,e){return nm(y,t,e)},y.fitSize=function(t,e){return im(y,t,e)},y.fitWidth=function(t,e){return rm(y,t,e)},y.fitHeight=function(t,e){return om(y,t,e)},y};function Jm(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}Jm.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(ih(n)>Xu&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};var Zm=function(){return mm(Jm).scale(175.295)};function Qm(t,e){return[ah(e)*hh(t),hh(e)]}Qm.invert=km(gh);var tg=function(){return mm(Qm).scale(249.5).clipAngle(90+Xu)};function eg(t,e){var n=ah(e),i=1+ah(t)*n;return[n*hh(t)/i,hh(e)/i]}eg.invert=km((function(t){return 2*rh(t)}));var ng=function(){return mm(eg).scale(250).clipAngle(142)};function ig(t,e){return[ch(ph((Zu+e)/2)),-t]}ig.invert=function(t,e){return[-e,2*rh(lh(t))-Zu]};var rg=function(){var t=Lm(ig),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};function og(t,e){return t.parent===e.parent?1:2}function ag(t){return t.reduce(sg,0)/t.length}function sg(t,e){return t+e.x}function lg(t){return 1+t.reduce(cg,0)}function cg(t,e){return Math.max(t,e.y)}function ug(t){var e;while(e=t.children)t=e[0];return t}function hg(t){var e;while(e=t.children)t=e[e.length-1];return t}var dg=function(){var t=og,e=1,n=1,i=!1;function r(r){var o,a=0;r.eachAfter((function(e){var n=e.children;n?(e.x=ag(n),e.y=lg(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=ug(r),l=hg(r),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r};function fg(t){var e=0,n=t.children,i=n&&n.length;if(i)while(--i>=0)e+=n[i].value;else e=1;t.value=e}var pg=function(){return this.eachAfter(fg)},mg=function(t){var e,n,i,r,o=this,a=[o];do{e=a.reverse(),a=[];while(o=e.pop())if(t(o),n=o.children,n)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},gg=function(t){var e,n,i=this,r=[i];while(i=r.pop())if(t(i),e=i.children,e)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},bg=function(t){var e,n,i,r=this,o=[r],a=[];while(r=o.pop())if(a.push(r),e=r.children,e)for(n=0,i=e.length;n<i;++n)o.push(e[n]);while(r=a.pop())t(r);return this},vg=function(t){return this.eachAfter((function(e){var n=+t(e.data)||0,i=e.children,r=i&&i.length;while(--r>=0)n+=i[r].value;e.value=n}))},yg=function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},_g=function(t){var e=this,n=wg(e,t),i=[e];while(e!==n)e=e.parent,i.push(e);var r=i.length;while(t!==n)i.splice(r,0,t),t=t.parent;return i};function wg(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();while(t===e)r=t,t=n.pop(),e=i.pop();return r}var xg=function(){var t=this,e=[t];while(t=t.parent)e.push(t);return e},Eg=function(){var t=[];return this.each((function(e){t.push(e)})),t},Cg=function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},kg=function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e};function Mg(t,e){var n,i,r,o,a,s=new jg(t),l=+t.value&&(s.value=t.value),c=[s];null==e&&(e=Tg);while(n=c.pop())if(l&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(i=n.children[o]=new jg(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Rg)}function Og(){return Mg(this).eachBefore(Sg)}function Tg(t){return t.children}function Sg(t){t.data=t.data.data}function Rg(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function jg(t){this.data=t,this.depth=this.height=0,this.parent=null}jg.prototype=Mg.prototype={constructor:jg,count:pg,each:mg,eachAfter:bg,eachBefore:gg,sum:vg,sort:yg,path:_g,ancestors:xg,descendants:Eg,leaves:Cg,links:kg,copy:Og};var Lg=Array.prototype.slice;function Ag(t){var e,n,i=t.length;while(i)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}var Dg=function(t){var e,n,i=0,r=(t=Ag(Lg.call(t))).length,o=[];while(i<r)e=t[i],n&&Ng(n,e)?++i:(n=Ig(o=zg(o,e)),i=0);return n};function zg(t,e){var n,i;if(Fg(e,t))return[e];for(n=0;n<t.length;++n)if(Pg(e,t[n])&&Fg(Bg(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Pg(Bg(t[n],t[i]),e)&&Pg(Bg(t[n],e),t[i])&&Pg(Bg(t[i],e),t[n])&&Fg($g(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function Pg(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function Ng(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Fg(t,e){for(var n=0;n<e.length;++n)if(!Ng(t,e[n]))return!1;return!0}function Ig(t){switch(t.length){case 1:return Hg(t[0]);case 2:return Bg(t[0],t[1]);case 3:return $g(t[0],t[1],t[2])}}function Hg(t){return{x:t.x,y:t.y,r:t.r}}function Bg(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,s=e.r,l=o-n,c=a-i,u=s-r,h=Math.sqrt(l*l+c*c);return{x:(n+o+l/h*u)/2,y:(i+a+c/h*u)/2,r:(h+r+s)/2}}function $g(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,s=e.y,l=e.r,c=n.x,u=n.y,h=n.r,d=i-a,f=i-c,p=r-s,m=r-u,g=l-o,b=h-o,v=i*i+r*r-o*o,y=v-a*a-s*s+l*l,_=v-c*c-u*u+h*h,w=f*p-d*m,x=(p*_-m*y)/(2*w)-i,E=(m*g-p*b)/w,C=(f*y-d*_)/(2*w)-r,k=(d*b-f*g)/w,M=E*E+k*k-1,O=2*(o+x*E+C*k),T=x*x+C*C-o*o,S=-(M?(O+Math.sqrt(O*O-4*M*T))/(2*M):T/O);return{x:i+x+E*S,y:r+C+k*S,r:S}}function Vg(t,e,n){var i,r,o,a,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(r=e.r+n.r,r*=r,a=t.r+n.r,a*=a,r>a?(i=(c+a-r)/(2*c),o=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x-i*s-o*l,n.y=t.y-i*l+o*s):(i=(c+r-a)/(2*c),o=Math.sqrt(Math.max(0,r/c-i*i)),n.x=e.x+i*s-o*l,n.y=e.y+i*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Wg(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Ug(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function Gg(t){this._=t,this.next=null,this.previous=null}function qg(t){if(!(r=t.length))return 0;var e,n,i,r,o,a,s,l,c,u,h;if(e=t[0],e.x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;Vg(n,e,i=t[2]),e=new Gg(e),n=new Gg(n),i=new Gg(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){Vg(e._,n._,i=t[s]),i=new Gg(i),l=n.next,c=e.previous,u=n._.r,h=e._.r;do{if(u<=h){if(Wg(l._,i._)){n=l,e.next=n,n.previous=e,--s;continue t}u+=l._.r,l=l.next}else{if(Wg(c._,i._)){e=c,e.next=n,n.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(l!==c.next);i.previous=e,i.next=n,e.next=n.previous=n=i,o=Ug(e);while((i=i.next)!==n)(a=Ug(i))<o&&(e=i,o=a);n=e.next}e=[n._],i=n;while((i=i.next)!==n)e.push(i._);for(i=Dg(e),s=0;s<r;++s)e=t[s],e.x-=i.x,e.y-=i.y;return i.r}var Yg=function(t){return qg(t),t};function Xg(t){return null==t?null:Kg(t)}function Kg(t){if("function"!==typeof t)throw new Error;return t}function Jg(){return 0}var Zg=function(t){return function(){return t}};function Qg(t){return Math.sqrt(t.value)}var tb=function(){var t=null,e=1,n=1,i=Jg;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(eb(t)).eachAfter(nb(i,.5)).eachBefore(ib(1)):r.eachBefore(eb(Qg)).eachAfter(nb(Jg,1)).eachAfter(nb(i,r.r/Math.min(e,n))).eachBefore(ib(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=Xg(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"===typeof t?t:Zg(+t),r):i},r};function eb(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function nb(t,e){return function(n){if(i=n.children){var i,r,o,a=i.length,s=t(n)*e||0;if(s)for(r=0;r<a;++r)i[r].r+=s;if(o=qg(i),s)for(r=0;r<a;++r)i[r].r-=s;n.r=o+s}}}function ib(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var rb=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},ob=function(t,e,n,i,r){var o,a=t.children,s=-1,l=a.length,c=t.value&&(i-e)/t.value;while(++s<l)o=a[s],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*c},ab=function(){var t=1,e=1,n=0,i=!1;function r(r){var a=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/a,r.eachBefore(o(e,a)),i&&r.eachBefore(rb),r}function o(t,e){return function(i){i.children&&ob(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,a=i.x1-n,s=i.y1-n;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),i.x0=r,i.y0=o,i.x1=a,i.y1=s}}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},sb="$",lb={depth:-1},cb={};function ub(t){return t.id}function hb(t){return t.parentId}var db=function(){var t=ub,e=hb;function n(n){var i,r,o,a,s,l,c,u=n.length,h=new Array(u),d={};for(r=0;r<u;++r)i=n[r],s=h[r]=new jg(i),null!=(l=t(i,r,n))&&(l+="")&&(c=sb+(s.id=l),d[c]=c in d?cb:s);for(r=0;r<u;++r)if(s=h[r],l=e(n[r],r,n),null!=l&&(l+="")){if(a=d[sb+l],!a)throw new Error("missing: "+l);if(a===cb)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=lb,o.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(Rg),o.parent=null,u>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Kg(e),n):t},n.parentId=function(t){return arguments.length?(e=Kg(t),n):e},n};function fb(t,e){return t.parent===e.parent?1:2}function pb(t){var e=t.children;return e?e[0]:t.t}function mb(t){var e=t.children;return e?e[e.length-1]:t.t}function gb(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function bb(t){var e,n=0,i=0,r=t.children,o=r.length;while(--o>=0)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function vb(t,e,n){return t.a.parent===e.parent?t.a:n}function yb(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function _b(t){var e,n,i,r,o,a=new yb(t,0),s=[a];while(e=s.pop())if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=e.children[r]=new yb(i[r],r)),n.parent=e;return(a.parent=new yb(null,0)).children=[a],a}yb.prototype=Object.create(jg.prototype);var wb=function(){var t=fb,e=1,n=1,i=null;function r(r){var s=_b(r);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),i)r.eachBefore(l);else{var c=r,u=r,h=r;r.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var d=c===u?1:t(c,u)/2,f=d-c.x,p=e/(u.x+d+f),m=n/(h.depth||1);r.eachBefore((function(t){t.x=(t.x+f)*p,t.y=t.depth*m}))}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){bb(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=s(e,r,e.parent.A||i[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(e,n,i){if(n){var r,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,h=s.m,d=l.m;while(s=mb(s),o=pb(o),s&&o)l=pb(l),a=mb(a),a.a=e,r=s.z+h-o.z-c+t(s._,o._),r>0&&(gb(vb(s,e,i),e,r),c+=r,u+=r),h+=s.m,c+=o.m,d+=l.m,u+=a.m;s&&!mb(a)&&(a.t=s,a.m+=h-u),o&&!pb(l)&&(l.t=o,l.m+=c-d,i=e)}return i}function l(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},xb=function(t,e,n,i,r){var o,a=t.children,s=-1,l=a.length,c=t.value&&(r-n)/t.value;while(++s<l)o=a[s],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*c},Eb=(1+Math.sqrt(5))/2;function Cb(t,e,n,i,r,o){var a,s,l,c,u,h,d,f,p,m,g,b=[],v=e.children,y=0,_=0,w=v.length,x=e.value;while(y<w){l=r-n,c=o-i;do{u=v[_++].value}while(!u&&_<w);for(h=d=u,m=Math.max(c/l,l/c)/(x*t),g=u*u*m,p=Math.max(d/g,g/h);_<w;++_){if(u+=s=v[_].value,s<h&&(h=s),s>d&&(d=s),g=u*u*m,f=Math.max(d/g,g/h),f>p){u-=s;break}p=f}b.push(a={value:u,dice:l<c,children:v.slice(y,_)}),a.dice?ob(a,n,i,r,x?i+=c*u/x:o):xb(a,n,i,x?n+=l*u/x:r,o),x-=u,y=_}return b}var kb=function t(e){function n(t,n,i,r,o){Cb(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Eb),Mb=function(){var t=kb,e=!1,n=1,i=1,r=[0],o=Jg,a=Jg,s=Jg,l=Jg,c=Jg;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(h),r=[0],e&&t.eachBefore(rb),t}function h(e){var n=r[e.depth],i=e.x0+n,u=e.y0+n,h=e.x1-n,d=e.y1-n;h<i&&(i=h=(i+h)/2),d<u&&(u=d=(u+d)/2),e.x0=i,e.y0=u,e.x1=h,e.y1=d,e.children&&(n=r[e.depth+1]=o(e)/2,i+=c(e)-n,u+=a(e)-n,h-=s(e)-n,d-=l(e)-n,h<i&&(i=h=(i+h)/2),d<u&&(u=d=(u+d)/2),t(e,i,u,h,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],i=+t[1],u):[n,i]},u.tile=function(e){return arguments.length?(t=Kg(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:Zg(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:Zg(+t),u):a},u.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:Zg(+t),u):s},u.paddingBottom=function(t){return arguments.length?(l="function"===typeof t?t:Zg(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:Zg(+t),u):c},u},Ob=function(t,e,n,i,r){var o,a,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=a=o=0;o<l;++o)c[o+1]=a+=s[o].value;function u(t,e,n,i,r,o,a){if(t>=e-1){var l=s[t];return l.x0=i,l.y0=r,l.x1=o,void(l.y1=a)}var h=c[t],d=n/2+h,f=t+1,p=e-1;while(f<p){var m=f+p>>>1;c[m]<d?f=m+1:p=m}d-c[f-1]<c[f]-d&&t+1<f&&--f;var g=c[f]-h,b=n-g;if(o-i>a-r){var v=(i*b+o*g)/n;u(t,f,g,i,r,v,a),u(f,e,b,v,r,o,a)}else{var y=(r*b+a*g)/n;u(t,f,g,i,r,o,y),u(f,e,b,i,y,o,a)}}u(0,l,t.value,e,n,i,r)},Tb=function(t,e,n,i,r){(1&t.depth?xb:ob)(t,e,n,i,r)},Sb=function t(e){function n(t,n,i,r,o){if((a=t._squarify)&&a.ratio===e){var a,s,l,c,u,h=-1,d=a.length,f=t.value;while(++h<d){for(s=a[h],l=s.children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?ob(s,n,i,r,i+=(o-i)*s.value/f):xb(s,n,i,n+=(r-n)*s.value/f,o),f-=s.value}}else t._squarify=a=Cb(e,t,n,i,r,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Eb),Rb=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},jb=function(t,e){var n=ti(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},Lb=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},Ab=Math.SQRT2,Db=2,zb=4,Pb=1e-12;function Nb(t){return((t=Math.exp(t))+1/t)/2}function Fb(t){return((t=Math.exp(t))-1/t)/2}function Ib(t){return((t=Math.exp(2*t))-1)/(t+1)}var Hb=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=s-r,h=l-o,d=u*u+h*h;if(d<Pb)i=Math.log(c/a)/Ab,n=function(t){return[r+t*u,o+t*h,a*Math.exp(Ab*t*i)]};else{var f=Math.sqrt(d),p=(c*c-a*a+zb*d)/(2*a*Db*f),m=(c*c-a*a-zb*d)/(2*c*Db*f),g=Math.log(Math.sqrt(p*p+1)-p),b=Math.log(Math.sqrt(m*m+1)-m);i=(b-g)/Ab,n=function(t){var e=t*i,n=Nb(g),s=a/(Db*f)*(n*Ib(Ab*e+g)-Fb(g));return[r+s*u,o+s*h,a*n/Nb(Ab*e+g)]}}return n.duration=1e3*i,n};function Bb(t){return function(e,n){var i=t((e=Un(e)).h,(n=Un(n)).h),r=ni(e.s,n.s),o=ni(e.l,n.l),a=ni(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=a(t),e+""}}}var $b=Bb(ti),Vb=Bb(ni);function Wb(t,e){var n=ni((t=os(t)).l,(e=os(e)).l),i=ni(t.a,e.a),r=ni(t.b,e.b),o=ni(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function Ub(t){return function(e,n){var i=t((e=fs(e)).h,(n=fs(n)).h),r=ni(e.c,n.c),o=ni(e.l,n.l),a=ni(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=a(t),e+""}}}var Gb=Ub(ti),qb=Ub(ni);function Yb(t){return function e(n){function i(e,i){var r=t((e=ks(e)).h,(i=ks(i)).h),o=ni(e.s,i.s),a=ni(e.l,i.l),s=ni(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}var Xb=Yb(ti),Kb=Yb(ni);function Jb(t,e){var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);while(n<i)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}}var Zb=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Qb=function(t){var e,n=-1,i=t.length,r=t[i-1],o=0;while(++n<i)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},tv=function(t){var e,n,i=-1,r=t.length,o=0,a=0,s=t[r-1],l=0;while(++i<r)e=s,s=t[i],l+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return l*=3,[o/l,a/l]},ev=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function nv(t,e){return t[0]-e[0]||t[1]-e[1]}function iv(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){while(i>1&&ev(t[n[i-2]],t[n[i-1]],t[r])<=0)--i;n[i++]=r}return n.slice(0,i)}var rv=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(nv),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=iv(i),a=iv(r),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[i[o[e]][2]]);for(e=+s;e<a.length-l;++e)c.push(t[i[a[e]][2]]);return c},ov=function(t,e){for(var n,i,r=t.length,o=t[r-1],a=e[0],s=e[1],l=o[0],c=o[1],u=!1,h=0;h<r;++h)o=t[h],n=o[0],i=o[1],i>s!==c>s&&a<(l-n)*(s-i)/(c-i)+n&&(u=!u),l=n,c=i;return u},av=function(t){var e,n,i=-1,r=t.length,o=t[r-1],a=o[0],s=o[1],l=0;while(++i<r)e=a,n=s,o=t[i],a=o[0],s=o[1],e-=a,n-=s,l+=Math.sqrt(e*e+n*n);return l},sv=function(){return Math.random()},lv=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(sv),cv=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(sv),uv=function t(e){function n(){var t=cv.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(sv),hv=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(sv),dv=function t(e){function n(t){var n=hv.source(e)(t);return function(){return n()/t}}return n.source=t,n}(sv),fv=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(sv);function pv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mv(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var gv=Array.prototype,bv=gv.map,vv=gv.slice,yv={name:"implicit"};function _v(){var t=Da(),e=[],n=[],i=yv;function r(r){var o=r+"",a=t.get(o);if(!a){if(i!==yv)return i;t.set(o,a=e.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=Da();var i,o,a=-1,s=n.length;while(++a<s)t.has(o=(i=n[a])+"")||t.set(o,e.push(i));return r},r.range=function(t){return arguments.length?(n=vv.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return _v(e,n).unknown(i)},pv.apply(r,arguments),r}function wv(){var t,e,n=_v().unknown(void 0),i=n.domain,r=n.range,o=[0,1],a=!1,s=0,l=0,c=.5;function u(){var n=i().length,u=o[1]<o[0],h=o[u-0],d=o[1-u];t=(d-h)/Math.max(1,n-s+2*l),a&&(t=Math.floor(t)),h+=(d-h-t*(n-s))*c,e=t*(1-s),a&&(h=Math.round(h),e=Math.round(e));var f=C(n).map((function(e){return h+t*e}));return r(u?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),u()):i()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],u()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,u()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),u()):s},n.paddingOuter=function(t){return arguments.length?(l=+t,u()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},n.copy=function(){return wv(i(),o).round(a).paddingInner(s).paddingOuter(l).align(c)},pv.apply(u(),arguments)}function xv(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xv(e())},t}function Ev(){return xv(wv.apply(null,arguments).paddingInner(1))}var Cv=function(t){return function(){return t}},kv=function(t){return+t},Mv=[0,1];function Ov(t){return t}function Tv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Cv(isNaN(e)?NaN:.5)}function Sv(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Rv(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=Tv(r,i),o=n(a,o)):(i=Tv(i,r),o=n(o,a)),function(t){return o(i(t))}}function jv(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++a<i)r[a]=Tv(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=u(t,e,1,i)-1;return o[n](r[n](e))}}function Lv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Av(){var t,e,n,i,r,o,a=Mv,s=Mv,l=wi,c=Ov;function u(){return i=Math.min(a.length,s.length)>2?jv:Rv,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=i(s,a.map(t),di)))(n)))},h.domain=function(t){return arguments.length?(a=bv.call(t,kv),c===Ov||(c=Sv(a)),u()):a.slice()},h.range=function(t){return arguments.length?(s=vv.call(t),u()):s.slice()},h.rangeRound=function(t){return s=vv.call(t),l=Lb,u()},h.clamp=function(t){return arguments.length?(c=t?Sv(a):Ov,h):c!==Ov},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,u()}}function Dv(t,e){return Av()(t,e)}var zv=function(t,e,n,i){var r,o=R(t,e,n);switch(i=Ou(null==i?",f":i),i.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=Vu(o,a))||(i.precision=r),Lu(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=Wu(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=$u(o))||(i.precision=r-2*("%"===i.type));break}return ju(i)};function Pv(t){var e=t.domain;return t.ticks=function(t){var n=e();return T(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return zv(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&(i=s,s=l,l=i,i=o,o=a,a=i),i=S(s,l,n),i>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=S(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=S(s,l,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,e(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,e(r)),t},t}function Nv(){var t=Dv(Ov,Ov);return t.copy=function(){return Lv(t,Nv())},pv.apply(t,arguments),Pv(t)}function Fv(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=bv.call(e,kv),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Fv(t).unknown(e)},t=arguments.length?bv.call(t,kv):[0,1],Pv(n)}var Iv=function(t,e){t=t.slice();var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t};function Hv(t){return Math.log(t)}function Bv(t){return Math.exp(t)}function $v(t){return-Math.log(-t)}function Vv(t){return-Math.exp(-t)}function Wv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Uv(t){return 10===t?Wv:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Gv(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function qv(t){return function(e){return-t(-e)}}function Yv(t){var e,n,i=t(Hv,Bv),r=i.domain,o=10;function a(){return e=Gv(o),n=Uv(o),r()[0]<0?(e=qv(e),n=qv(n),t($v,Vv)):t(Hv,Bv),i}return i.base=function(t){return arguments.length?(o=+t,a()):o},i.domain=function(t){return arguments.length?(r(t),a()):r()},i.ticks=function(t){var i,a=r(),s=a[0],l=a[a.length-1];(i=l<s)&&(d=s,s=l,l=d);var c,u,h,d=e(s),f=e(l),p=null==t?10:+t,m=[];if(!(o%1)&&f-d<p){if(d=Math.round(d)-1,f=Math.round(f)+1,s>0){for(;d<f;++d)for(u=1,c=n(d);u<o;++u)if(h=c*u,!(h<s)){if(h>l)break;m.push(h)}}else for(;d<f;++d)for(u=o-1,c=n(d);u>=1;--u)if(h=c*u,!(h<s)){if(h>l)break;m.push(h)}}else m=T(d,f,Math.min(f-d,p)).map(n);return i?m.reverse():m},i.tickFormat=function(t,r){if(null==r&&(r=10===o?".0e":","),"function"!==typeof r&&(r=ju(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,o*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*o<o-.5&&(i*=o),i<=a?r(t):""}},i.nice=function(){return r(Iv(r(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}function Xv(){var t=Yv(Av()).domain([1,10]);return t.copy=function(){return Lv(t,Xv()).base(t.base())},pv.apply(t,arguments),t}function Kv(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Jv(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Zv(t){var e=1,n=t(Kv(e),Jv(e));return n.constant=function(n){return arguments.length?t(Kv(e=+n),Jv(e)):e},Pv(n)}function Qv(){var t=Zv(Av());return t.copy=function(){return Lv(t,Qv()).constant(t.constant())},pv.apply(t,arguments)}function ty(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ey(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ny(t){return t<0?-t*t:t*t}function iy(t){var e=t(Ov,Ov),n=1;function i(){return 1===n?t(Ov,Ov):.5===n?t(ey,ny):t(ty(n),ty(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},Pv(e)}function ry(){var t=iy(Av());return t.copy=function(){return Lv(t,ry()).exponent(t.exponent())},pv.apply(t,arguments),t}function oy(){return ry.apply(null,arguments).exponent(.5)}function ay(){var t,e=[],n=[],i=[];function o(){var t=0,r=Math.max(1,n.length);i=new Array(r-1);while(++t<r)i[t-1]=A(e,t/r);return a}function a(e){return isNaN(e=+e)?t:n[u(i,e)]}return a.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,a=t.length;i<a;++i)n=t[i],null==n||isNaN(n=+n)||e.push(n);return e.sort(r),o()},a.range=function(t){return arguments.length?(n=vv.call(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return ay().domain(e).range(n).unknown(t)},pv.apply(a,arguments)}function sy(){var t,e=0,n=1,i=1,r=[.5],o=[0,1];function a(e){return e<=e?o[u(r,e,0,i)]:t}function s(){var t=-1;r=new Array(i);while(++t<i)r[t]=((t+1)*n-(t-i)*e)/(i+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(i=(o=vv.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,r[0]]:a>=i?[r[i-1],n]:[r[a-1],r[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return r.slice()},a.copy=function(){return sy().domain([e,n]).range(o).unknown(t)},pv.apply(Pv(a),arguments)}function ly(){var t,e=[.5],n=[0,1],i=1;function r(r){return r<=r?n[u(e,r,0,i)]:t}return r.domain=function(t){return arguments.length?(e=vv.call(t),i=Math.min(e.length,n.length-1),r):e.slice()},r.range=function(t){return arguments.length?(n=vv.call(t),i=Math.min(e.length,n.length-1),r):n.slice()},r.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return ly().domain(e).range(n).unknown(t)},pv.apply(r,arguments)}var cy=new Date,uy=new Date;function hy(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<i);return s},r.filter=function(n){return hy((function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)while(++i<=0)while(e(t,-1),!n(t));else while(--i>=0)while(e(t,1),!n(t));}))},n&&(r.count=function(e,i){return cy.setTime(+e),uy.setTime(+i),t(cy),t(uy),Math.floor(n(cy,uy))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t===0}:function(e){return r.count(0,e)%t===0}):r:null}),r}var dy=hy((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));dy.every=function(t){return isFinite(t=Math.floor(t))&&t>0?hy((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var fy=dy,py=dy.range,my=hy((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),gy=my,by=my.range,vy=1e3,yy=6e4,_y=36e5,wy=864e5,xy=6048e5;function Ey(t){return hy((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yy)/xy}))}var Cy=Ey(0),ky=Ey(1),My=Ey(2),Oy=Ey(3),Ty=Ey(4),Sy=Ey(5),Ry=Ey(6),jy=Cy.range,Ly=ky.range,Ay=My.range,Dy=Oy.range,zy=Ty.range,Py=Sy.range,Ny=Ry.range,Fy=hy((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yy)/wy}),(function(t){return t.getDate()-1})),Iy=Fy,Hy=Fy.range,By=hy((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*vy-t.getMinutes()*yy)}),(function(t,e){t.setTime(+t+e*_y)}),(function(t,e){return(e-t)/_y}),(function(t){return t.getHours()})),$y=By,Vy=By.range,Wy=hy((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*vy)}),(function(t,e){t.setTime(+t+e*yy)}),(function(t,e){return(e-t)/yy}),(function(t){return t.getMinutes()})),Uy=Wy,Gy=Wy.range,qy=hy((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*vy)}),(function(t,e){return(e-t)/vy}),(function(t){return t.getUTCSeconds()})),Yy=qy,Xy=qy.range,Ky=hy((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ky.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?hy((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ky:null};var Jy=Ky,Zy=Ky.range;function Qy(t){return hy((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/xy}))}var t_=Qy(0),e_=Qy(1),n_=Qy(2),i_=Qy(3),r_=Qy(4),o_=Qy(5),a_=Qy(6),s_=t_.range,l_=e_.range,c_=n_.range,u_=i_.range,h_=r_.range,d_=o_.range,f_=a_.range,p_=hy((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/wy}),(function(t){return t.getUTCDate()-1})),m_=p_,g_=p_.range,b_=hy((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));b_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?hy((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var v_=b_,y_=b_.range;function __(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function w_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function x_(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function E_(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=z_(r),u=P_(r),h=z_(o),d=P_(o),f=z_(a),p=P_(a),m=z_(s),g=P_(s),b=z_(l),v=P_(l),y={a:A,A:D,b:z,B:P,c:null,d:iw,e:iw,f:lw,g:yw,G:ww,H:rw,I:ow,j:aw,L:sw,m:cw,M:uw,p:N,q:F,Q:Ww,s:Uw,S:hw,u:dw,U:fw,V:mw,w:gw,W:bw,x:null,X:null,y:vw,Y:_w,Z:xw,"%":Vw},_={a:I,A:H,b:B,B:$,c:null,d:Ew,e:Ew,f:Tw,g:Iw,G:Bw,H:Cw,I:kw,j:Mw,L:Ow,m:Sw,M:Rw,p:V,q:W,Q:Ww,s:Uw,S:jw,u:Lw,U:Aw,V:zw,w:Pw,W:Nw,x:null,X:null,y:Fw,Y:Hw,Z:$w,"%":Vw},w={a:M,A:O,b:T,B:S,c:R,d:q_,e:q_,f:Q_,g:V_,G:$_,H:X_,I:X_,j:Y_,L:Z_,m:G_,M:K_,p:k,q:U_,Q:ew,s:nw,S:J_,u:F_,U:I_,V:H_,w:N_,W:B_,x:j,X:L,y:V_,Y:$_,Z:W_,"%":tw};function x(t,e){return function(n){var i,r,o,a=[],s=-1,l=0,c=t.length;n instanceof Date||(n=new Date(+n));while(++s<c)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(r=S_[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function E(t,e){return function(n){var i,r,o=x_(1900,void 0,1),a=C(o,t,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=w_(x_(o.y,0,1)),r=i.getUTCDay(),i=r>4||0===r?e_.ceil(i):e_(i),i=m_.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(i=__(x_(o.y,0,1)),r=i.getDay(),i=r>4||0===r?ky.ceil(i):ky(i),i=Iy.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?w_(x_(o.y,0,1)).getUTCDay():__(x_(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,w_(o)):__(o)}}function C(t,e,n,i){var r,o,a=0,s=e.length,l=n.length;while(a<s){if(i>=l)return-1;if(r=e.charCodeAt(a++),37===r){if(r=e.charAt(a++),o=w[r in S_?e.charAt(a++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function k(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=u[i[0].toLowerCase()],n+i[0].length):-1}function M(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1}function O(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1}function T(t,e,n){var i=b.exec(e.slice(n));return i?(t.m=v[i[0].toLowerCase()],n+i[0].length):-1}function S(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=g[i[0].toLowerCase()],n+i[0].length):-1}function R(t,n,i){return C(t,e,n,i)}function j(t,e,i){return C(t,n,e,i)}function L(t,e,n){return C(t,i,e,n)}function A(t){return a[t.getDay()]}function D(t){return o[t.getDay()]}function z(t){return l[t.getMonth()]}function P(t){return s[t.getMonth()]}function N(t){return r[+(t.getHours()>=12)]}function F(t){return 1+~~(t.getMonth()/3)}function I(t){return a[t.getUTCDay()]}function H(t){return o[t.getUTCDay()]}function B(t){return l[t.getUTCMonth()]}function $(t){return s[t.getUTCMonth()]}function V(t){return r[+(t.getUTCHours()>=12)]}function W(t){return 1+~~(t.getUTCMonth()/3)}return y.x=x(n,y),y.X=x(i,y),y.c=x(e,y),_.x=x(n,_),_.X=x(i,_),_.c=x(e,_),{format:function(t){var e=x(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}var C_,k_,M_,O_,T_,S_={"-":"",_:" ",0:"0"},R_=/^\s*\d+/,j_=/^%/,L_=/[\\^$*+?|[\]().{}]/g;function A_(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function D_(t){return t.replace(L_,"\\$&")}function z_(t){return new RegExp("^(?:"+t.map(D_).join("|")+")","i")}function P_(t){var e={},n=-1,i=t.length;while(++n<i)e[t[n].toLowerCase()]=n;return e}function N_(t,e,n){var i=R_.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function F_(t,e,n){var i=R_.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function I_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function H_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function B_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function $_(t,e,n){var i=R_.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function V_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function W_(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function U_(t,e,n){var i=R_.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function G_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function q_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Y_(t,e,n){var i=R_.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function X_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function K_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function J_(t,e,n){var i=R_.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Z_(t,e,n){var i=R_.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Q_(t,e,n){var i=R_.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function tw(t,e,n){var i=j_.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ew(t,e,n){var i=R_.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function nw(t,e,n){var i=R_.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function iw(t,e){return A_(t.getDate(),e,2)}function rw(t,e){return A_(t.getHours(),e,2)}function ow(t,e){return A_(t.getHours()%12||12,e,2)}function aw(t,e){return A_(1+Iy.count(fy(t),t),e,3)}function sw(t,e){return A_(t.getMilliseconds(),e,3)}function lw(t,e){return sw(t,e)+"000"}function cw(t,e){return A_(t.getMonth()+1,e,2)}function uw(t,e){return A_(t.getMinutes(),e,2)}function hw(t,e){return A_(t.getSeconds(),e,2)}function dw(t){var e=t.getDay();return 0===e?7:e}function fw(t,e){return A_(Cy.count(fy(t)-1,t),e,2)}function pw(t){var e=t.getDay();return e>=4||0===e?Ty(t):Ty.ceil(t)}function mw(t,e){return t=pw(t),A_(Ty.count(fy(t),t)+(4===fy(t).getDay()),e,2)}function gw(t){return t.getDay()}function bw(t,e){return A_(ky.count(fy(t)-1,t),e,2)}function vw(t,e){return A_(t.getFullYear()%100,e,2)}function yw(t,e){return t=pw(t),A_(t.getFullYear()%100,e,2)}function _w(t,e){return A_(t.getFullYear()%1e4,e,4)}function ww(t,e){var n=t.getDay();return t=n>=4||0===n?Ty(t):Ty.ceil(t),A_(t.getFullYear()%1e4,e,4)}function xw(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+A_(e/60|0,"0",2)+A_(e%60,"0",2)}function Ew(t,e){return A_(t.getUTCDate(),e,2)}function Cw(t,e){return A_(t.getUTCHours(),e,2)}function kw(t,e){return A_(t.getUTCHours()%12||12,e,2)}function Mw(t,e){return A_(1+m_.count(v_(t),t),e,3)}function Ow(t,e){return A_(t.getUTCMilliseconds(),e,3)}function Tw(t,e){return Ow(t,e)+"000"}function Sw(t,e){return A_(t.getUTCMonth()+1,e,2)}function Rw(t,e){return A_(t.getUTCMinutes(),e,2)}function jw(t,e){return A_(t.getUTCSeconds(),e,2)}function Lw(t){var e=t.getUTCDay();return 0===e?7:e}function Aw(t,e){return A_(t_.count(v_(t)-1,t),e,2)}function Dw(t){var e=t.getUTCDay();return e>=4||0===e?r_(t):r_.ceil(t)}function zw(t,e){return t=Dw(t),A_(r_.count(v_(t),t)+(4===v_(t).getUTCDay()),e,2)}function Pw(t){return t.getUTCDay()}function Nw(t,e){return A_(e_.count(v_(t)-1,t),e,2)}function Fw(t,e){return A_(t.getUTCFullYear()%100,e,2)}function Iw(t,e){return t=Dw(t),A_(t.getUTCFullYear()%100,e,2)}function Hw(t,e){return A_(t.getUTCFullYear()%1e4,e,4)}function Bw(t,e){var n=t.getUTCDay();return t=n>=4||0===n?r_(t):r_.ceil(t),A_(t.getUTCFullYear()%1e4,e,4)}function $w(){return"+0000"}function Vw(){return"%"}function Ww(t){return+t}function Uw(t){return Math.floor(+t/1e3)}function Gw(t){return C_=E_(t),k_=C_.format,M_=C_.parse,O_=C_.utcFormat,T_=C_.utcParse,C_}Gw({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var qw=1e3,Yw=60*qw,Xw=60*Yw,Kw=24*Xw,Jw=7*Kw,Zw=30*Kw,Qw=365*Kw;function tx(t){return new Date(t)}function ex(t){return t instanceof Date?+t:+new Date(+t)}function nx(t,e,n,i,r,a,s,l,c){var u=Dv(Ov,Ov),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),v=c("%b %d"),y=c("%B"),_=c("%Y"),w=[[s,1,qw],[s,5,5*qw],[s,15,15*qw],[s,30,30*qw],[a,1,Yw],[a,5,5*Yw],[a,15,15*Yw],[a,30,30*Yw],[r,1,Xw],[r,3,3*Xw],[r,6,6*Xw],[r,12,12*Xw],[i,1,Kw],[i,2,2*Kw],[n,1,Jw],[e,1,Zw],[e,3,3*Zw],[t,1,Qw]];function x(o){return(s(o)<o?f:a(o)<o?p:r(o)<o?m:i(o)<o?g:e(o)<o?n(o)<o?b:v:t(o)<o?y:_)(o)}function E(e,n,i,r){if(null==e&&(e=10),"number"===typeof e){var a=Math.abs(i-n)/e,s=o((function(t){return t[2]})).right(w,a);s===w.length?(r=R(n/Qw,i/Qw,e),e=t):s?(s=w[a/w[s-1][2]<w[s][2]/a?s-1:s],r=s[1],e=s[0]):(r=Math.max(R(n,i,e),1),e=l)}return null==r?e:e.every(r)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(bv.call(t,ex)):d().map(tx)},u.ticks=function(t,e){var n,i=d(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=E(t,r,o,e),n=n?n.range(r,o+1):[],a?n.reverse():n},u.tickFormat=function(t,e){return null==e?x:c(e)},u.nice=function(t,e){var n=d();return(t=E(t,n[0],n[n.length-1],e))?d(Iv(n,t)):u},u.copy=function(){return Lv(u,nx(t,e,n,i,r,a,s,l,c))},u}var ix=function(){return pv.apply(nx(fy,gy,Cy,Iy,$y,Uy,Yy,Jy,k_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},rx=hy((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),ox=rx,ax=rx.range,sx=hy((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*_y)}),(function(t,e){return(e-t)/_y}),(function(t){return t.getUTCHours()})),lx=sx,cx=sx.range,ux=hy((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*yy)}),(function(t,e){return(e-t)/yy}),(function(t){return t.getUTCMinutes()})),hx=ux,dx=ux.range,fx=function(){return pv.apply(nx(v_,ox,t_,m_,lx,hx,Yy,Jy,O_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function px(){var t,e,n,i,r,o=0,a=1,s=Ov,l=!1;function c(e){return isNaN(e=+e)?r:s(0===n?.5:(e=(i(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(r){return arguments.length?(t=i(o=+r[0]),e=i(a=+r[1]),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(r=t,c):r},function(r){return i=r,t=r(o),e=r(a),n=t===e?0:1/(e-t),c}}function mx(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gx(){var t=Pv(px()(Ov));return t.copy=function(){return mx(t,gx())},mv.apply(t,arguments)}function bx(){var t=Yv(px()).domain([1,10]);return t.copy=function(){return mx(t,bx()).base(t.base())},mv.apply(t,arguments)}function vx(){var t=Zv(px());return t.copy=function(){return mx(t,vx()).constant(t.constant())},mv.apply(t,arguments)}function yx(){var t=iy(px());return t.copy=function(){return mx(t,yx()).exponent(t.exponent())},mv.apply(t,arguments)}function _x(){return yx.apply(null,arguments).exponent(.5)}function wx(){var t=[],e=Ov;function n(n){if(!isNaN(n=+n))return e((u(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var i,o=0,a=e.length;o<a;++o)i=e[o],null==i||isNaN(i=+i)||t.push(i);return t.sort(r),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return wx(e).domain(t)},mv.apply(n,arguments)}function xx(){var t,e,n,i,r,o,a,s=0,l=.5,c=1,u=Ov,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?i:r),u(h?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(l=+a[1]),n=o(c=+a[2]),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),d):[s,l,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(u=t,d):u},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),d}}function Ex(){var t=Pv(xx()(Ov));return t.copy=function(){return mx(t,Ex())},mv.apply(t,arguments)}function Cx(){var t=Yv(xx()).domain([.1,1,10]);return t.copy=function(){return mx(t,Cx()).base(t.base())},mv.apply(t,arguments)}function kx(){var t=Zv(xx());return t.copy=function(){return mx(t,kx()).constant(t.constant())},mv.apply(t,arguments)}function Mx(){var t=iy(xx());return t.copy=function(){return mx(t,Mx()).exponent(t.exponent())},mv.apply(t,arguments)}function Ox(){return Mx.apply(null,arguments).exponent(.5)}var Tx=function(t){var e=t.length/6|0,n=new Array(e),i=0;while(i<e)n[i]="#"+t.slice(6*i,6*++i);return n},Sx=Tx("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Rx=Tx("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),jx=Tx("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Lx=Tx("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ax=Tx("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Dx=Tx("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),zx=Tx("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Px=Tx("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Nx=Tx("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Fx=Tx("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ix=function(t){return oi(t[t.length-1])},Hx=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Tx),Bx=Ix(Hx),$x=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Tx),Vx=Ix($x),Wx=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Tx),Ux=Ix(Wx),Gx=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Tx),qx=Ix(Gx),Yx=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Tx),Xx=Ix(Yx),Kx=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Tx),Jx=Ix(Kx),Zx=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Tx),Qx=Ix(Zx),tE=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Tx),eE=Ix(tE),nE=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Tx),iE=Ix(nE),rE=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Tx),oE=Ix(rE),aE=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Tx),sE=Ix(aE),lE=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Tx),cE=Ix(lE),uE=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Tx),hE=Ix(uE),dE=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Tx),fE=Ix(dE),pE=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Tx),mE=Ix(pE),gE=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Tx),bE=Ix(gE),vE=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Tx),yE=Ix(vE),_E=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Tx),wE=Ix(_E),xE=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Tx),EE=Ix(xE),CE=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Tx),kE=Ix(CE),ME=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Tx),OE=Ix(ME),TE=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Tx),SE=Ix(TE),RE=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Tx),jE=Ix(RE),LE=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Tx),AE=Ix(LE),DE=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Tx),zE=Ix(DE),PE=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Tx),NE=Ix(PE),FE=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Tx),IE=Ix(FE),HE=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},BE=Kb(ks(300,.5,0),ks(-240,.5,1)),$E=Kb(ks(-100,.75,.35),ks(80,1.5,.8)),VE=Kb(ks(260,.75,.35),ks(80,1.5,.8)),WE=ks(),UE=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return WE.h=360*t-100,WE.s=1.5-1.5*e,WE.l=.8-.9*e,WE+""},GE=Fn(),qE=Math.PI/3,YE=2*Math.PI/3,XE=function(t){var e;return t=(.5-t)*Math.PI,GE.r=255*(e=Math.sin(t))*e,GE.g=255*(e=Math.sin(t+qE))*e,GE.b=255*(e=Math.sin(t+YE))*e,GE+""},KE=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function JE(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var ZE=JE(Tx("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),QE=JE(Tx("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),tC=JE(Tx("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),eC=JE(Tx("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),nC=function(t){return un(ze(t).call(document.documentElement))},iC=0;function rC(){return new oC}function oC(){this._="@"+(++iC).toString(36)}oC.prototype=rC.prototype={constructor:oC,get:function(t){var e=this._;while(!(e in t))if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var aC=function(t){return"string"===typeof t?new sn([document.querySelectorAll(t)],[document.documentElement]):new sn([null==t?[]:t],an)},sC=function(t,e){null==e&&(e=xi().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Ei(t,e[n]);return r},lC=function(t){return function(){return t}},cC=Math.abs,uC=Math.atan2,hC=Math.cos,dC=Math.max,fC=Math.min,pC=Math.sin,mC=Math.sqrt,gC=1e-12,bC=Math.PI,vC=bC/2,yC=2*bC;function _C(t){return t>1?0:t<-1?bC:Math.acos(t)}function wC(t){return t>=1?vC:t<=-1?-vC:Math.asin(t)}function xC(t){return t.innerRadius}function EC(t){return t.outerRadius}function CC(t){return t.startAngle}function kC(t){return t.endAngle}function MC(t){return t&&t.padAngle}function OC(t,e,n,i,r,o,a,s){var l=n-t,c=i-e,u=a-r,h=s-o,d=h*l-u*c;if(!(d*d<gC))return d=(u*(e-o)-h*(t-r))/d,[t+d*l,e+d*c]}function TC(t,e,n,i,r,o,a){var s=t-n,l=e-i,c=(a?o:-o)/mC(s*s+l*l),u=c*l,h=-c*s,d=t+u,f=e+h,p=n+u,m=i+h,g=(d+p)/2,b=(f+m)/2,v=p-d,y=m-f,_=v*v+y*y,w=r-o,x=d*m-p*f,E=(y<0?-1:1)*mC(dC(0,w*w*_-x*x)),C=(x*y-v*E)/_,k=(-x*v-y*E)/_,M=(x*y+v*E)/_,O=(-x*v+y*E)/_,T=C-g,S=k-b,R=M-g,j=O-b;return T*T+S*S>R*R+j*j&&(C=M,k=O),{cx:C,cy:k,x01:-u,y01:-h,x11:C*(r/w-1),y11:k*(r/w-1)}}var SC=function(){var t=xC,e=EC,n=lC(0),i=null,r=CC,o=kC,a=MC,s=null;function l(){var l,c,u=+t.apply(this,arguments),h=+e.apply(this,arguments),d=r.apply(this,arguments)-vC,f=o.apply(this,arguments)-vC,p=cC(f-d),m=f>d;if(s||(s=l=Ca()),h<u&&(c=h,h=u,u=c),h>gC)if(p>yC-gC)s.moveTo(h*hC(d),h*pC(d)),s.arc(0,0,h,d,f,!m),u>gC&&(s.moveTo(u*hC(f),u*pC(f)),s.arc(0,0,u,f,d,m));else{var g,b,v=d,y=f,_=d,w=f,x=p,E=p,C=a.apply(this,arguments)/2,k=C>gC&&(i?+i.apply(this,arguments):mC(u*u+h*h)),M=fC(cC(h-u)/2,+n.apply(this,arguments)),O=M,T=M;if(k>gC){var S=wC(k/u*pC(C)),R=wC(k/h*pC(C));(x-=2*S)>gC?(S*=m?1:-1,_+=S,w-=S):(x=0,_=w=(d+f)/2),(E-=2*R)>gC?(R*=m?1:-1,v+=R,y-=R):(E=0,v=y=(d+f)/2)}var j=h*hC(v),L=h*pC(v),A=u*hC(w),D=u*pC(w);if(M>gC){var z,P=h*hC(y),N=h*pC(y),F=u*hC(_),I=u*pC(_);if(p<bC&&(z=OC(j,L,F,I,P,N,A,D))){var H=j-z[0],B=L-z[1],$=P-z[0],V=N-z[1],W=1/pC(_C((H*$+B*V)/(mC(H*H+B*B)*mC($*$+V*V)))/2),U=mC(z[0]*z[0]+z[1]*z[1]);O=fC(M,(u-U)/(W-1)),T=fC(M,(h-U)/(W+1))}}E>gC?T>gC?(g=TC(F,I,j,L,h,T,m),b=TC(P,N,A,D,h,T,m),s.moveTo(g.cx+g.x01,g.cy+g.y01),T<M?s.arc(g.cx,g.cy,T,uC(g.y01,g.x01),uC(b.y01,b.x01),!m):(s.arc(g.cx,g.cy,T,uC(g.y01,g.x01),uC(g.y11,g.x11),!m),s.arc(0,0,h,uC(g.cy+g.y11,g.cx+g.x11),uC(b.cy+b.y11,b.cx+b.x11),!m),s.arc(b.cx,b.cy,T,uC(b.y11,b.x11),uC(b.y01,b.x01),!m))):(s.moveTo(j,L),s.arc(0,0,h,v,y,!m)):s.moveTo(j,L),u>gC&&x>gC?O>gC?(g=TC(A,D,P,N,u,-O,m),b=TC(j,L,F,I,u,-O,m),s.lineTo(g.cx+g.x01,g.cy+g.y01),O<M?s.arc(g.cx,g.cy,O,uC(g.y01,g.x01),uC(b.y01,b.x01),!m):(s.arc(g.cx,g.cy,O,uC(g.y01,g.x01),uC(g.y11,g.x11),!m),s.arc(0,0,u,uC(g.cy+g.y11,g.cx+g.x11),uC(b.cy+b.y11,b.cx+b.x11),m),s.arc(b.cx,b.cy,O,uC(b.y11,b.x11),uC(b.y01,b.x01),!m))):s.arc(0,0,u,w,_,m):s.lineTo(A,D)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-bC/2;return[hC(i)*n,pC(i)*n]},l.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:lC(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:lC(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:lC(+t),l):n},l.padRadius=function(t){return arguments.length?(i=null==t?null:"function"===typeof t?t:lC(+t),l):i},l.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:lC(+t),l):r},l.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:lC(+t),l):o},l.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:lC(+t),l):a},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l};function RC(t){this._context=t}RC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};var jC=function(t){return new RC(t)};function LC(t){return t[0]}function AC(t){return t[1]}var DC=function(){var t=LC,e=AC,n=lC(!0),i=null,r=jC,o=null;function a(a){var s,l,c,u=a.length,h=!1;for(null==i&&(o=r(c=Ca())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"===typeof e?e:lC(+e),a):t},a.y=function(t){return arguments.length?(e="function"===typeof t?t:lC(+t),a):e},a.defined=function(t){return arguments.length?(n="function"===typeof t?t:lC(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a},zC=function(){var t=LC,e=null,n=lC(0),i=AC,r=lC(!0),o=null,a=jC,s=null;function l(l){var c,u,h,d,f,p=l.length,m=!1,g=new Array(p),b=new Array(p);for(null==o&&(s=a(f=Ca())),c=0;c<=p;++c){if(!(c<p&&r(d=l[c],c,l))===m)if(m=!m)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=u;--h)s.point(g[h],b[h]);s.lineEnd(),s.areaEnd()}m&&(g[c]=+t(d,c,l),b[c]=+n(d,c,l),s.point(e?+e(d,c,l):g[c],i?+i(d,c,l):b[c]))}if(f)return s=null,f+""||null}function c(){return DC().defined(r).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"===typeof n?n:lC(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"===typeof e?e:lC(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:lC(+t),l):e},l.y=function(t){return arguments.length?(n="function"===typeof t?t:lC(+t),i=null,l):n},l.y0=function(t){return arguments.length?(n="function"===typeof t?t:lC(+t),l):n},l.y1=function(t){return arguments.length?(i=null==t?null:"function"===typeof t?t:lC(+t),l):i},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(i)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(r="function"===typeof t?t:lC(!!t),l):r},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l},PC=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},NC=function(t){return t},FC=function(){var t=NC,e=PC,n=null,i=lC(0),r=lC(yC),o=lC(0);function a(a){var s,l,c,u,h,d=a.length,f=0,p=new Array(d),m=new Array(d),g=+i.apply(this,arguments),b=Math.min(yC,Math.max(-yC,r.apply(this,arguments)-g)),v=Math.min(Math.abs(b)/d,o.apply(this,arguments)),y=v*(b<0?-1:1);for(s=0;s<d;++s)(h=m[p[s]=s]=+t(a[s],s,a))>0&&(f+=h);for(null!=e?p.sort((function(t,n){return e(m[t],m[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=f?(b-d*y)/f:0;s<d;++s,g=u)l=p[s],h=m[l],u=g+(h>0?h*c:0)+y,m[l]={data:a[l],index:s,value:h,startAngle:g,endAngle:u,padAngle:v};return m}return a.value=function(e){return arguments.length?(t="function"===typeof e?e:lC(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:lC(+t),a):i},a.endAngle=function(t){return arguments.length?(r="function"===typeof t?t:lC(+t),a):r},a.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:lC(+t),a):o},a},IC=BC(jC);function HC(t){this._curve=t}function BC(t){function e(e){return new HC(t(e))}return e._curve=t,e}function $C(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(BC(t)):e()._curve},t}HC.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var VC=function(){return $C(DC().curve(IC))},WC=function(){var t=zC().curve(IC),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return $C(n())},delete t.lineX0,t.lineEndAngle=function(){return $C(i())},delete t.lineX1,t.lineInnerRadius=function(){return $C(r())},delete t.lineY0,t.lineOuterRadius=function(){return $C(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(BC(t)):e()._curve},t},UC=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},GC=Array.prototype.slice;function qC(t){return t.source}function YC(t){return t.target}function XC(t){var e=qC,n=YC,i=LC,r=AC,o=null;function a(){var a,s=GC.call(arguments),l=e.apply(this,s),c=n.apply(this,s);if(o||(o=a=Ca()),t(o,+i.apply(this,(s[0]=l,s)),+r.apply(this,s),+i.apply(this,(s[0]=c,s)),+r.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(i="function"===typeof t?t:lC(+t),a):i},a.y=function(t){return arguments.length?(r="function"===typeof t?t:lC(+t),a):r},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function KC(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function JC(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function ZC(t,e,n,i,r){var o=UC(e,n),a=UC(e,n=(n+r)/2),s=UC(i,n),l=UC(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}function QC(){return XC(KC)}function tk(){return XC(JC)}function ek(){var t=XC(ZC);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var nk={draw:function(t,e){var n=Math.sqrt(e/bC);t.moveTo(n,0),t.arc(0,0,n,0,yC)}},ik={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rk=Math.sqrt(1/3),ok=2*rk,ak={draw:function(t,e){var n=Math.sqrt(e/ok),i=n*rk;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},sk=.8908130915292852,lk=Math.sin(bC/10)/Math.sin(7*bC/10),ck=Math.sin(yC/10)*lk,uk=-Math.cos(yC/10)*lk,hk={draw:function(t,e){var n=Math.sqrt(e*sk),i=ck*n,r=uk*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var a=yC*o/5,s=Math.cos(a),l=Math.sin(a);t.lineTo(l*n,-s*n),t.lineTo(s*i-l*r,l*i+s*r)}t.closePath()}},dk={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},fk=Math.sqrt(3),pk={draw:function(t,e){var n=-Math.sqrt(e/(3*fk));t.moveTo(0,2*n),t.lineTo(-fk*n,-n),t.lineTo(fk*n,-n),t.closePath()}},mk=-.5,gk=Math.sqrt(3)/2,bk=1/Math.sqrt(12),vk=3*(bk/2+1),yk={draw:function(t,e){var n=Math.sqrt(e/vk),i=n/2,r=n*bk,o=i,a=n*bk+n,s=-o,l=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(mk*i-gk*r,gk*i+mk*r),t.lineTo(mk*o-gk*a,gk*o+mk*a),t.lineTo(mk*s-gk*l,gk*s+mk*l),t.lineTo(mk*i+gk*r,mk*r-gk*i),t.lineTo(mk*o+gk*a,mk*a-gk*o),t.lineTo(mk*s+gk*l,mk*l-gk*s),t.closePath()}},_k=[nk,ik,ak,dk,hk,pk,yk],wk=function(){var t=lC(nk),e=lC(64),n=null;function i(){var i;if(n||(n=i=Ca()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(e){return arguments.length?(t="function"===typeof e?e:lC(e),i):t},i.size=function(t){return arguments.length?(e="function"===typeof t?t:lC(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},xk=function(){};function Ek(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ck(t){this._context=t}Ck.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ek(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ek(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var kk=function(t){return new Ck(t)};function Mk(t){this._context=t}Mk.prototype={areaStart:xk,areaEnd:xk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ek(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Ok=function(t){return new Mk(t)};function Tk(t){this._context=t}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ek(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Sk=function(t){return new Tk(t)};function Rk(t,e){this._basis=new Ck(t),this._beta=e}Rk.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0){var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,l=-1;while(++l<=n)i=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+i*a),this._beta*e[l]+(1-this._beta)*(o+i*s))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var jk=function t(e){function n(t){return 1===e?new Ck(t):new Rk(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Lk(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ak(t,e){this._context=t,this._k=(1-e)/6}Ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Lk(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Lk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Dk=function t(e){function n(t){return new Ak(t,e)}return n.tension=function(e){return t(+e)},n}(0);function zk(t,e){this._context=t,this._k=(1-e)/6}zk.prototype={areaStart:xk,areaEnd:xk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Lk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Pk=function t(e){function n(t){return new zk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Nk(t,e){this._context=t,this._k=(1-e)/6}Nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lk(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Fk=function t(e){function n(t){return new Nk(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Ik(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>gC){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>gC){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function Hk(t,e){this._context=t,this._alpha=e}Hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ik(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bk=function t(e){function n(t){return e?new Hk(t,e):new Ak(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function $k(t,e){this._context=t,this._alpha=e}$k.prototype={areaStart:xk,areaEnd:xk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ik(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Vk=function t(e){function n(t){return e?new $k(t,e):new zk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Wk(t,e){this._context=t,this._alpha=e}Wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ik(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Uk=function t(e){function n(t){return e?new Wk(t,e):new Nk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Gk(t){this._context=t}Gk.prototype={areaStart:xk,areaEnd:xk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var qk=function(t){return new Gk(t)};function Yk(t){return t<0?-1:1}function Xk(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Yk(o)+Yk(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Kk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Jk(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function Zk(t){this._context=t}function Qk(t){this._context=new tM(t)}function tM(t){this._context=t}function eM(t){return new Zk(t)}function nM(t){return new Qk(t)}function iM(t){this._context=t}function rM(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}Zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jk(this,this._t0,Kk(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Jk(this,Kk(this,n=Xk(this,t,e)),n);break;default:Jk(this,this._t0,n=Xk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Qk.prototype=Object.create(Zk.prototype)).point=function(t,e){Zk.prototype.point.call(this,e,t)},tM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},iM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=rM(t),r=rM(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var oM=function(t){return new iM(t)};function aM(t,e){this._context=t,this._t=e}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};var sM=function(t){return new aM(t,.5)};function lM(t){return new aM(t,0)}function cM(t){return new aM(t,1)}var uM=function(t,e){if((r=t.length)>1)for(var n,i,r,o=1,a=t[e[0]],s=a.length;o<r;++o)for(i=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},hM=function(t){var e=t.length,n=new Array(e);while(--e>=0)n[e]=e;return n};function dM(t,e){return t[e]}var fM=function(){var t=lC([]),e=hM,n=uM,i=dM;function r(r){var o,a,s=t.apply(this,arguments),l=r.length,c=s.length,u=new Array(c);for(o=0;o<c;++o){for(var h,d=s[o],f=u[o]=new Array(l),p=0;p<l;++p)f[p]=h=[0,+i(r[p],d,p,r)],h.data=r[p];f.key=d}for(o=0,a=e(u);o<c;++o)u[a[o]].index=o;return n(u,a),u}return r.keys=function(e){return arguments.length?(t="function"===typeof e?e:lC(GC.call(e)),r):t},r.value=function(t){return arguments.length?(i="function"===typeof t?t:lC(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?hM:"function"===typeof t?t:lC(GC.call(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?uM:t,r):n},r},pM=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,a=t[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}uM(t,e)}},mM=function(t,e){if((s=t.length)>0)for(var n,i,r,o,a,s,l=0,c=t[e[0]].length;l<c;++l)for(o=a=0,n=0;n<s;++n)(r=(i=t[e[n]][l])[1]-i[0])>0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=a,i[0]=a+=r):(i[0]=0,i[1]=r)},gM=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}uM(t,e)}},bM=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,l=0,c=0;s<r;++s){for(var u=t[e[s]],h=u[a][1]||0,d=u[a-1][1]||0,f=(h-d)/2,p=0;p<s;++p){var m=t[e[p]],g=m[a][1]||0,b=m[a-1][1]||0;f+=g-b}l+=h,c+=f*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,uM(t,e)}},vM=function(t){var e=t.map(yM);return hM(t).sort((function(t,n){return e[t]-e[n]}))};function yM(t){var e,n=-1,i=0,r=t.length,o=-1/0;while(++n<r)(e=+t[n][1])>o&&(o=e,i=n);return i}var _M=function(t){var e=t.map(wM);return hM(t).sort((function(t,n){return e[t]-e[n]}))};function wM(t){var e,n=0,i=-1,r=t.length;while(++i<r)(e=+t[i][1])&&(n+=e);return n}var xM=function(t){return _M(t).reverse()},EM=function(t){var e,n,i=t.length,r=t.map(wM),o=vM(t),a=0,s=0,l=[],c=[];for(e=0;e<i;++e)n=o[e],a<s?(a+=r[n],l.push(n)):(s+=r[n],c.push(n));return c.reverse().concat(l)},CM=function(t){return hM(t).reverse()},kM="%Y-%m-%dT%H:%M:%S.%LZ";function MM(t){return t.toISOString()}var OM=Date.prototype.toISOString?MM:O_(kM),TM=OM;function SM(t){var e=new Date(t);return isNaN(e)?null:e}var RM=+new Date("2000-01-01T00:00:00.000Z")?SM:T_(kM),jM=RM,LM=function(t,e,n){var i=new Ni,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?zi():+n,i.restart((function o(a){a+=r,i.restart(o,r+=e,n),t(a)}),e,n),i)},AM=function(t){return function(){return t}};function DM(t){return t[0]}function zM(t){return t[1]}function PM(){this._=null}function NM(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function FM(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function IM(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function HM(t){while(t.L)t=t.L;return t}PM.prototype={constructor:PM,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){t=t.R;while(t.L)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=HM(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);e.L=e.R=null,e.U=n,e.C=!0,t=e;while(n&&n.C)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(FM(this,n),t=n,n=t.U),n.C=!1,i.C=!0,IM(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(IM(this,n),t=n,n=t.U),n.C=!1,i.C=!0,FM(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?HM(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,FM(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,IM(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,FM(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,IM(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,FM(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,IM(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var BM=PM;function $M(t,e,n,i){var r=[null,null],o=gO.push(r)-1;return r.left=t,r.right=e,n&&WM(r,t,e,n),i&&WM(r,e,t,i),pO[t.index].halfedges.push(o),pO[e.index].halfedges.push(o),r}function VM(t,e,n){var i=[e,n];return i.left=t,i}function WM(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function UM(t,e,n,i,r){var o,a=t[0],s=t[1],l=a[0],c=a[1],u=s[0],h=s[1],d=0,f=1,p=u-l,m=h-c;if(o=e-l,p||!(o>0)){if(o/=p,p<0){if(o<d)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>d&&(d=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>d&&(d=o)}else if(p>0){if(o<d)return;o<f&&(f=o)}if(o=n-c,m||!(o>0)){if(o/=m,m<0){if(o<d)return;o<f&&(f=o)}else if(m>0){if(o>f)return;o>d&&(d=o)}if(o=r-c,m||!(o<0)){if(o/=m,m<0){if(o>f)return;o>d&&(d=o)}else if(m>0){if(o<d)return;o<f&&(f=o)}return!(d>0||f<1)||(d>0&&(t[0]=[l+d*p,c+d*m]),f<1&&(t[1]=[l+f*p,c+f*m]),!0)}}}}}function GM(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,l=t[0],c=t.left,u=t.right,h=c[0],d=c[1],f=u[0],p=u[1],m=(h+f)/2,g=(d+p)/2;if(p===d){if(m<e||m>=i)return;if(h>f){if(l){if(l[1]>=r)return}else l=[m,n];o=[m,r]}else{if(l){if(l[1]<n)return}else l=[m,r];o=[m,n]}}else if(a=(h-f)/(p-d),s=g-a*m,a<-1||a>1)if(h>f){if(l){if(l[1]>=r)return}else l=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(l){if(l[1]<n)return}else l=[(r-s)/a,r];o=[(n-s)/a,n]}else if(d<p){if(l){if(l[0]>=i)return}else l=[e,a*e+s];o=[i,a*i+s]}else{if(l){if(l[0]<e)return}else l=[i,a*i+s];o=[e,a*e+s]}return t[0]=l,t[1]=o,!0}function qM(t,e,n,i){var r,o=gO.length;while(o--)GM(r=gO[o],t,e,n,i)&&UM(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>bO||Math.abs(r[0][1]-r[1][1])>bO)||delete gO[o]}function YM(t){return pO[t.index]={site:t,halfedges:[]}}function XM(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function KM(t,e){return e[+(e.left!==t.site)]}function JM(t,e){return e[+(e.left===t.site)]}function ZM(){for(var t,e,n,i,r=0,o=pO.length;r<o;++r)if((t=pO[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=XM(t,gO[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}function QM(t,e,n,i){var r,o,a,s,l,c,u,h,d,f,p,m,g=pO.length,b=!0;for(r=0;r<g;++r)if(o=pO[r]){a=o.site,l=o.halfedges,s=l.length;while(s--)gO[l[s]]||l.splice(s,1);s=0,c=l.length;while(s<c)f=JM(o,gO[l[s]]),p=f[0],m=f[1],u=KM(o,gO[l[++s%c]]),h=u[0],d=u[1],(Math.abs(p-h)>bO||Math.abs(m-d)>bO)&&(l.splice(s,0,gO.push(VM(a,f,Math.abs(p-t)<bO&&i-m>bO?[t,Math.abs(h-t)<bO?d:i]:Math.abs(m-i)<bO&&n-p>bO?[Math.abs(d-i)<bO?h:n,i]:Math.abs(p-n)<bO&&m-e>bO?[n,Math.abs(h-n)<bO?d:e]:Math.abs(m-e)<bO&&p-t>bO?[Math.abs(d-e)<bO?h:t,e]:null))-1),++c);c&&(b=!1)}if(b){var v,y,_,w=1/0;for(r=0,b=null;r<g;++r)(o=pO[r])&&(a=o.site,v=a[0]-t,y=a[1]-e,_=v*v+y*y,_<w&&(w=_,b=o));if(b){var x=[t,e],E=[t,i],C=[n,i],k=[n,e];b.halfedges.push(gO.push(VM(a=b.site,x,E))-1,gO.push(VM(a,E,C))-1,gO.push(VM(a,C,k))-1,gO.push(VM(a,k,x))-1)}}for(r=0;r<g;++r)(o=pO[r])&&(o.halfedges.length||delete pO[r])}var tO,eO=[];function nO(){NM(this),this.x=this.y=this.arc=this.site=this.cy=null}function iO(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],l=i[0]-a,c=i[1]-s,u=o[0]-a,h=o[1]-s,d=2*(l*h-c*u);if(!(d>=-vO)){var f=l*l+c*c,p=u*u+h*h,m=(h*f-c*p)/d,g=(l*p-u*f)/d,b=eO.pop()||new nO;b.arc=t,b.site=r,b.x=m+a,b.y=(b.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=b;var v=null,y=mO._;while(y)if(b.y<y.y||b.y===y.y&&b.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}mO.insert(v,b),v||(tO=b)}}}}function rO(t){var e=t.circle;e&&(e.P||(tO=e.N),mO.remove(e),eO.push(e),NM(e),t.circle=null)}var oO=[];function aO(){NM(this),this.edge=this.site=this.circle=null}function sO(t){var e=oO.pop()||new aO;return e.site=t,e}function lO(t){rO(t),fO.remove(t),oO.push(t),NM(t)}function cO(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];lO(t);var l=o;while(l.circle&&Math.abs(n-l.circle.x)<bO&&Math.abs(i-l.circle.cy)<bO)o=l.P,s.unshift(l),lO(l),l=o;s.unshift(l),rO(l);var c=a;while(c.circle&&Math.abs(n-c.circle.x)<bO&&Math.abs(i-c.circle.cy)<bO)a=c.N,s.push(c),lO(c),c=a;s.push(c),rO(c);var u,h=s.length;for(u=1;u<h;++u)c=s[u],l=s[u-1],WM(c.edge,l.site,c.site,r);l=s[0],c=s[h-1],c.edge=$M(l.site,c.site,null,r),iO(l),iO(c)}function uO(t){var e,n,i,r,o=t[0],a=t[1],s=fO._;while(s)if(i=hO(s,a)-o,i>bO)s=s.L;else{if(r=o-dO(s,a),!(r>bO)){i>-bO?(e=s.P,n=s):r>-bO?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}YM(t);var l=sO(t);if(fO.insert(e,l),e||n){if(e===n)return rO(e),n=sO(e.site),fO.insert(l,n),l.edge=n.edge=$M(e.site,l.site),iO(e),void iO(n);if(n){rO(e),rO(n);var c=e.site,u=c[0],h=c[1],d=t[0]-u,f=t[1]-h,p=n.site,m=p[0]-u,g=p[1]-h,b=2*(d*g-f*m),v=d*d+f*f,y=m*m+g*g,_=[(g*v-f*y)/b+u,(d*y-m*v)/b+h];WM(n.edge,c,p,_),l.edge=$M(c,t,null,_),n.edge=$M(t,p,null,_),iO(e),iO(n)}else l.edge=$M(e.site,l.site)}}function hO(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;n=a.site;var s=n[0],l=n[1],c=l-e;if(!c)return s;var u=s-i,h=1/o-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+r-o/2)))/h+i:(i+s)/2}function dO(t,e){var n=t.N;if(n)return hO(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var fO,pO,mO,gO,bO=1e-6,vO=1e-12;function yO(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function _O(t,e){return e[1]-t[1]||e[0]-t[0]}function wO(t,e){var n,i,r,o=t.sort(_O).pop();gO=[],pO=new Array(t.length),fO=new BM,mO=new BM;while(1)if(r=tO,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(uO(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;cO(r.arc)}if(ZM(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];qM(a,s,l,c),QM(a,s,l,c)}this.edges=gO,this.cells=pO,fO=mO=gO=pO=null}wO.prototype={constructor:wO,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return KM(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length){var r,o,a,s=n.site,l=-1,c=e[r[o-1]],u=c.left===s?c.right:c.left;while(++l<o)a=u,c=e[r[l]],u=c.left===s?c.right:c.left,a&&u&&i<a.index&&i<u.index&&yO(s,a,u)<0&&t.push([s.data,a.data,u.data])}})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){var i,r,o=this,a=o._found||0,s=o.cells.length;while(!(r=o.cells[a]))if(++a>=s)return null;var l=t-r.site[0],c=e-r.site[1],u=l*l+c*c;do{r=o.cells[i=a],a=null,r.halfedges.forEach((function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var l=t-s[0],c=e-s[1],h=l*l+c*c;h<u&&(u=h,a=s.index)}}))}while(null!==a);return o._found=i,null==n||u<=n*n?r.site:null}};var xO=function(){var t=DM,e=zM,n=null;function i(i){return new wO(i.map((function(n,r){var o=[Math.round(t(n,r,i)/bO)*bO,Math.round(e(n,r,i)/bO)*bO];return o.index=r,o.data=n,o})),n)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(e){return arguments.length?(t="function"===typeof e?e:AM(+e),i):t},i.y=function(t){return arguments.length?(e="function"===typeof t?t:AM(+t),i):e},i.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i},EO=function(t){return function(){return t}};function CO(t,e,n){this.target=t,this.type=e,this.transform=n}function kO(t,e,n){this.k=t,this.x=e,this.y=n}kO.prototype={constructor:kO,scale:function(t){return 1===t?this:new kO(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new kO(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var MO=new kO(1,0,0);function OO(t){while(!t.__zoom)if(!(t=t.parentNode))return MO;return t.__zoom}function TO(){Ge.stopImmediatePropagation()}OO.prototype=kO.prototype;var SO=function(){Ge.preventDefault(),Ge.stopImmediatePropagation()};function RO(){return!Ge.ctrlKey&&!Ge.button}function jO(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function LO(){return this.__zoom||MO}function AO(){return-Ge.deltaY*(1===Ge.deltaMode?.05:Ge.deltaMode?1:.002)}function DO(){return navigator.maxTouchPoints||"ontouchstart"in this}function zO(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var PO=function(){var t,e,n=RO,i=jO,r=zO,o=AO,a=DO,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Hb,h=bt("start","zoom","end"),d=500,f=150,p=0;function m(t){t.property("__zoom",LO).on("wheel.zoom",x).on("mousedown.zoom",E).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return e=Math.max(s[0],Math.min(s[1],e)),e===t.k?t:new kO(e,t.x,t.y)}function b(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new kO(t.k,i,r)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n){t.on("start.zoom",(function(){_(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).end()})).tween("zoom",(function(){var t=this,r=arguments,o=_(t,r),a=i.apply(t,r),s=null==n?v(a):"function"===typeof n?n.apply(t,r):n,l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"===typeof e?e.apply(t,r):e,d=u(c.invert(s).concat(l/c.k),h.invert(s).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=l/e[2];t=new kO(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.extent=i.apply(t,e),this.taps=0}function x(){if(n.apply(this,arguments)){var t=_(this,arguments),e=this.__zoom,i=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=ki(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[a,e.invert(a)],cr(this),t.start()}SO(),t.wheel=setTimeout(c,f),t.zoom("mouse",r(b(g(e,i),t.mouse[0],t.mouse[1]),t.extent,l))}function c(){t.wheel=null,t.end()}}function E(){if(!e&&n.apply(this,arguments)){var t=_(this,arguments,!0),i=un(Ge.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",u,!0),o=ki(this),a=Ge.clientX,s=Ge.clientY;fn(Ge.view),TO(),t.mouse=[o,this.__zoom.invert(o)],cr(this),t.start()}function c(){if(SO(),!t.moved){var e=Ge.clientX-a,n=Ge.clientY-s;t.moved=e*e+n*n>p}t.zoom("mouse",r(b(t.that.__zoom,t.mouse[0]=ki(t.that),t.mouse[1]),t.extent,l))}function u(){i.on("mousemove.zoom mouseup.zoom",null),pn(Ge.view,t.moved),SO(),t.end()}}function C(){if(n.apply(this,arguments)){var t=this.__zoom,e=ki(this),o=t.invert(e),a=t.k*(Ge.shiftKey?.5:2),s=r(b(g(t,a),e,o),i.apply(this,arguments),l);SO(),c>0?un(this).transition().duration(c).call(y,s,e):un(this).call(m.transform,s)}}function k(){if(n.apply(this,arguments)){var e,i,r,o,a=Ge.touches,s=a.length,l=_(this,arguments,Ge.changedTouches.length===s);for(TO(),i=0;i<s;++i)r=a[i],o=Ci(this,a,r.identifier),o=[o,this.__zoom.invert(o),r.identifier],l.touch0?l.touch1||l.touch0[2]===o[2]||(l.touch1=o,l.taps=0):(l.touch0=o,e=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(l.taps<2&&(t=setTimeout((function(){t=null}),d)),cr(this),l.start())}}function M(){if(this.__zooming){var e,n,i,o,a=_(this,arguments),s=Ge.changedTouches,c=s.length;for(SO(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<c;++e)n=s[e],i=Ci(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=i);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],h=a.touch0[1],d=a.touch1[0],f=a.touch1[1],p=(p=d[0]-u[0])*p+(p=d[1]-u[1])*p,m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m;n=g(n,Math.sqrt(p/m)),i=[(u[0]+d[0])/2,(u[1]+d[1])/2],o=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",r(b(n,i,o),a.extent,l))}}function O(){if(this.__zooming){var t,n,i=_(this,arguments),r=Ge.changedTouches,o=r.length;for(TO(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),t=0;t<o;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var a=un(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return m.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",LO),t!==i?y(t,e,n):i.interrupt().each((function(){_(this,arguments).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n){m.scaleTo(t,(function(){var t=this.__zoom.k,n="function"===typeof e?e.apply(this,arguments):e;return t*n}),n)},m.scaleTo=function(t,e,n){m.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,a=null==n?v(t):"function"===typeof n?n.apply(this,arguments):n,s=o.invert(a),c="function"===typeof e?e.apply(this,arguments):e;return r(b(g(o,c),a,s),t,l)}),n)},m.translateBy=function(t,e,n){m.transform(t,(function(){return r(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}))},m.translateTo=function(t,e,n,o){m.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==o?v(t):"function"===typeof o?o.apply(this,arguments):o;return r(MO.translate(s[0],s[1]).scale(a.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,l)}),o)},w.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){tn(new CO(m,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(o="function"===typeof t?t:EO(+t),m):o},m.filter=function(t){return arguments.length?(n="function"===typeof t?t:EO(!!t),m):n},m.touchable=function(t){return arguments.length?(a="function"===typeof t?t:EO(!!t),m):a},m.extent=function(t){return arguments.length?(i="function"===typeof t?t:EO([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],m):[s[0],s[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(r=t,m):r},m.duration=function(t){return arguments.length?(c=+t,m):c},m.interpolate=function(t){return arguments.length?(u=t,m):u},m.on=function(){var t=h.on.apply(h,arguments);return t===h?m:t},m.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,m):Math.sqrt(p)},m}},"56bd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("1e5b");e.Dedupe=i.Dedupe;var r=n("91dc");e.FunctionToString=r.FunctionToString;var o=n("9102");e.SDKInformation=o.SDKInformation;var a=n("a248");e.InboundFilters=a.InboundFilters;var s=n("eac0");e.ExtraErrorData=s.ExtraErrorData;var l=n("b480");e.Debug=l.Debug;var c=n("f55e");e.RewriteFrames=c.RewriteFrames},5786:function(t,e){function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t.exports=n,t.exports["default"]=t.exports,t.exports.__esModule=!0},"584a":function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},"5b4e":function(t,e,n){var i=n("36c3"),r=n("b447"),o=n("0fc9");t.exports=function(t){return function(e,n,a){var s,l=i(e),c=r(l.length),u=o(a,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},"5bb4":function(t,e,n){},"5bbd":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("1524"),r=n("0a38");const o=(t,e=t)=>Object(i["a"])(t)?t.reduce((t,e)=>[...t,o(e,e)],[]):Object(i["i"])(t)?Object(r["g"])(t).reduce((e,n)=>({...e,[n]:o(t[n],t[n])}),{}):e},"5bc8":function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var i=n("2b0e"),r=n("a6f7"),o=n("4e82"),a=n("1d04"),s=n("6b59"),l=n("ff40"),c=n("1f62"),u=n("8c63"),h=n("17cc"),d=n("ea18"),f=n("3372"),p=n("5d4f"),m=n("29b3"),g=n("1524"),b=n("b082"),v=n("65f3"),y=n("b934"),_=n("5ef7"),w=n("0a38"),x=n("d7d3"),E=n("daee"),C=n("d9c0"),k=n("070c"),M=n("2389"),O=n("c064"),T=n("4e4e");const{mixin:S,props:R,prop:j,event:L}=Object(y["a"])("value",{type:c["h"]}),A=t=>!t.disabled,D=i["a"].extend({name:o["B"],inject:{bvTabs:{default:()=>({})}},props:{controls:Object(E["b"])(c["l"]),id:Object(E["b"])(c["l"]),noKeyNav:Object(E["b"])(c["e"],!1),posInSet:Object(E["b"])(c["h"]),setSize:Object(E["b"])(c["h"]),tab:Object(E["b"])(),tabIndex:Object(E["b"])(c["h"])},methods:{focus(){Object(f["d"])(this.$refs.link)},handleEvt(t){if(this.tab.disabled)return;const{type:e,keyCode:n,shiftKey:i}=t;"click"===e||"keydown"===e&&n===l["h"]?(Object(p["f"])(t),this.$emit(s["d"],t)):"keydown"!==e||this.noKeyNav||(-1!==[l["i"],l["f"],l["e"]].indexOf(n)?(Object(p["f"])(t),i||n===l["e"]?this.$emit(s["i"],t):this.$emit(s["s"],t)):-1!==[l["a"],l["g"],l["b"]].indexOf(n)&&(Object(p["f"])(t),i||n===l["b"]?this.$emit(s["o"],t):this.$emit(s["r"],t)))}},render(t){const{id:e,tabIndex:n,setSize:i,posInSet:r,controls:o,handleEvt:a}=this,{title:s,localActive:l,disabled:c,titleItemClass:h,titleLinkClass:d,titleLinkAttributes:f}=this.tab,p=t(O["a"],{staticClass:"nav-link",class:[{active:l&&!c,disabled:c},d,l?this.bvTabs.activeNavItemClass:null],props:{disabled:c},attrs:{...f,id:e,role:"tab",tabindex:n,"aria-selected":l&&!c?"true":"false","aria-setsize":i,"aria-posinset":r,"aria-controls":o},on:{click:a,keydown:a},ref:"link"},[this.tab.normalizeSlot(u["l"])||s]);return t("li",{staticClass:"nav-item",class:[h],attrs:{role:"presentation"}},[p])}}),z=Object(w["i"])(T["b"],["tabs","isNavBar","cardHeader"]),P=Object(E["c"])(Object(w["l"])({...k["b"],...R,...z,activeNavItemClass:Object(E["b"])(c["c"]),activeTabClass:Object(E["b"])(c["c"]),card:Object(E["b"])(c["e"],!1),contentClass:Object(E["b"])(c["c"]),end:Object(E["b"])(c["e"],!1),lazy:Object(E["b"])(c["e"],!1),navClass:Object(E["b"])(c["c"]),navWrapperClass:Object(E["b"])(c["c"]),noFade:Object(E["b"])(c["e"],!1),noKeyNav:Object(E["b"])(c["e"],!1),noNavStyle:Object(E["b"])(c["e"],!1),tag:Object(E["b"])(c["l"],"div")}),o["A"]),N=i["a"].extend({name:o["A"],mixins:[k["a"],S,M["a"]],provide(){return{bvTabs:this}},props:P,data(){return{currentTab:Object(_["b"])(this[j],-1),tabs:[],registeredTabs:[]}},computed:{fade(){return!this.noFade},localNavClass(){const t=[];return this.card&&this.vertical&&t.push("card-header","h-100","border-bottom-0","rounded-0"),[...t,this.navClass]}},watch:{[j](t,e){if(t!==e){t=Object(_["b"])(t,-1),e=Object(_["b"])(e,0);const n=this.tabs[t];n&&!n.disabled?this.activateTab(n):t<e?this.previousTab():this.nextTab()}},currentTab(t){let e=-1;this.tabs.forEach((n,i)=>{i!==t||n.disabled?n.localActive=!1:(n.localActive=!0,e=i)}),this.$emit(L,e)},tabs(t,e){Object(b["a"])(t.map(t=>t[r["a"]]),e.map(t=>t[r["a"]]))||this.$nextTick(()=>{this.$emit(s["c"],t.slice(),e.slice())})},registeredTabs(){this.updateTabs()}},created(){this.$_observer=null},mounted(){this.setObserver(!0)},beforeDestroy(){this.setObserver(!1),this.tabs=[]},methods:{registerTab(t){Object(h["a"])(this.registeredTabs,t)||this.registeredTabs.push(t)},unregisterTab(t){this.registeredTabs=this.registeredTabs.slice().filter(e=>e!==t)},setObserver(t=!0){if(this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,t){const t=()=>{this.$nextTick(()=>{Object(f["v"])(()=>{this.updateTabs()})})};this.$_observer=Object(x["a"])(this.$refs.content,t,{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}},getTabs(){const t=this.registeredTabs.filter(t=>0===t.$children.filter(t=>t._isTab).length);let e=[];if(a["f"]&&t.length>0){const n=t.map(t=>"#"+t.safeId()).join(", ");e=Object(f["x"])(n,this.$el).map(t=>t.id).filter(m["a"])}return Object(C["a"])(t,(t,n)=>e.indexOf(t.safeId())-e.indexOf(n.safeId()))},updateTabs(){const t=this.getTabs();let e=t.indexOf(t.slice().reverse().find(t=>t.localActive&&!t.disabled));if(e<0){const{currentTab:n}=this;n>=t.length?e=t.indexOf(t.slice().reverse().find(A)):t[n]&&!t[n].disabled&&(e=n)}e<0&&(e=t.indexOf(t.find(A))),t.forEach((t,n)=>{t.localActive=n===e}),this.tabs=t,this.currentTab=e},getButtonForTab(t){return(this.$refs.buttons||[]).find(e=>e.tab===t)},updateButton(t){const e=this.getButtonForTab(t);e&&e.$forceUpdate&&e.$forceUpdate()},activateTab(t){const{currentTab:e,tabs:n}=this;let i=!1;if(t){const r=n.indexOf(t);if(r!==e&&r>-1&&!t.disabled){const t=new d["a"](s["a"],{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(t.type,r,e,t),t.defaultPrevented||(this.currentTab=r,i=!0)}}return i||this[j]===e||this.$emit(L,e),i},deactivateTab(t){return!!t&&this.activateTab(this.tabs.filter(e=>e!==t).find(A))},focusButton(t){this.$nextTick(()=>{Object(f["d"])(this.getButtonForTab(t))})},emitTabClick(t,e){Object(g["d"])(e)&&t&&t.$emit&&!t.disabled&&t.$emit(s["d"],e)},clickTab(t,e){this.activateTab(t),this.emitTabClick(t,e)},firstTab(t){const e=this.tabs.find(A);this.activateTab(e)&&t&&(this.focusButton(e),this.emitTabClick(e,t))},previousTab(t){const e=Object(v["a"])(this.currentTab,0),n=this.tabs.slice(0,e).reverse().find(A);this.activateTab(n)&&t&&(this.focusButton(n),this.emitTabClick(n,t))},nextTab(t){const e=Object(v["a"])(this.currentTab,-1),n=this.tabs.slice(e+1).find(A);this.activateTab(n)&&t&&(this.focusButton(n),this.emitTabClick(n,t))},lastTab(t){const e=this.tabs.slice().reverse().find(A);this.activateTab(e)&&t&&(this.focusButton(e),this.emitTabClick(e,t))}},render(t){const{align:e,card:n,end:i,fill:o,firstTab:a,justified:l,lastTab:c,nextTab:h,noKeyNav:d,noNavStyle:f,pills:p,previousTab:m,small:g,tabs:b,vertical:v}=this,y=b.find(t=>t.localActive&&!t.disabled),_=b.find(t=>!t.disabled),w=b.map((e,n)=>{const{safeId:i}=e;let o=null;return d||(o=-1,(e===y||!y&&e===_)&&(o=null)),t(D,{props:{controls:i?i():null,id:e.controlledBy||(i?i("_BV_tab_button_"):null),noKeyNav:d,posInSet:n+1,setSize:b.length,tab:e,tabIndex:o},on:{[s["d"]]:t=>{this.clickTab(e,t)},[s["i"]]:a,[s["s"]]:m,[s["r"]]:h,[s["o"]]:c},key:e[r["a"]]||n,ref:"buttons",refInFor:!0})});let x=t(T["a"],{class:this.localNavClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:o,justified:l,align:e,tabs:!f&&!p,pills:!f&&p,vertical:v,small:g,cardHeader:n&&!v},ref:"nav"},[this.normalizeSlot(u["k"])||t(),w,this.normalizeSlot(u["j"])||t()]);x=t("div",{class:[{"card-header":n&&!v&&!i,"card-footer":n&&!v&&i,"col-auto":v},this.navWrapperClass],key:"bv-tabs-nav"},[x]);const E=this.normalizeSlot()||[];let C=t();0===E.length&&(C=t("div",{class:["tab-pane","active",{"card-body":n}],key:"bv-empty-tab"},this.normalizeSlot(u["d"])));const k=t("div",{staticClass:"tab-content",class:[{col:v},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")},key:"bv-content",ref:"content"},[E,C]);return t(this.tag,{staticClass:"tabs",class:{row:v,"no-gutters":v&&n},attrs:{id:this.safeId()}},[i?k:t(),x,i?t():k])}})},"5ca1":function(t,e,n){var i=n("7726"),r=n("8378"),o=n("32e9"),a=n("2aba"),s=n("9b43"),l="prototype",c=function(t,e,n){var u,h,d,f,p=t&c.F,m=t&c.G,g=t&c.S,b=t&c.P,v=t&c.B,y=m?i:g?i[e]||(i[e]={}):(i[e]||{})[l],_=m?r:r[e]||(r[e]={}),w=_[l]||(_[l]={});for(u in m&&(n=e),n)h=!p&&y&&void 0!==y[u],d=(h?y:n)[u],f=v&&h?s(d,i):b&&"function"==typeof d?s(Function.call,d):d,y&&a(y,u,d,t&c.U),_[u]!=d&&o(_,u,f),b&&w[u]!=d&&(w[u]=d)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5cc5":function(t,n,i){var r=i("2b4c")("iterator"),o=!1;try{var a=[7][r]();a["return"]=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(t,n){if(!n&&!o)return!1;var i=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:i=!0}},a[r]=function(){return s},t(a)}catch(e){}return i}},"5d4f":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return h})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"d",(function(){return m}));var i=n("1d04"),r=n("6b59"),o=n("8db0"),a=n("1524"),s=n("055d");const l=t=>i["c"]?Object(a["h"])(t)?t:{capture:!!t||!1}:!!(Object(a["h"])(t)?t.capture:t),c=(t,e,n,i)=>{t&&t.addEventListener&&t.addEventListener(e,n,l(i))},u=(t,e,n,i)=>{t&&t.removeEventListener&&t.removeEventListener(e,n,l(i))},h=(t,...e)=>{const n=t?c:u;n(...e)},d=(t,{preventDefault:e=!0,propagation:n=!0,immediatePropagation:i=!1}={})=>{e&&t.preventDefault(),n&&t.stopPropagation(),i&&t.stopImmediatePropagation()},f=t=>Object(s["a"])(t.replace(o["b"],"")),p=(t,e)=>[r["B"],f(t),e].join(r["C"]),m=(t,e)=>[r["B"],e,f(t)].join(r["C"])},"5d58":function(t,e,n){t.exports=n("d8d6")},"5d73":function(t,e,n){t.exports=n("469f")},"5dbc":function(t,e,n){var i=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},"5eda":function(t,e,n){var i=n("5ca1"),r=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",a)}},"5ef7":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));const i=(t,e=NaN)=>{const n=parseInt(t,10);return isNaN(n)?e:n},r=(t,e=NaN)=>{const n=parseFloat(t);return isNaN(n)?e:n}},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},6039:function(t,e,n){"use strict";n.d(e,"a",(function(){return $}));var i=n("4e82"),r=n("1d04"),o=n("6b59"),a=n("ff40"),s=n("8db0"),l=n("17cc"),c=n("3372"),u=n("5d4f"),h=n("1524"),d=n("b082"),f=n("0a38");const p="collapsed",m="not-collapsed",g="__BV_toggle",b=g+"_HANDLER__",v=g+"_CLICK__",y=g+"_STATE__",_=g+"_TARGETS__",w="false",x="true",E="aria-controls",C="aria-expanded",k="role",M="tabindex",O="overflow-anchor",T=Object(u["d"])(i["j"],"toggle"),S=Object(u["e"])(i["j"],"state"),R=Object(u["e"])(i["j"],"sync-state"),j=Object(u["d"])(i["j"],"request-state"),L=[a["c"],a["h"]],A=t=>!Object(l["a"])(["button","a"],t.tagName.toLowerCase()),D=({modifiers:t,arg:e,value:n},i)=>{const r=Object(f["g"])(t||{});if(n=Object(h["j"])(n)?n.split(s["o"]):n,Object(c["o"])(i.tagName,"a")){const t=Object(c["g"])(i,"href")||"";s["g"].test(t)&&r.push(t.replace(s["f"],""))}return Object(l["b"])(e,n).forEach(t=>Object(h["j"])(t)&&r.push(t)),r.filter((t,e,n)=>t&&n.indexOf(t)===e)},z=t=>{const e=t[v];e&&(Object(u["a"])(t,"click",e,o["x"]),Object(u["a"])(t,"keydown",e,o["x"])),t[v]=null},P=(t,e)=>{if(z(t),e.context){const n=n=>{if(("keydown"!==n.type||Object(l["a"])(L,n.keyCode))&&!Object(c["m"])(t)){const n=t[_]||[];n.forEach(t=>{e.context.$root.$emit(T,t)})}};t[v]=n,Object(u["b"])(t,"click",n,o["x"]),A(t)&&Object(u["b"])(t,"keydown",n,o["x"])}},N=(t,e)=>{t[b]&&e.context&&e.context.$root.$off([S,R],t[b]),t[b]=null},F=(t,e)=>{if(N(t,e),e.context){const n=(e,n)=>{Object(l["a"])(t[_]||[],e)&&(t[y]=n,I(t,n))};t[b]=n,e.context.$root.$on([S,R],n)}},I=(t,e)=>{e?(Object(c["t"])(t,p),Object(c["b"])(t,m),Object(c["y"])(t,C,x)):(Object(c["t"])(t,m),Object(c["b"])(t,p),Object(c["y"])(t,C,w))},H=(t,e)=>{t[e]=null,delete t[e]},B=(t,e,n)=>{if(!r["f"]||!n.context)return;A(t)&&(Object(c["k"])(t,k)||Object(c["y"])(t,k,"button"),Object(c["k"])(t,M)||Object(c["y"])(t,M,"0")),I(t,t[y]);const i=D(e,t);i.length>0?(Object(c["y"])(t,E,i.join(" ")),Object(c["z"])(t,O,"none")):(Object(c["s"])(t,E),Object(c["u"])(t,O)),Object(c["v"])(()=>{P(t,n)}),Object(d["a"])(i,t[_])||(t[_]=i,i.forEach(t=>{n.context.$root.$emit(j,t)}))},$={bind(t,e,n){t[y]=!1,t[_]=[],F(t,n),B(t,e,n)},componentUpdated:B,updated:B,unbind(t,e,n){z(t),N(t,n),H(t,b),H(t,v),H(t,y),H(t,_),Object(c["t"])(t,p),Object(c["t"])(t,m),Object(c["s"])(t,C),Object(c["s"])(t,E),Object(c["s"])(t,k),Object(c["u"])(t,O)}}},6066:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2b0e"),r=n("4e82"),o=n("1f62"),a=n("daee");const s=Object(a["c"])({bgVariant:Object(a["b"])(o["l"]),borderVariant:Object(a["b"])(o["l"]),tag:Object(a["b"])(o["l"],"div"),textVariant:Object(a["b"])(o["l"])},r["b"]);i["a"].extend({props:s})},"613b":function(t,e,n){var i=n("5537")("keys"),r=n("ca5a");t.exports=function(t){return i[t]||(i[t]=r(t))}},"626a":function(t,e,n){var i=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"629f":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("daee");const l=Object(s["c"])({ariaLive:Object(s["b"])(a["l"]),forceShow:Object(s["b"])(a["e"],!1),id:Object(s["b"])(a["l"]),role:Object(s["b"])(a["l"]),state:Object(s["b"])(a["e"],null),tag:Object(s["b"])(a["l"],"div"),tooltip:Object(s["b"])(a["e"],!1)},o["o"]),c=i["a"].extend({name:o["o"],functional:!0,props:l,render(t,{props:e,data:n,children:i}){const{tooltip:o,ariaLive:a}=e,s=!0===e.forceShow||!1===e.state;return t(e.tag,Object(r["a"])(n,{class:{"d-block":s,"invalid-feedback":!o,"invalid-tooltip":o},attrs:{id:e.id||null,role:e.role||null,"aria-live":a||null,"aria-atomic":a?"true":null}}),i)}})},"62a0":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"63b6":function(t,e,n){var i=n("e53d"),r=n("584a"),o=n("d864"),a=n("35e8"),s=n("07e3"),l="prototype",c=function(t,e,n){var u,h,d,f=t&c.F,p=t&c.G,m=t&c.S,g=t&c.P,b=t&c.B,v=t&c.W,y=p?r:r[e]||(r[e]={}),_=y[l],w=p?i:m?i[e]:(i[e]||{})[l];for(u in p&&(n=e),n)h=!f&&w&&void 0!==w[u],h&&s(y,u)||(d=h?w[u]:n[u],y[u]=p&&"function"!=typeof w[u]?n[u]:b&&h?o(d,i):v&&w[u]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[l]=t[l],e}(d):g&&"function"==typeof d?o(Function.call,d):d,g&&((y.virtual||(y.virtual={}))[u]=d,t&c.R&&_&&!_[u]&&a(_,u,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"65f3":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));Math.min;const i=Math.max;Math.abs,Math.ceil,Math.floor,Math.pow,Math.round},6640:function(t,e,n){"use strict";n("5bb4")},"66e2":function(t,e,n){"use strict";n.d(e,"a",(function(){return M}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("ff40"),s=n("1f62"),l=n("17cc"),c=n("3372"),u=n("5d4f"),h=n("1524"),d=n("0a38"),f=n("daee"),p=n("3914"),m=n("c064");const g=Object(d["i"])(m["b"],["event","routerTag"]);delete g.href.default,delete g.to.default;const b=Object(f["c"])(Object(d["l"])({...g,block:Object(f["b"])(s["e"],!1),disabled:Object(f["b"])(s["e"],!1),pill:Object(f["b"])(s["e"],!1),pressed:Object(f["b"])(s["e"],null),size:Object(f["b"])(s["l"]),squared:Object(f["b"])(s["e"],!1),tag:Object(f["b"])(s["l"],"button"),type:Object(f["b"])(s["l"],"button"),variant:Object(f["b"])(s["l"],"secondary")}),o["a"]),v=t=>{"focusin"===t.type?Object(c["b"])(t.target,"focus"):"focusout"===t.type&&Object(c["t"])(t.target,"focus")},y=t=>Object(p["d"])(t)||Object(c["o"])(t.tag,"a"),_=t=>Object(h["b"])(t.pressed),w=t=>!(y(t)||t.tag&&!Object(c["o"])(t.tag,"button")),x=t=>!y(t)&&!w(t),E=t=>["btn-"+(t.variant||"secondary"),{["btn-"+t.size]:t.size,"btn-block":t.block,"rounded-pill":t.pill,"rounded-0":t.squared&&!t.pill,disabled:t.disabled,active:t.pressed}],C=t=>y(t)?Object(f["d"])(g,t):{},k=(t,e)=>{const n=w(t),i=y(t),r=_(t),o=x(t),a=i&&"#"===t.href,s=e.attrs&&e.attrs.role?e.attrs.role:null;let l=e.attrs?e.attrs.tabindex:null;return(o||a)&&(l="0"),{type:n&&!i?t.type:null,disabled:n?t.disabled:null,role:o||a?"button":s,"aria-disabled":o?String(t.disabled):null,"aria-pressed":r?String(t.pressed):null,autocomplete:r?"off":null,tabindex:t.disabled&&!n?"-1":l}},M=i["a"].extend({name:o["a"],functional:!0,props:b,render(t,{props:e,data:n,listeners:i,children:o}){const s=_(e),c=y(e),d=x(e),f=c&&"#"===e.href,p={keydown(t){if(e.disabled||!d&&!f)return;const{keyCode:n}=t;if(n===a["h"]||n===a["c"]&&d){const e=t.currentTarget||t.target;Object(u["f"])(t,{propagation:!1}),e.click()}},click(t){e.disabled&&Object(h["d"])(t)?Object(u["f"])(t):s&&i&&i["update:pressed"]&&Object(l["b"])(i["update:pressed"]).forEach(t=>{Object(h["e"])(t)&&t(!e.pressed)})}};s&&(p.focusin=v,p.focusout=v);const g={staticClass:"btn",class:E(e),props:C(e),attrs:k(e,n),on:p};return t(c?m["a"]:e.tag,Object(r["a"])(n,g),o)}})},6718:function(t,e,n){var i=n("e53d"),r=n("584a"),o=n("b8e3"),a=n("ccb9"),s=n("d9f6").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},"672d":function(t,e,n){var i=15,r=i,o=1440,a=15,s=32,l=0,c=4,u=8,h=0,d=1,f=2,p=-2,m=-3,g=-4,b=-5,v=0,y=1,_=2,w=3,x=4,E=5,C=6,k=7,M=8,O=9,T=10,S=11,R=12,j=13,L=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],A=0,D=1,z=2,P=3,N=4,F=5,I=6,H=7,B=8,$=9,V=9,W=5,U=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],G=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function J(){}function Z(){this.was=[0]}J.prototype.inflateInit=function(t,e){return t||(t=r),e&&(e=!1),this.istate=new Z,this.istate.inflateInit(this,e?-t:t)},J.prototype.inflate=function(t){return null==this.istate?p:this.istate.inflate(this,t)},J.prototype.inflateEnd=function(){if(null==this.istate)return p;var t=istate.inflateEnd(this);return this.istate=null,t},J.prototype.inflateSync=function(){return istate.inflateSync(this)},J.prototype.inflateSetDictionary=function(t,e){return istate.inflateSetDictionary(this,t,e)},Z.prototype.inflateReset=function(t){return null==t||null==t.istate?p:(t.total_in=t.total_out=0,t.msg=null,t.istate.mode=0!=t.istate.nowrap?k:v,t.istate.blocks.reset(t,null),h)},Z.prototype.inflateEnd=function(t){return null!=this.blocks&&this.blocks.free(t),this.blocks=null,h},Z.prototype.inflateInit=function(t,e){return t.msg=null,this.blocks=null,nowrap=0,e<0&&(e=-e,nowrap=1),e<8||e>15?(this.inflateEnd(t),p):(this.wbits=e,t.istate.blocks=new et(t,0!=t.istate.nowrap?null:this,1<<e),this.inflateReset(t),h)},Z.prototype.inflate=function(t,e){var n,i;if(null==t||null==t.istate||null==t.next_in)return p;e=e==c?b:h,n=b;while(1)switch(t.istate.mode){case v:if(0==t.avail_in)return n;if(n=e,t.avail_in--,t.total_in++,(15&(t.istate.method=t.next_in[t.next_in_index++]))!=u){t.istate.mode=j,t.msg="unknown compression method",t.istate.marker=5;break}if(8+(t.istate.method>>4)>t.istate.wbits){t.istate.mode=j,t.msg="invalid window size",t.istate.marker=5;break}t.istate.mode=y;case y:if(0==t.avail_in)return n;if(n=e,t.avail_in--,t.total_in++,i=255&t.next_in[t.next_in_index++],((t.istate.method<<8)+i)%31!=0){t.istate.mode=j,t.msg="incorrect header check",t.istate.marker=5;break}if(0==(i&s)){t.istate.mode=k;break}t.istate.mode=_;case _:if(0==t.avail_in)return n;n=e,t.avail_in--,t.total_in++,t.istate.need=(255&t.next_in[t.next_in_index++])<<24&4278190080,t.istate.mode=w;case w:if(0==t.avail_in)return n;n=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<16&16711680,t.istate.mode=x;case x:if(0==t.avail_in)return n;n=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<8&65280,t.istate.mode=E;case E:return 0==t.avail_in?n:(n=e,t.avail_in--,t.total_in++,t.istate.need+=255&t.next_in[t.next_in_index++],t.adler=t.istate.need,t.istate.mode=C,f);case C:return t.istate.mode=j,t.msg="need dictionary",t.istate.marker=0,p;case k:if(n=t.istate.blocks.proc(t,n),n==m){t.istate.mode=j,t.istate.marker=0;break}if(n==h&&(n=e),n!=d)return n;if(n=e,t.istate.blocks.reset(t,t.istate.was),0!=t.istate.nowrap){t.istate.mode=R;break}t.istate.mode=M;case M:if(0==t.avail_in)return n;n=e,t.avail_in--,t.total_in++,t.istate.need=(255&t.next_in[t.next_in_index++])<<24&4278190080,t.istate.mode=O;case O:if(0==t.avail_in)return n;n=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<16&16711680,t.istate.mode=T;case T:if(0==t.avail_in)return n;n=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<8&65280,t.istate.mode=S;case S:if(0==t.avail_in)return n;if(n=e,t.avail_in--,t.total_in++,t.istate.need+=255&t.next_in[t.next_in_index++],t.istate.was[0]!=t.istate.need){t.istate.mode=j,t.msg="incorrect data check",t.istate.marker=5;break}t.istate.mode=R;case R:return d;case j:return m;default:return p}},Z.prototype.inflateSetDictionary=function(t,e,n){var i=0,r=n;return null==t||null==t.istate||t.istate.mode!=C?p:t._adler.adler32(1,e,0,n)!=t.adler?m:(t.adler=t._adler.adler32(0,null,0,0),r>=1<<t.istate.wbits&&(r=(1<<t.istate.wbits)-1,i=n-r),t.istate.blocks.set_dictionary(e,i,r),t.istate.mode=k,h)};var Q=[0,0,255,255];Z.prototype.inflateSync=function(t){var e,n,i,r,o;if(null==t||null==t.istate)return p;if(t.istate.mode!=j&&(t.istate.mode=j,t.istate.marker=0),0==(e=t.avail_in))return b;n=t.next_in_index,i=t.istate.marker;while(0!=e&&i<4)t.next_in[n]==Q[i]?i++:i=0!=t.next_in[n]?0:4-i,n++,e--;return t.total_in+=n-t.next_in_index,t.next_in_index=n,t.avail_in=e,t.istate.marker=i,4!=i?m:(r=t.total_in,o=t.total_out,this.inflateReset(t),t.total_in=r,t.total_out=o,t.istate.mode=k,h)},Z.prototype.inflateSyncPoint=function(t){return null==t||null==t.istate||null==t.istate.blocks?p:t.istate.blocks.sync_point()};var tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function et(t,e,n){this.hufts=new Int32Array(3*o),this.window=new Uint8Array(n),this.end=n,this.checkfn=e,this.mode=A,this.reset(t,null),this.left=0,this.table=0,this.index=0,this.blens=null,this.bb=new Int32Array(1),this.tb=new Int32Array(1),this.codes=new dt,this.last=0,this.bitk=0,this.bitb=0,this.read=0,this.write=0,this.check=0,this.inftree=new ft}et.prototype.reset=function(t,e){e&&(e[0]=this.check),this.mode==I&&this.codes.free(t),this.mode=A,this.bitk=0,this.bitb=0,this.read=this.write=0,this.checkfn&&(t.adler=this.check=t._adler.adler32(0,null,0,0))},et.prototype.proc=function(t,e){var n,i,r,o,a,s,l;o=t.next_in_index,a=t.avail_in,i=this.bitb,r=this.bitk,s=this.write,l=s<this.read?this.read-s-1:this.end-s;while(1)switch(this.mode){case A:while(r<3){if(0==a)return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);e=h,a--,i|=(255&t.next_in[o++])<<r,r+=8}switch(n=7&i,this.last=1&n,n>>>1){case 0:i>>>=3,r-=3,n=7&r,i>>>=n,r-=n,this.mode=D;break;case 1:var c=new Int32Array(1),u=new Int32Array(1),f=[],g=[];pt(c,u,f,g,t),this.codes.init(c[0],u[0],f[0],0,g[0],0,t),i>>>=3,r-=3,this.mode=I;break;case 2:i>>>=3,r-=3,this.mode=P;break;case 3:return i>>>=3,r-=3,this.mode=j,t.msg="invalid block type",e=m,this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e)}break;case D:while(r<32){if(0==a)return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);e=h,a--,i|=(255&t.next_in[o++])<<r,r+=8}if((~i>>>16&65535)!=(65535&i))return this.mode=j,t.msg="invalid stored block lengths",e=m,this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);this.left=65535&i,i=r=0,this.mode=0!=this.left?z:0!=this.last?H:A;break;case z:if(0==a)return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,write=s,this.inflate_flush(t,e);if(0==l&&(s==end&&0!=read&&(s=0,l=s<this.read?this.read-s-1:this.end-s),0==l&&(this.write=s,e=this.inflate_flush(t,e),s=this.write,l=s<this.read?this.read-s-1:this.end-s,s==this.end&&0!=this.read&&(s=0,l=s<this.read?this.read-s-1:this.end-s),0==l)))return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);if(e=h,n=this.left,n>a&&(n=a),n>l&&(n=l),bt(t.next_in,o,this.window,s,n),o+=n,a-=n,s+=n,l-=n,0!=(this.left-=n))break;this.mode=0!=this.last?H:A;break;case P:while(r<14){if(0==a)return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);e=h,a--,i|=(255&t.next_in[o++])<<r,r+=8}if(this.table=n=16383&i,(31&n)>29||(n>>5&31)>29)return this.mode=$,t.msg="too many length or distance symbols",e=m,this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);if(n=258+(31&n)+(n>>5&31),null==this.blens||this.blens.length<n)this.blens=new Int32Array(n);else for(var b=0;b<n;b++)this.blens[b]=0;i>>>=14,r-=14,this.index=0,mode=N;case N:while(this.index<4+(this.table>>>10)){while(r<3){if(0==a)return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);e=h,a--,i|=(255&t.next_in[o++])<<r,r+=8}this.blens[tt[this.index++]]=7&i,i>>>=3,r-=3}while(this.index<19)this.blens[tt[this.index++]]=0;if(this.bb[0]=7,n=this.inftree.inflate_trees_bits(this.blens,this.bb,this.tb,this.hufts,t),n!=h)return e=n,e==m&&(this.blens=null,this.mode=$),this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,write=s,this.inflate_flush(t,e);this.index=0,this.mode=F;case F:while(1){if(n=this.table,!(this.index<258+(31&n)+(n>>5&31)))break;var v,y;n=this.bb[0];while(r<n){if(0==a)return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);e=h,a--,i|=(255&t.next_in[o++])<<r,r+=8}if(n=this.hufts[3*(this.tb[0]+(i&L[n]))+1],y=this.hufts[3*(this.tb[0]+(i&L[n]))+2],y<16)i>>>=n,r-=n,this.blens[this.index++]=y;else{b=18==y?7:y-14,v=18==y?11:3;while(r<n+b){if(0==a)return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);e=h,a--,i|=(255&t.next_in[o++])<<r,r+=8}if(i>>>=n,r-=n,v+=i&L[b],i>>>=b,r-=b,b=this.index,n=this.table,b+v>258+(31&n)+(n>>5&31)||16==y&&b<1)return this.blens=null,this.mode=$,t.msg="invalid bit length repeat",e=m,this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);y=16==y?this.blens[b-1]:0;do{this.blens[b++]=y}while(0!=--v);this.index=b}}this.tb[0]=-1;c=new Int32Array(1),u=new Int32Array(1),f=new Int32Array(1),g=new Int32Array(1);if(c[0]=9,u[0]=6,n=this.table,n=this.inftree.inflate_trees_dynamic(257+(31&n),1+(n>>5&31),this.blens,c,u,f,g,this.hufts,t),n!=h)return n==m&&(this.blens=null,this.mode=j),e=n,this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);this.codes.init(c[0],u[0],this.hufts,f[0],this.hufts,g[0],t),this.mode=I;case I:if(this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,(e=this.codes.proc(this,t,e))!=d)return this.inflate_flush(t,e);if(e=h,this.codes.free(t),o=t.next_in_index,a=t.avail_in,i=this.bitb,r=this.bitk,s=this.write,l=s<this.read?this.read-s-1:this.end-s,0==this.last){this.mode=A;break}this.mode=H;case H:if(this.write=s,e=this.inflate_flush(t,e),s=this.write,l=s<this.read?this.read-s-1:this.end-s,this.read!=this.write)return this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);mode=R;case B:return e=d,this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);case $:return e=m,this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e);default:return e=p,this.bitb=i,this.bitk=r,t.avail_in=a,t.total_in+=o-t.next_in_index,t.next_in_index=o,this.write=s,this.inflate_flush(t,e)}},et.prototype.free=function(t){this.reset(t,null),this.window=null,this.hufts=null},et.prototype.set_dictionary=function(t,e,n){bt(t,e,window,0,n),this.read=this.write=n},et.prototype.sync_point=function(){return this.mode==D},et.prototype.inflate_flush=function(t,e){var n,i,r;return i=t.next_out_index,r=this.read,n=(r<=this.write?this.write:this.end)-r,n>t.avail_out&&(n=t.avail_out),0!=n&&e==b&&(e=h),t.avail_out-=n,t.total_out+=n,null!=this.checkfn&&(t.adler=this.check=t._adler.adler32(this.check,this.window,r,n)),bt(this.window,r,t.next_out,i,n),i+=n,r+=n,r==this.end&&(r=0,this.write==this.end&&(this.write=0),n=this.write-r,n>t.avail_out&&(n=t.avail_out),0!=n&&e==b&&(e=h),t.avail_out-=n,t.total_out+=n,null!=this.checkfn&&(t.adler=this.check=t._adler.adler32(this.check,this.window,r,n)),bt(this.window,r,t.next_out,i,n),i+=n,r+=n),t.next_out_index=i,this.read=r,e};var nt=0,it=1,rt=2,ot=3,at=4,st=5,lt=6,ct=7,ut=8,ht=9;function dt(){}function ft(){}function pt(t,e,n,i,r){return t[0]=V,e[0]=W,n[0]=U,i[0]=G,h}dt.prototype.init=function(t,e,n,i,r,o,a){this.mode=nt,this.lbits=t,this.dbits=e,this.ltree=n,this.ltree_index=i,this.dtree=r,this.dtree_index=o,this.tree=null},dt.prototype.proc=function(t,e,n){var i,r,o,a,s,l,c,u=0,f=0,g=0;g=e.next_in_index,a=e.avail_in,u=t.bitb,f=t.bitk,s=t.write,l=s<t.read?t.read-s-1:t.end-s;while(1)switch(this.mode){case nt:if(l>=258&&a>=10&&(t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,n=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,this.dtree,this.dtree_index,t,e),g=e.next_in_index,a=e.avail_in,u=t.bitb,f=t.bitk,s=t.write,l=s<t.read?t.read-s-1:t.end-s,n!=h)){this.mode=n==d?ct:ht;break}this.need=this.lbits,this.tree=this.ltree,this.tree_index=this.ltree_index,this.mode=it;case it:i=this.need;while(f<i){if(0==a)return t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);n=h,a--,u|=(255&e.next_in[g++])<<f,f+=8}if(r=3*(this.tree_index+(u&L[i])),u>>>=this.tree[r+1],f-=this.tree[r+1],o=this.tree[r],0==o){this.lit=this.tree[r+2],this.mode=lt;break}if(0!=(16&o)){this.get=15&o,this.len=this.tree[r+2],this.mode=rt;break}if(0==(64&o)){this.need=o,this.tree_index=r/3+this.tree[r+2];break}if(0!=(32&o)){this.mode=ct;break}return this.mode=ht,e.msg="invalid literal/length code",n=m,t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);case rt:i=this.get;while(f<i){if(0==a)return t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);n=h,a--,u|=(255&e.next_in[g++])<<f,f+=8}this.len+=u&L[i],u>>=i,f-=i,this.need=this.dbits,this.tree=this.dtree,this.tree_index=this.dtree_index,this.mode=ot;case ot:i=this.need;while(f<i){if(0==a)return t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);n=h,a--,u|=(255&e.next_in[g++])<<f,f+=8}if(r=3*(this.tree_index+(u&L[i])),u>>=this.tree[r+1],f-=this.tree[r+1],o=this.tree[r],0!=(16&o)){this.get=15&o,this.dist=this.tree[r+2],this.mode=at;break}if(0==(64&o)){this.need=o,this.tree_index=r/3+this.tree[r+2];break}return this.mode=ht,e.msg="invalid distance code",n=m,t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);case at:i=this.get;while(f<i){if(0==a)return t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);n=h,a--,u|=(255&e.next_in[g++])<<f,f+=8}this.dist+=u&L[i],u>>=i,f-=i,this.mode=st;case st:c=s-this.dist;while(c<0)c+=t.end;while(0!=this.len){if(0==l&&(s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l&&(t.write=s,n=t.inflate_flush(e,n),s=t.write,l=s<t.read?t.read-s-1:t.end-s,s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l)))return t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);t.window[s++]=t.window[c++],l--,c==t.end&&(c=0),this.len--}this.mode=nt;break;case lt:if(0==l&&(s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l&&(t.write=s,n=t.inflate_flush(e,n),s=t.write,l=s<t.read?t.read-s-1:t.end-s,s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l)))return t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);n=h,t.window[s++]=this.lit,l--,this.mode=nt;break;case ct:if(f>7&&(f-=8,a++,g--),t.write=s,n=t.inflate_flush(e,n),s=t.write,l=s<t.read?t.read-s-1:t.end-s,t.read!=t.write)return t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);this.mode=ut;case ut:return n=d,t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);case ht:return n=m,t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n);default:return n=p,t.bitb=u,t.bitk=f,e.avail_in=a,e.total_in+=g-e.next_in_index,e.next_in_index=g,t.write=s,t.inflate_flush(e,n)}},dt.prototype.free=function(t){},dt.prototype.inflate_fast=function(t,e,n,i,r,o,a,s){var l,c,u,f,p,g,b,v,y,_,w,x,E,C,k,M;b=s.next_in_index,v=s.avail_in,p=a.bitb,g=a.bitk,y=a.write,_=y<a.read?a.read-y-1:a.end-y,w=L[t],x=L[e];do{while(g<20)v--,p|=(255&s.next_in[b++])<<g,g+=8;if(l=p&w,c=n,u=i,M=3*(u+l),0!=(f=c[M]))do{if(p>>=c[M+1],g-=c[M+1],0!=(16&f)){f&=15,E=c[M+2]+(p&L[f]),p>>=f,g-=f;while(g<15)v--,p|=(255&s.next_in[b++])<<g,g+=8;l=p&x,c=r,u=o,M=3*(u+l),f=c[M];do{if(p>>=c[M+1],g-=c[M+1],0!=(16&f)){f&=15;while(g<f)v--,p|=(255&s.next_in[b++])<<g,g+=8;if(C=c[M+2]+(p&L[f]),p>>=f,g-=f,_-=E,y>=C)k=y-C,a.window[y++]=a.window[k++],a.window[y++]=a.window[k++],E-=2;else{k=y-C;do{k+=a.end}while(k<0);if(f=a.end-k,E>f){if(E-=f,y-k>0&&f>y-k)do{a.window[y++]=a.window[k++]}while(0!=--f);else bt(a.window,k,a.window,y,f),y+=f,k+=f,f=0;k=0}}do{a.window[y++]=a.window[k++]}while(0!=--E);break}if(0!=(64&f))return s.msg="invalid distance code",E=s.avail_in-v,E=g>>3<E?g>>3:E,v+=E,b-=E,g-=E<<3,a.bitb=p,a.bitk=g,s.avail_in=v,s.total_in+=b-s.next_in_index,s.next_in_index=b,a.write=y,m;l+=c[M+2],l+=p&L[f],M=3*(u+l),f=c[M]}while(1);break}if(0!=(64&f))return 0!=(32&f)?(E=s.avail_in-v,E=g>>3<E?g>>3:E,v+=E,b-=E,g-=E<<3,a.bitb=p,a.bitk=g,s.avail_in=v,s.total_in+=b-s.next_in_index,s.next_in_index=b,a.write=y,d):(s.msg="invalid literal/length code",E=s.avail_in-v,E=g>>3<E?g>>3:E,v+=E,b-=E,g-=E<<3,a.bitb=p,a.bitk=g,s.avail_in=v,s.total_in+=b-s.next_in_index,s.next_in_index=b,a.write=y,m);if(l+=c[M+2],l+=p&L[f],M=3*(u+l),0==(f=c[M])){p>>=c[M+1],g-=c[M+1],a.window[y++]=c[M+2],_--;break}}while(1);else p>>=c[M+1],g-=c[M+1],a.window[y++]=c[M+2],_--}while(_>=258&&v>=10);return E=s.avail_in-v,E=g>>3<E?g>>3:E,v+=E,b-=E,g-=E<<3,a.bitb=p,a.bitk=g,s.avail_in=v,s.total_in+=b-s.next_in_index,s.next_in_index=b,a.write=y,h},ft.prototype.huft_build=function(t,e,n,i,r,s,l,c,u,d,f){var p,g,v,y,_,w,x,E,C,k,M,O,T,S,R;k=0,_=n;do{this.c[t[e+k]]++,k++,_--}while(0!=_);if(this.c[0]==n)return l[0]=-1,c[0]=0,h;for(E=c[0],w=1;w<=a;w++)if(0!=this.c[w])break;for(x=w,E<w&&(E=w),_=a;0!=_;_--)if(0!=this.c[_])break;for(v=_,E>_&&(E=_),c[0]=E,S=1<<w;w<_;w++,S<<=1)if((S-=this.c[w])<0)return m;if((S-=this.c[_])<0)return m;this.c[_]+=S,this.x[1]=w=0,k=1,T=2;while(0!=--_)this.x[T]=w+=this.c[k],T++,k++;_=0,k=0;do{0!=(w=t[e+k])&&(this.v[this.x[w]++]=_),k++}while(++_<n);for(n=this.x[v],this.x[0]=_=0,k=0,y=-1,O=-E,this.u[0]=0,M=0,R=0;x<=v;x++){p=this.c[x];while(0!=p--){while(x>O+E){if(y++,O+=E,R=v-O,R=R>E?E:R,(g=1<<(w=x-O))>p+1&&(g-=p+1,T=x,w<R))while(++w<R){if((g<<=1)<=this.c[++T])break;g-=this.c[T]}if(R=1<<w,this.hn[0]+R>o)return m;this.u[y]=M=this.hn[0],this.hn[0]+=R,0!=y?(this.x[y]=_,this.r[0]=w,this.r[1]=E,w=_>>>O-E,this.r[2]=M-this.u[y-1]-w,bt(this.r,0,u,3*(this.u[y-1]+w),3)):l[0]=M}for(this.r[1]=x-O,k>=n?this.r[0]=192:f[k]<i?(this.r[0]=this.v[k]<256?0:96,this.r[2]=this.v[k++]):(this.r[0]=s[this.v[k]-i]+16+64,this.r[2]=r[this.v[k++]-i]),g=1<<x-O,w=_>>>O;w<R;w+=g)bt(this.r,0,u,3*(M+w),3);for(w=1<<x-1;0!=(_&w);w>>>=1)_^=w;_^=w,C=(1<<O)-1;while((_&C)!=this.x[y])y--,O-=E,C=(1<<O)-1}}return 0!=S&&1!=v?b:h},ft.prototype.inflate_trees_bits=function(t,e,n,i,r){var o;return this.initWorkArea(19),this.hn[0]=0,o=this.huft_build(t,0,19,19,null,null,n,e,i,this.hn,this.v),o==m?r.msg="oversubscribed dynamic bit lengths tree":o!=b&&0!=e[0]||(r.msg="incomplete dynamic bit lengths tree",o=m),o},ft.prototype.inflate_trees_dynamic=function(t,e,n,i,r,o,a,s,l){var c;return this.initWorkArea(288),this.hn[0]=0,c=this.huft_build(n,0,t,257,q,Y,o,i,s,this.hn,this.v),c!=h||0==i[0]?(c==m?l.msg="oversubscribed literal/length tree":c!=g&&(l.msg="incomplete literal/length tree",c=m),c):(this.initWorkArea(288),c=this.huft_build(n,t,e,0,X,K,a,r,s,this.hn,this.v),c!=h||0==r[0]&&t>257?(c==m?l.msg="oversubscribed distance tree":c==b?(l.msg="incomplete distance tree",c=m):c!=g&&(l.msg="empty distance tree with lengths",c=m),c):h)},ft.prototype.initWorkArea=function(t){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(t),this.c=new Int32Array(a+1),this.r=new Int32Array(3),this.u=new Int32Array(a),this.x=new Int32Array(a+1)),this.v.length<t&&(this.v=new Int32Array(t));for(var e=0;e<t;e++)this.v[e]=0;for(e=0;e<a+1;e++)this.c[e]=0;for(e=0;e<3;e++)this.r[e]=0;bt(this.c,0,this.u,0,a),bt(this.c,0,this.x,0,a+1)};var mt=new Uint8Array(1),gt="function"===typeof mt.subarray;function bt(t,e,n,i,r){if(0!=r){if(!t)throw"Undef src";if(!n)throw"Undef dest";0==e&&r==t.length?yt(t,n,i):gt?yt(t.subarray(e,e+r),n,i):1==t.BYTES_PER_ELEMENT&&r>100?yt(new Uint8Array(t.buffer,t.byteOffset+e,r),n,i):vt(t,e,n,i,r)}}function vt(t,e,n,i,r){for(var o=0;o<r;++o)n[i+o]=t[e+o]}function yt(t,e,n){e.set(t,n)}function _t(t,e,n,i){t=e?n?new Uint8Array(t,e,n):new Uint8Array(t,e,t.byteLength-e):new Uint8Array(t);var o=new J;o.inflateInit(r,!0),o.next_in=t,o.next_in_index=0,o.avail_in=t.length;var a=[],s=0;while(1){var c=new Uint8Array(32e3);o.next_out=c,o.next_out_index=0,o.avail_out=c.length;var u=o.inflate(l);if(u!=h&&u!=d&&u!=b)throw o.msg;if(0!=o.avail_out){var f=new Uint8Array(c.length-o.avail_out);bt(c,0,f,0,c.length-o.avail_out),c=f}if(a.push(c),s+=c.length,u==d||u==b)break}if(i&&(i[0]=(e||0)+o.next_in_index),1==a.length)return a[0].buffer;for(var p=new Uint8Array(s),m=0,g=0;g<a.length;++g){var v=a[g];bt(v,0,p,m,v.length),m+=v.length}return p.buffer}t.exports={inflateBuffer:_t,arrayCopy:bt}},6747:function(t,e){var n=Array.isArray;t.exports=n},6762:function(t,e,n){"use strict";var i=n("5ca1"),r=n("c366")(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"67ab":function(t,e,n){var i=n("ca5a")("meta"),r=n("d3f4"),o=n("69a8"),a=n("86cc").f,s=0,l=Object.isExtensible||function(){return!0},c=!n("79e5")((function(){return l(Object.preventExtensions({}))})),u=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},d=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},f=function(t){return c&&p.NEED&&l(t)&&!o(t,i)&&u(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:f}},"67bb":function(t,e,n){t.exports=n("f921")},6821:function(t,e,n){var i=n("626a"),r=n("be13");t.exports=function(t){return i(r(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"69b4":function(t,n,i){"use strict";(function(t,r){Object.defineProperty(n,"__esModule",{value:!0});var o=i("9ab4"),a=i("6a3a"),s="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function l(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function c(t,e){return e={exports:{}},t(e,e.exports),e.exports}var u=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t["Fatal"]="fatal",t["Error"]="error",t["Warning"]="warning",t["Log"]="log",t["Info"]="info",t["Debug"]="debug",t["Critical"]="critical"}(e.Severity||(e.Severity={})),function(t){function e(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}t.fromString=e}(e.Severity||(e.Severity={})),function(t){t["Unknown"]="unknown",t["Skipped"]="skipped",t["Success"]="success",t["RateLimit"]="rate_limit",t["Invalid"]="invalid",t["Failed"]="failed"}(e.Status||(e.Status={})),function(t){function e(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}t.fromHttpCode=e}(e.Status||(e.Status={}))}));l(u);var h=u.Severity,d=u.Status,f=c((function(t,e){function n(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return t instanceof Error}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function r(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function a(t){return void 0===t}function s(t){return"function"===typeof t}function l(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!==typeof t&&"function"!==typeof t}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t){return"[object Object]"===Object.prototype.toString.call(t)}function d(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function f(t){return t!==t}function p(t){return h(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}Object.defineProperty(e,"__esModule",{value:!0}),e.isError=n,e.isErrorEvent=i,e.isDOMError=r,e.isDOMException=o,e.isUndefined=a,e.isFunction=s,e.isString=l,e.isPrimitive=c,e.isArray=u,e.isPlainObject=h,e.isRegExp=d,e.isNaN=f,e.isSyntheticEvent=p}));l(f);var p=f.isError,m=f.isErrorEvent,g=f.isDOMError,b=f.isDOMException,v=f.isUndefined,y=f.isFunction,_=f.isString,w=(f.isPrimitive,f.isArray,f.isPlainObject),x=(f.isRegExp,f.isNaN,f.isSyntheticEvent,c((function(t,e){function n(t,e){return t.require(e)}function i(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof r?r:0)}Object.defineProperty(e,"__esModule",{value:!0}),e.dynamicRequire=n,e.isNodeEnv=i;var o={};function a(){return i()?s:"undefined"!==typeof window?window:"undefined"!==typeof self?self:o}function l(){var t=a(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(t){var e=t.toString(16);while(e.length<4)e="0"+e;return e};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}))}function c(t){var e,n=t,i=5,r=80,o=[],a=0,s=0,l=" > ",c=l.length;while(n&&a++<i){if(e=u(n),"html"===e||a>1&&s+o.length*c+e.length>=r)break;o.push(e),s+=e.length,n=n.parentNode}return o.reverse().join(l)}function u(t){var e,n,i,r,o,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),e=t.className,e&&f.isString(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var s=["type","name","title","alt"];for(o=0;o<s.length;o++)i=s[o],r=t.getAttribute(i),r&&a.push("["+i+'="'+r+'"]');return a.join("")}function h(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function d(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function p(t){var e=a(),n=["debug","info","warn","error","log"];if(!("console"in e))return t();var i=e.console,r={};n.forEach((function(t){t in e.console&&i[t].__sentry__&&(r[t]=i[t].__sentry_wrapped__,i[t]=i[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){i[t]=r[t]})),o}e.getGlobalObject=a,e.uuid4=l,e.htmlTreeAsString=c,e.htmlElementAsString=u,e.parseUrl=h,e.getEventDescription=d,e.consoleSandbox=p})));l(x);x.dynamicRequire,x.isNodeEnv;var E=x.getGlobalObject,C=(x.uuid4,x.htmlTreeAsString),k=(x.htmlElementAsString,x.parseUrl),M=x.getEventDescription,O=(x.consoleSandbox,c((function(t,n){function i(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function r(){try{return new DOMError(""),!0}catch(e){return!1}}function o(){try{return new DOMException(""),!0}catch(e){return!1}}function a(){if(!("fetch"in x.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function s(){if(!a())return!1;var t=x.getGlobalObject(),e=t.fetch;return-1!==e.toString().indexOf("native")}function l(){return"ReportingObserver"in x.getGlobalObject()}function c(){if(!a())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function u(){var t=x.getGlobalObject(),e=t.chrome,n=e&&e.app&&e.app.runtime,i="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&i}Object.defineProperty(n,"__esModule",{value:!0}),n.supportsErrorEvent=i,n.supportsDOMError=r,n.supportsDOMException=o,n.supportsFetch=a,n.supportsNativeFetch=s,n.supportsReportingObserver=l,n.supportsReferrerPolicy=c,n.supportsHistory=u})));l(O);O.supportsErrorEvent,O.supportsDOMError,O.supportsDOMException;var T=O.supportsFetch,S=O.supportsNativeFetch,R=O.supportsReportingObserver,j=O.supportsReferrerPolicy,L=O.supportsHistory,A=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.hasWeakSet="function"===typeof WeakSet,this.inner=this.hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this.hasWeakSet)return!!this.inner.has(t)||(this.inner.add(t),!1);for(var e=0;e<this.inner.length;e++){var n=this.inner[e];if(n===t)return!0}return this.inner.push(t),!1},t.prototype.unmemoize=function(t){if(this.hasWeakSet)this.inner.delete(t);else for(var e=0;e<this.inner.length;e++)if(this.inner[e]===t){this.inner.splice(e,1);break}},t}();e.Memo=n}));l(A);A.Memo;var D=c((function(t,n){function i(t,e){return void 0===e&&(e=0),0!==e&&f.isString(t)?t.length<=e?t:t.substr(0,e)+"...":t}function r(t,e){var n=t,i=n.length;if(i<=150)return n;e>i&&(e=i);var r=Math.max(e-60,0);r<5&&(r=0);var o=Math.min(r+140,i);return o>i-5&&(o=i),o===i&&(r=Math.max(o-140,0)),n=n.slice(r,o),r>0&&(n="'{snip} "+n),o<i&&(n+=" {snip}"),n}function o(t,n){if(!Array.isArray(t))return"";for(var i=[],r=0;r<t.length;r++){var o=t[r];try{i.push(String(o))}catch(e){i.push("[value cannot be serialized]")}}return i.join(n)}function a(t,e){return!(e.length>t.length)&&-1!==t.indexOf(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.truncate=i,n.snipLine=r,n.safeJoin=o,n.includes=a}));l(D);var z=D.truncate,P=(D.snipLine,D.safeJoin),N=D.includes,F=c((function(t,e){function n(t){return JSON.stringify(t,x({normalize:!1}))}function i(t){return JSON.parse(t)}function r(t){return i(n(t))}function o(t,e,n){if(e in t&&!t[e].__sentry__){var i=t[e],r=n(i);"function"===typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:i},__sentry_wrapped__:{enumerable:!1,value:r}})),t[e]=r}}function a(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=n,e.deserialize=i,e.clone=r,e.fill=o,e.urlEncode=a;var l=3,c=102400,u=40;function h(t){return~-encodeURI(t).split(/%..|./).length}function d(t){return h(JSON.stringify(t))}function p(t){var e=Object.prototype.toString.call(t);if("string"===typeof t)return D.truncate(t,40);if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=_(t);return f.isPrimitive(n)?""+n:e}function m(t,e){if(0===e)return p(t);if(f.isPlainObject(t)){var n={},i=t;return Object.keys(i).forEach((function(t){n[t]=m(i[t],e-1)})),n}if(f.isArray(t)){var r=t;return r.map((function(t){return m(t,e-1)}))}return p(t)}function g(t,e,i){void 0===e&&(e=l),void 0===i&&(i=c);var r=m(t,e);return d(n(r))>i?g(t,e-1):r}function b(t,e){if(void 0===e&&(e=u),!t.length)return"[object has no keys]";if(t[0].length>=e)return D.truncate(t[0],e);for(var n=t.length;n>0;n--){var i=t.slice(0,n).join(", ");if(!(i.length>e))return n===t.length?i:D.truncate(i,e)}return""}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null===t||void 0===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=0;r<e.length;r++){var o=e[r];if(null!==o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i}function y(t){var e={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function _(t,e){return"domain"===e&&"object"===typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!==typeof s&&t===s?"[Global]":"undefined"!==typeof window&&t===window?"[Window]":"undefined"!==typeof document&&t===document?"[Document]":"undefined"!==typeof Event&&t instanceof Event?Object.getPrototypeOf(t)?t.constructor.name:"Event":f.isSyntheticEvent(t)?"[SyntheticEvent]":f.isNaN(t)?"[NaN]":f.isUndefined(t)?"[undefined]":"function"===typeof t?"[Function: "+(t.name||"<unknown-function-name>")+"]":t}function w(t,e,n){if(void 0===e&&(e=1/0),void 0===n&&(n=new A.Memo),0===e)return p(t);var i=_(t);if(f.isPrimitive(i))return i;var r=f.isError(t)?y(t):t,o=f.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o[a]=w(r[a],e-1,n));return n.unmemoize(t),o}function x(t){return void 0===t&&(t={normalize:!0}),function(e,n){return t.normalize?_(w(n,t.depth),e):w(n,t.depth)}}function E(t,e){try{return JSON.parse(JSON.stringify(t,x({normalize:!0,depth:e})))}catch(n){return"**non-serializable**"}}e.serializeObject=m,e.limitObjectDepthToSize=g,e.serializeKeysToEventMessage=b,e.assign=v,e.decycle=w,e.safeNormalize=E}));l(F);var I=F.serialize,H=F.deserialize,B=(F.clone,F.fill),$=(F.urlEncode,F.serializeObject,F.limitObjectDepthToSize),V=F.serializeKeysToEventMessage,W=(F.assign,F.decycle,F.safeNormalize);function U(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function G(t,e){return t<<e|t>>>32-e}function q(t,e,n,i,r,o){return U(G(U(U(e,t),U(i,o)),r),n)}function Y(t,e,n,i,r,o,a){return q(e&n|~e&i,t,e,r,o,a)}function X(t,e,n,i,r,o,a){return q(e&i|n&~i,t,e,r,o,a)}function K(t,e,n,i,r,o,a){return q(e^n^i,t,e,r,o,a)}function J(t,e,n,i,r,o,a){return q(n^(e|~i),t,e,r,o,a)}function Z(t,e){var n,i,r,o,a;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var s=1732584193,l=-271733879,c=-1732584194,u=271733878;for(n=0;n<t.length;n+=16)i=s,r=l,o=c,a=u,s=Y(s,l,c,u,t[n],7,-680876936),u=Y(u,s,l,c,t[n+1],12,-389564586),c=Y(c,u,s,l,t[n+2],17,606105819),l=Y(l,c,u,s,t[n+3],22,-1044525330),s=Y(s,l,c,u,t[n+4],7,-176418897),u=Y(u,s,l,c,t[n+5],12,1200080426),c=Y(c,u,s,l,t[n+6],17,-1473231341),l=Y(l,c,u,s,t[n+7],22,-45705983),s=Y(s,l,c,u,t[n+8],7,1770035416),u=Y(u,s,l,c,t[n+9],12,-1958414417),c=Y(c,u,s,l,t[n+10],17,-42063),l=Y(l,c,u,s,t[n+11],22,-1990404162),s=Y(s,l,c,u,t[n+12],7,1804603682),u=Y(u,s,l,c,t[n+13],12,-40341101),c=Y(c,u,s,l,t[n+14],17,-1502002290),l=Y(l,c,u,s,t[n+15],22,1236535329),s=X(s,l,c,u,t[n+1],5,-165796510),u=X(u,s,l,c,t[n+6],9,-1069501632),c=X(c,u,s,l,t[n+11],14,643717713),l=X(l,c,u,s,t[n],20,-373897302),s=X(s,l,c,u,t[n+5],5,-701558691),u=X(u,s,l,c,t[n+10],9,38016083),c=X(c,u,s,l,t[n+15],14,-660478335),l=X(l,c,u,s,t[n+4],20,-405537848),s=X(s,l,c,u,t[n+9],5,568446438),u=X(u,s,l,c,t[n+14],9,-1019803690),c=X(c,u,s,l,t[n+3],14,-187363961),l=X(l,c,u,s,t[n+8],20,1163531501),s=X(s,l,c,u,t[n+13],5,-1444681467),u=X(u,s,l,c,t[n+2],9,-51403784),c=X(c,u,s,l,t[n+7],14,1735328473),l=X(l,c,u,s,t[n+12],20,-1926607734),s=K(s,l,c,u,t[n+5],4,-378558),u=K(u,s,l,c,t[n+8],11,-2022574463),c=K(c,u,s,l,t[n+11],16,1839030562),l=K(l,c,u,s,t[n+14],23,-35309556),s=K(s,l,c,u,t[n+1],4,-1530992060),u=K(u,s,l,c,t[n+4],11,1272893353),c=K(c,u,s,l,t[n+7],16,-155497632),l=K(l,c,u,s,t[n+10],23,-1094730640),s=K(s,l,c,u,t[n+13],4,681279174),u=K(u,s,l,c,t[n],11,-358537222),c=K(c,u,s,l,t[n+3],16,-722521979),l=K(l,c,u,s,t[n+6],23,76029189),s=K(s,l,c,u,t[n+9],4,-640364487),u=K(u,s,l,c,t[n+12],11,-421815835),c=K(c,u,s,l,t[n+15],16,530742520),l=K(l,c,u,s,t[n+2],23,-995338651),s=J(s,l,c,u,t[n],6,-198630844),u=J(u,s,l,c,t[n+7],10,1126891415),c=J(c,u,s,l,t[n+14],15,-1416354905),l=J(l,c,u,s,t[n+5],21,-57434055),s=J(s,l,c,u,t[n+12],6,1700485571),u=J(u,s,l,c,t[n+3],10,-1894986606),c=J(c,u,s,l,t[n+10],15,-1051523),l=J(l,c,u,s,t[n+1],21,-2054922799),s=J(s,l,c,u,t[n+8],6,1873313359),u=J(u,s,l,c,t[n+15],10,-30611744),c=J(c,u,s,l,t[n+6],15,-1560198380),l=J(l,c,u,s,t[n+13],21,1309151649),s=J(s,l,c,u,t[n+4],6,-145523070),u=J(u,s,l,c,t[n+11],10,-1120210379),c=J(c,u,s,l,t[n+2],15,718787259),l=J(l,c,u,s,t[n+9],21,-343485551),s=U(s,i),l=U(l,r),c=U(c,o),u=U(u,a);return[s,l,c,u]}function Q(t){var e,n="",i=32*t.length;for(e=0;e<i;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function tt(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var i=8*t.length;for(e=0;e<i;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function et(t){return Q(Z(tt(t),8*t.length))}function nt(t,e){var n,i,r=tt(t),o=[],a=[];for(o[15]=a[15]=void 0,r.length>16&&(r=Z(r,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],a[n]=1549556828^r[n];return i=Z(o.concat(tt(e)),512+8*e.length),Q(Z(a.concat(i),640))}function it(t){var e,n,i="0123456789abcdef",r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+=i.charAt(e>>>4&15)+i.charAt(15&e);return r}function rt(t){return unescape(encodeURIComponent(t))}function ot(t){return et(rt(t))}function at(t){return it(ot(t))}function st(t,e){return nt(rt(t),rt(e))}function lt(t,e){return it(st(t,e))}function ct(t,e,n){return e?n?st(e,t):lt(e,t):n?ot(t):at(t)}
/**
 * TraceKit - Cross brower stack traces
 *
 * This was originally forked from github.com/occ/TraceKit, but has since been
 * largely modified and is now maintained as part of Sentry JS SDK.
 *
 * NOTE: Last merge with upstream repository
 * Jul 11,2018 - #f03357c
 *
 * https://github.com/csnover/TraceKit
 * @license MIT
 * @namespace TraceKit
 */var ut=E(),ht={wrap:function(){return function(){}},report:!1,collectWindowErrors:!1,computeStackTrace:!1,remoteFetching:!1,linesOfContext:!1,extendToAsynchronousCallbacks:!1},dt=[].slice,ft="?",pt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gt(){return"undefined"===typeof document||null==document.location?"":document.location.href}function bt(){return"undefined"===typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")}ht.wrap=function(t){function n(){try{return t.apply(this,arguments)}catch(e){throw ht.report(e),e}}return n},ht.report=function(){var t,e,n,i,r=[],a=null,s=null;function l(t){r.push(t)}function c(t){for(var e=r.length-1;e>=0;--e)r[e]===t&&r.splice(e,1);0===r.length&&(g(),v())}function u(t,e,n){var i=null;if(!e||ht.collectWindowErrors){for(var o in r)if(mt(r,o))try{r[o](t,e,n)}catch(a){i=a}if(i)throw i}}function h(e,n,i,r,a){var l=null;if(a=m(a)?a.error:a,e=m(e)?e.message:e,s)ht.computeStackTrace.augmentStackTraceWithInitialElement(s,n,i,e),y();else if(a&&p(a))l=ht.computeStackTrace(a),l.mechanism="onerror",u(l,!0,a);else{var c,h={url:n,line:i,column:r},d=e;if("[object String]"==={}.toString.call(e)){var f=e.match(pt);f&&(c=f[1],d=f[2])}h.func=ht.computeStackTrace.guessFunctionName(h.url,h.line),h.context=ht.computeStackTrace.gatherContext(h.url,h.line),l={name:c,message:d,mode:"onerror",mechanism:"onerror",stack:[o.__assign({},h,{url:h.url||gt()})]},u(l,!0,null)}return!!t&&t.apply(this,arguments)}function d(t){var e=t&&(t.detail?t.detail.reason:t.reason)||t,n=ht.computeStackTrace(e);n.mechanism="onunhandledrejection",u(n,!0,e)}function f(){!0!==e&&(t=ut.onerror,ut.onerror=h,e=!0)}function g(){e&&(ut.onerror=t,e=!1)}function b(){!0!==i&&(n=ut.onunhandledrejection,ut.onunhandledrejection=d,i=!0)}function v(){i&&(ut.onunhandledrejection=n,i=!1)}function y(){var t=s,e=a;s=null,a=null,u(t,!1,e)}function _(t){if(s){if(a===t)return;y()}var e=ht.computeStackTrace(t);throw s=e,a=t,setTimeout((function(){a===t&&y()}),e.incomplete?2e3:0),t}return _.subscribe=l,_.unsubscribe=c,_.installGlobalHandler=f,_.installGlobalUnhandledRejectionHandler=b,_}(),ht.computeStackTrace=function(){var t=!1,n={};function i(t){if(!ht.remoteFetching)return"";try{var n=function(){try{return new ut.XMLHttpRequest}catch(e){return new ut.ActiveXObject("Microsoft.XMLHTTP")}},i=n();return i.open("GET",t,!1),i.send(""),i.responseText}catch(e){return""}}function r(t){if("string"!==typeof t)return[];if(!mt(n,t)){var r="",o="";try{o=ut.document.domain}catch(e){}var a=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(t);a&&a[2]===o&&(r=i(t)),n[t]=r?r.split("\n"):[]}return n[t]}function o(t,e){var n,i=/function ([^(]*)\(([^)]*)\)/,o=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",s=10,l=r(t);if(!l.length)return ft;for(var c=0;c<s;++c)if(a=l[e-c]+a,!v(a)){if(n=o.exec(a))return n[1];if(n=i.exec(a))return n[1]}return ft}function a(t,e){var n=r(t);if(!n.length)return null;var i=[],o=Math.floor(ht.linesOfContext/2),a=o+ht.linesOfContext%2,s=Math.max(0,e-o-1),l=Math.min(n.length,e+a-1);e-=1;for(var c=s;c<l;++c)v(n[c])||i.push(n[c]);return i.length>0?i:null}function s(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function l(t){return s(t).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function c(t,e){for(var n,i,o=0,a=e.length;o<a;++o)if((n=r(e[o])).length&&(n=n.join("\n"),i=t.exec(n)))return{url:e[o],line:n.substring(0,i.index).split("\n").length,column:i.index-n.lastIndexOf("\n",i.index)-1};return null}function u(t,e,n){var i,o=r(e),a=new RegExp("\\b"+s(t)+"\\b");return n-=1,o&&o.length>n&&(i=a.exec(o[n]))?i.index:null}function h(t){if(!v(ut&&ut.document)){for(var e,n,i,r,o=[gt()],a=ut.document.getElementsByTagName("script"),u=""+t,h=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,d=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,f=0;f<a.length;++f){var p=a[f];p.src&&o.push(p.src)}if(i=h.exec(u)){var m=i[1]?"\\s+"+i[1]:"",g=i[2].split(",").join("\\s*,\\s*");e=s(i[3]).replace(/;$/,";?"),n=new RegExp("function"+m+"\\s*\\(\\s*"+g+"\\s*\\)\\s*{\\s*"+e+"\\s*}")}else n=new RegExp(s(u).replace(/\s+/g,"\\s+"));if(r=c(n,o))return r;if(i=d.exec(u)){var b=i[1];if(e=l(i[2]),n=new RegExp("on"+b+"=[\\'\"]\\s*"+e+"\\s*[\\'\"]","i"),r=c(n,o[0]))return r;if(n=new RegExp(e),r=c(n,o))return r}return null}}function d(t){if(!t.stack)return null;for(var e,n,i,r,s=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,h=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=t.stack.split("\n"),p=[],m=/^(.*) is undefined$/.exec(t.message),g=0,b=f.length;g<b;++g){if(i=s.exec(f[g])){var y=i[2]&&0===i[2].indexOf("native");e=i[2]&&0===i[2].indexOf("eval"),e&&(n=d.exec(i[2]))&&(i[2]=n[1]),r={url:y?null:i[2],func:i[1]||ft,args:y?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=c.exec(f[g]))r={url:i[2],func:i[1]||ft,args:[],line:+i[3],column:i[4]?+i[4]:null};else{if(!(i=l.exec(f[g])))continue;e=i[3]&&i[3].indexOf(" > eval")>-1,e&&(n=h.exec(i[3]))?i[3]=n[1]:0!==g||i[5]||v(t.columnNumber)||(p[0].column=t.columnNumber+1),r={url:i[3],func:i[1]||ft,args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null}}if(!r.func&&r.line&&(r.func=o(r.url,r.line)),ht.remoteFetching&&r.url&&"blob:"===r.url.substr(0,5)){var _=new XMLHttpRequest;if(_.open("GET",r.url,!1),_.send(""),200===_.status){var w=_.responseText||"";w=w.slice(-300);var x=w.match(/\/\/# sourceMappingURL=(.*)$/);if(x){var E=x[1];"~"===E.charAt(0)&&(E=bt()+E.slice(1)),r.url=E.slice(0,-4)}}}r.context=r.line?a(r.url,r.line):null,p.push(r)}return p.length?(p[0]&&p[0].line&&!p[0].column&&m&&(p[0].column=u(m[1],p[0].url,p[0].line)),{mode:"stack",name:t.name,message:t.message,stack:p}):null}function f(t){var e=t.stacktrace;if(e){for(var n,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,s=e.split("\n"),l=[],c=0;c<s.length;c+=2){var u=null;if((n=i.exec(s[c]))?u={url:n[2],line:+n[1],column:null,func:n[3],args:[]}:(n=r.exec(s[c]))&&(u={url:n[6],line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[]}),u){if(!u.func&&u.line&&(u.func=o(u.url,u.line)),u.line)try{u.context=a(u.url,u.line)}catch(h){}u.context||(u.context=[s[c+1]]),l.push(u)}}return l.length?{mode:"stacktrace",name:t.name,message:t.message,stack:l}:null}}function p(t){var e=t.message.split("\n");if(e.length<4)return null;var n,i=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of function script\s*$/i,h=[],d=ut&&ut.document&&ut.document.getElementsByTagName("script"),f=[];for(var p in d)mt(d,p)&&!d[p].src&&f.push(d[p]);for(var m=2;m<e.length;m+=2){var g=null;if(n=i.exec(e[m]))g={url:n[2],func:n[3],args:[],line:+n[1],column:null};else if(n=s.exec(e[m])){g={url:n[3],func:n[4],args:[],line:+n[1],column:null};var b=+n[1],v=f[n[2]-1];if(v){var y=r(g.url);if(y){y=y.join("\n");var _=y.indexOf(v.innerText);_>=0&&(g.line=b+y.substring(0,_).split("\n").length)}}}else if(n=u.exec(e[m])){var w=gt().replace(/#.*$/,""),x=new RegExp(l(e[m+1])),E=c(x,[w]);g={url:w,func:"",args:[],line:E?E.line:n[1],column:null}}if(g){g.func||(g.func=o(g.url,g.line));var C=a(g.url,g.line),k=C?C[Math.floor(C.length/2)]:null;C&&k.replace(/^\s*/,"")===e[m+1].replace(/^\s*/,"")?g.context=C:g.context=[e[m+1]],h.push(g)}}return h.length?{mode:"multiline",name:t.name,message:e[0],stack:h}:null}function m(t,e,n,i){var r={url:e,line:n};if(r.url&&r.line){t.incomplete=!1,r.func||(r.func=o(r.url,r.line)),r.context||(r.context=a(r.url,r.line));var s=/ '([^']+)' /.exec(i);if(s&&(r.column=u(s[1],r.url,r.line)),t.stack.length>0&&t.stack[0].url===r.url){if(t.stack[0].line===r.line)return!1;if(!t.stack[0].line&&t.stack[0].func===r.func)return t.stack[0].line=r.line,t.stack[0].context=r.context,!1}return t.stack.unshift(r),t.partial=!0,!0}return t.incomplete=!0,!1}function g(t,n){for(var i,r,a,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],c={},d=!1,f=g.caller;f&&!d;f=f.caller)if(f!==b&&f!==ht.report){if(r={url:null,func:ft,args:[],line:null,column:null},f.name?r.func=f.name:(i=s.exec(f.toString()))&&(r.func=i[1]),"undefined"===typeof r.func)try{r.func=i.input.substring(0,i.input.indexOf("{"))}catch(e){}if(a=h(f)){r.url=a.url,r.line=a.line,r.func===ft&&(r.func=o(r.url,r.line));var p=/ '([^']+)' /.exec(t.message||t.description);p&&(r.column=u(p[1],a.url,a.line))}c[""+f]?d=!0:c[""+f]=!0,l.push(r)}n&&l.splice(0,n);var v={mode:"callers",name:t.name,message:t.message,stack:l};return m(v,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),v}function b(n,i){var r=null;i=null==i?0:+i;try{if(r=f(n),r)return r}catch(e){if(t)throw e}try{if(r=d(n),r)return r}catch(e){if(t)throw e}try{if(r=p(n),r)return r}catch(e){if(t)throw e}try{if(r=g(n,i+1),r)return r}catch(e){if(t)throw e}return{original:n,name:n.name,message:n.message,mode:"failed"}}function y(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return b(e,t+1)}}return b.augmentStackTraceWithInitialElement=m,b.computeStackTraceFromStackProp=d,b.guessFunctionName=o,b.gatherContext=a,b.ofCaller=y,b.getSource=r,b}(),ht.extendToAsynchronousCallbacks=function(){var t=function(t){var e=ut[t];ut[t]=function(){var t=dt.call(arguments),n=t[0];return"function"===typeof n&&(t[0]=ht.wrap(n)),e.apply?e.apply(this,t):e(t[0],t[1])}};t("setTimeout"),t("setInterval")},ht.remoteFetching=!1,ht.collectWindowErrors=!0,ht.linesOfContext=11;var vt=ht.report.subscribe,yt=ht.report.installGlobalHandler,_t=ht.report.installGlobalUnhandledRejectionHandler,wt=ht.computeStackTrace,xt=50;function Et(t){var e=Mt(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Ct(t,e){var n=Object.keys(t).sort(),i={extra:{__serialized__:$(t)},fingerprint:[ct(n.join(""))],message:"Non-Error exception captured with keys: "+V(n)};if(e){var r=wt(e),o=Mt(r.stack);i.stacktrace={frames:o}}return i}function kt(t){var e=Et(t);return{exception:{values:[e]}}}function Mt(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",i=e[e.length-1].func||"";return(N(n,"captureMessage")||N(n,"captureException"))&&(e=e.slice(1)),N(i,"sentryWrapped")&&(e=e.slice(0,-1)),e.map((function(t){return{colno:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:t.line}})).slice(0,xt).reverse()}function Ot(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}var Tt=function(){function t(t){this.options=t,this.buffer=new a.PromiseBuffer(30),this.url=new a.API(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){throw new a.SentryError("Transport Class has to implement `sendEvent` method")}))}))},t.prototype.close=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,this.buffer.drain(t)]}))}))},t}(),St=E(),Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.sendEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){return e={body:t,method:"POST",referrerPolicy:j()?"origin":""},[2,this.buffer.add(St.fetch(this.url,e).then((function(t){return{status:d.fromHttpCode(t.status)}})))]}))}))},e}(Tt),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.sendEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return[2,this.buffer.add(new Promise((function(n,i){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&(200===r.status&&n({status:d.fromHttpCode(r.status)}),i(r))},r.open("POST",e.url),r.send(t)})))]}))}))},e}(Tt),Lt=Object.freeze({BaseTransport:Tt,FetchTransport:Rt,XHRTransport:jt}),At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.install=function(){var t=this.options.dsn;if(!t)throw new a.SentryError("Invariant exception: install() must not be called when disabled");return Error.stackTraceLimit=50,!0},e.prototype.setupTransport=function(){if(!this.options.dsn)return t.prototype.setupTransport.call(this);var e=this.options.transportOptions?this.options.transportOptions:{dsn:this.options.dsn};return this.options.transport?new this.options.transport(e):T()?new Rt(e):new jt(e)},e.prototype.eventFromException=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,a;return o.__generator(this,(function(s){switch(s.label){case 0:return m(t)&&t.error?(a=t,t=a.error,n=kt(wt(t)),[3,7]):[3,1];case 1:return g(t)||b(t)?(a=t,i=a.name||(g(a)?"DOMError":"DOMException"),r=a.message?i+": "+a.message:i,[4,this.eventFromMessage(r,h.Error,e)]):[3,3];case 2:return n=s.sent(),Ot(n,r),[3,7];case 3:return p(t)?(n=kt(wt(t)),[3,7]):[3,4];case 4:return w(t)&&e&&e.syntheticException?(a=t,n=Ct(a,e.syntheticException),Ot(n,"Custom Object"),[3,7]):[3,5];case 5:return a=t,[4,this.eventFromMessage(a,void 0,e)];case 6:n=s.sent(),Ot(n,""+a),s.label=7;case 7:return n=o.__assign({},n,{event_id:e&&e.event_id,exception:o.__assign({},n.exception,{mechanism:{handled:!0,type:"generic"}})}),[2,n]}}))}))},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=h.Info),o.__awaiter(this,void 0,void 0,(function(){var i,r,a;return o.__generator(this,(function(o){return i={event_id:n&&n.event_id,level:e,message:t},this.options.attachStacktrace&&n&&n.syntheticException&&(r=wt(n.syntheticException),a=Mt(r.stack),i.stacktrace={frames:a}),[2,i]}))}))},e}(a.BaseBackend),Dt=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=x.getGlobalObject(),i=function(){function t(){this.enabled=!1}return t.prototype.disable=function(){this.enabled=!1},t.prototype.enable=function(){this.enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&x.consoleSandbox((function(){n.console.log("Sentry Logger [Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&x.consoleSandbox((function(){n.console.warn("Sentry Logger [Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&x.consoleSandbox((function(){n.console.error("Sentry Logger [Error]: "+t.join(" "))}))},t}(),r=new i;e.logger=r}));l(Dt);var zt,Pt,Nt=Dt.logger,Ft="sentry.javascript.browser",It="4.6.6",Ht=function(t){function e(e){return t.call(this,At,e)||this}return o.__extends(e,t),e.prototype.prepareEvent=function(e,n,i){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(r){return e.platform=e.platform||"javascript",e.sdk=o.__assign({},e.sdk,{name:Ft,packages:o.__spread(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:It}]),version:It}),[2,t.prototype.prepareEvent.call(this,e,n,i)]}))}))},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=E().document;if(e)if(this.isEnabled()){var n=t.dsn||this.getDsn();if(t.eventId)if(n){var i=e.createElement("script");i.async=!0,i.src=new a.API(n).getReportDialogEndpoint(t),(e.head||e.body).appendChild(i)}else Nt.error("Missing `Dsn` option in showReportDialog call");else Nt.error("Missing `eventId` option in showReportDialog call")}else Nt.error("Trying to call showReportDialog with Sentry Client is disabled")},e}(a.BaseClient),Bt=1e3,$t=0;function Vt(){return $t>0}function Wt(){$t+=1,setTimeout((function(){$t-=1}))}function Ut(t,n,i){if(void 0===n&&(n={}),!y(t))return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var e=this;i&&y(i)&&i.apply(this,arguments);var r=Array.prototype.slice.call(arguments);try{var s=r.map((function(t){return Ut(t,n)}));return t.handleEvent?t.handleEvent.apply(this,s):t.apply(this,s)}catch(l){throw Wt(),a.withScope((function(t){return o.__awaiter(e,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(i){return t.addEventProcessor((function(t){return o.__awaiter(e,void 0,void 0,(function(){var e;return o.__generator(this,(function(i){return e=o.__assign({},t),n.mechanism&&(e.exception=e.exception||{},e.exception.mechanism=n.mechanism),e.extra=o.__assign({},e.extra,{arguments:W(r,3)}),[2,e]}))}))})),a.captureException(l),[2]}))}))})),l}};try{for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch(l){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(l){}return r}function Gt(t){return function(n){if(zt=void 0,Pt!==n){var i;Pt=n;try{i=C(n.target)}catch(e){i="<unknown>"}a.getCurrentHub().addBreadcrumb({category:"ui."+t,message:i},{event:n,name:t})}}}function qt(){return function(t){var n;try{n=t.target}catch(e){return}var i=n&&n.tagName;i&&("INPUT"===i||"TEXTAREA"===i||n.isContentEditable)&&(zt||Gt("input")(t),clearTimeout(zt),zt=setTimeout((function(){zt=void 0}),Bt))}}var Yt=function(){function t(e){this.name=t.id,this.options=o.__assign({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){vt((function(e,n,i){if(!Vt()){var r=a.getCurrentHub().getIntegration(t);r&&a.getCurrentHub().captureEvent(r.eventFromGlobalHandler(e),{originalException:i,data:{stack:e}})}})),this.options.onerror&&(Nt.log("Global Handler attached: onerror"),yt()),this.options.onunhandledrejection&&(Nt.log("Global Handler attached: onunhandledrejection"),_t())},t.prototype.eventFromGlobalHandler=function(t){var e=kt(t),n={mode:t.mode};t.message&&(n.message=t.message),t.name&&(n.name=t.name);var i=o.__assign({},e,{exception:o.__assign({},e.exception,{mechanism:{data:n,handled:!1,type:t.mechanism}})}),r="undefined"!==typeof t.original?""+z(I(W(t.original)),300):"",a="onunhandledrejection"===t.mechanism?"UnhandledRejection":"Error";return Ot(i,r,a),i},t.id="GlobalHandlers",t}(),Xt=function(){function t(){this.ignoreOnError=0,this.name=t.id}return t.prototype.wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0];return e[0]=Ut(i,{mechanism:{data:{function:Kt(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype.wrapRAF=function(t){return function(e){return t(Ut(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Kt(t)},handled:!0,type:"instrument"}}))}},t.prototype.wrapEventTarget=function(t){var n=E(),i=n[t]&&n[t].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(B(i,"addEventListener",(function(n){return function(i,r,o){try{r.handleEvent=Ut(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Kt(r),target:t},handled:!0,type:"instrument"}})}catch(c){}var a,s,l;return"EventTarget"!==t&&"Node"!==t||(s=Gt("click"),l=qt(),a=function(t){if(t){var n;try{n=t.type}catch(e){return}return"click"===n?s(t):"keypress"===n?l(t):void 0}}),n.call(this,i,Ut(r,{mechanism:{data:{function:"addEventListener",handler:Kt(r),target:t},handled:!0,type:"instrument"}},a),o)}})),B(i,"removeEventListener",(function(t){return function(n,i,r){var o=i;try{o=o&&(o.__sentry_wrapped__||o)}catch(e){}return t.call(this,n,o,r)}})))},t.prototype.setupOnce=function(){this.ignoreOnError=this.ignoreOnError;var t=E();B(t,"setTimeout",this.wrapTimeFunction.bind(this)),B(t,"setInterval",this.wrapTimeFunction.bind(this)),B(t,"requestAnimationFrame",this.wrapRAF.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this.wrapEventTarget.bind(this))},t.id="TryCatch",t}();function Kt(t){try{return t&&t.name||"<anonymous>"}catch(e){return"<anonymous>"}}var Jt,Zt=E(),Qt=function(){function t(e){this.name=t.id,this.options=o.__assign({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.instrumentConsole=function(){"console"in Zt&&["debug","info","warn","error","log"].forEach((function(e){e in Zt.console&&B(Zt.console,e,(function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o={category:"console",data:{extra:{arguments:W(i,3)},logger:"console"},level:h.fromString(e),message:P(i," ")};"assert"===e&&!1===i[0]&&(o.message="Assertion failed: "+(P(i.slice(1)," ")||"console.assert"),o.data.extra.arguments=W(i.slice(1),3)),t.addBreadcrumb(o,{input:i,level:e}),n&&Function.prototype.apply.call(n,Zt.console,i)}}))}))},t.prototype.instrumentDOM=function(){"document"in Zt&&(Zt.document.addEventListener("click",Gt("click"),!1),Zt.document.addEventListener("keypress",qt(),!1))},t.prototype.instrumentFetch=function(){S()&&B(Zt,"fetch",(function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,o=n[0],s="GET";"string"===typeof o?r=o:"Request"in Zt&&o instanceof Request?(r=o.url,o.method&&(s=o.method)):r=String(o),n[1]&&n[1].method&&(s=n[1].method);var l=a.getCurrentHub().getClient(),c=l&&l.getDsn();if(c){var u=new a.API(c).getStoreEndpoint();if(u&&N(r,u))return"POST"===s&&n[1]&&n[1].body&&te(n[1].body),e.apply(Zt,n)}var d={method:s,url:r};return e.apply(Zt,n).then((function(e){return d.status_code=e.status,t.addBreadcrumb({category:"fetch",data:d,type:"http"},{input:n,response:e}),e})).catch((function(e){throw t.addBreadcrumb({category:"fetch",data:d,level:h.Error,type:"http"},{error:e,input:n}),e}))}}))},t.prototype.instrumentHistory=function(){var e=this;if(L()){var n=function(e,n){var i=k(Zt.location.href),r=k(n),o=k(e);o.path||(o=i),Jt=n,i.protocol===r.protocol&&i.host===r.host&&(n=r.relative),i.protocol===o.protocol&&i.host===o.host&&(e=o.relative),t.addBreadcrumb({category:"navigation",data:{from:e,to:n}})},i=Zt.onpopstate;Zt.onpopstate=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=Zt.location.href;if(n(Jt,o),i)return i.apply(e,t)},B(Zt.history,"pushState",r),B(Zt.history,"replaceState",r)}function r(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=e.length>2?e[2]:void 0;return r&&n(Jt,String(r)),t.apply(this,e)}}},t.prototype.instrumentXHR=function(){if("XMLHttpRequest"in Zt){var n=XMLHttpRequest.prototype;B(n,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[1];this.__sentry_xhr__={method:e[0],url:e[1]};var r=a.getCurrentHub().getClient(),o=r&&r.getDsn();if(o){var s=new a.API(o).getStoreEndpoint();_(i)&&s&&N(i,s)&&(this.__sentry_own_request__=!0)}return t.apply(this,e)}})),B(n,"send",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=this;function s(){if(4===a.readyState){if(a.__sentry_own_request__)return;try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(e){}t.addBreadcrumb({category:"xhr",data:a.__sentry_xhr__,type:"http"},{xhr:a})}}return a.__sentry_own_request__&&te(r[0]),["onload","onerror","onprogress"].forEach((function(t){i(t,a)})),"onreadystatechange"in a&&y(a.onreadystatechange)?B(a,"onreadystatechange",(function(t){return Ut(t,{mechanism:{data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}},s)})):a.onreadystatechange=s,n.apply(this,r)}}))}function i(t,e){t in e&&y(e[t])&&B(e,t,(function(e){return Ut(e,{mechanism:{data:{function:t,handler:e&&e.name||"<anonymous>"},handled:!0,type:"instrument"}})}))}},t.addBreadcrumb=function(e,n){a.getCurrentHub().getIntegration(t)&&a.getCurrentHub().addBreadcrumb(e,n)},t.prototype.setupOnce=function(){this.options.console&&this.instrumentConsole(),this.options.dom&&this.instrumentDOM(),this.options.xhr&&this.instrumentXHR(),this.options.fetch&&this.instrumentFetch(),this.options.history&&this.instrumentHistory()},t.id="Breadcrumbs",t}();function te(t){try{var e=H(t);Qt.addBreadcrumb({category:"sentry",event_id:e.event_id,level:e.level||h.fromString("error"),message:M(e)},{event:e})}catch(n){Nt.error("Error while adding sentry type breadcrumb")}}var ee,ne="cause",ie=5,re=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this.key=e.key||ne,this.limit=e.limit||ie}return t.prototype.setupOnce=function(){var e=this;a.addGlobalEventProcessor((function(n,i){return o.__awaiter(e,void 0,void 0,(function(){var e;return o.__generator(this,(function(r){return e=a.getCurrentHub().getIntegration(t),e?[2,e.handler(n,i)]:[2,n]}))}))}))},t.prototype.handler=function(t,e){if(!t.exception||!t.exception.values||!e||!(e.originalException instanceof Error))return t;var n=this.walkErrorTree(e.originalException,this.key);return t.exception.values=o.__spread(n,t.exception.values),t},t.prototype.walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!(t[e]instanceof Error)||n.length+1>=this.limit)return n;var i=wt(t[e]),r=Et(i);return this.walkErrorTree(t[e],e,o.__spread([r],n))},t.id="LinkedErrors",t}(),oe=E(),ae=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){var e=this;a.addGlobalEventProcessor((function(n){return o.__awaiter(e,void 0,void 0,(function(){var e;return o.__generator(this,(function(i){return a.getCurrentHub().getIntegration(t)&&oe.navigator&&oe.location?(e=n.request||{},e.url=e.url||oe.location.href,e.headers=e.headers||{},e.headers["User-Agent"]=oe.navigator.userAgent,[2,o.__assign({},n,{request:e})]):[2,n]}))}))}))},t.id="UserAgent",t}(),se=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this.Ember=e.Ember||E().Ember}return t.prototype.setupOnce=function(){var e=this;if(this.Ember){var n=this.Ember.onerror;this.Ember.onerror=function(i){if(a.getCurrentHub().getIntegration(t)&&a.withScope((function(t){e.addIntegrationToSdkInfo(t),a.captureException(i)})),"function"===typeof n)n.call(e.Ember,i);else if(e.Ember.testing)throw i},this.Ember.RSVP.on("error",(function(n){a.getCurrentHub().getIntegration(t)&&a.withScope((function(t){n instanceof Error?(t.setExtra("context","Unhandled Promise error detected"),e.addIntegrationToSdkInfo(t),a.captureException(n)):(t.setExtra("reason",n),e.addIntegrationToSdkInfo(t),a.captureMessage("Unhandled Promise error detected"))}))}))}else Nt.error("EmberIntegration is missing an Ember instance")},t.prototype.addIntegrationToSdkInfo=function(t){var e=this;t.addEventProcessor((function(t){return o.__awaiter(e,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){return t.sdk&&(e=t.sdk.integrations||[],t.sdk=o.__assign({},t.sdk,{integrations:o.__spread(e,["ember"])})),[2,t]}))}))}))},t.id="Ember",t}(),le=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this.Vue=e.Vue||E().Vue,this.attachProps=e.attachProps||!0}return t.prototype.formatComponentName=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options.__file?" at "+t.$options.__file:"")},t.prototype.setupOnce=function(){var e=this;if(this.Vue&&this.Vue.config){var n=this.Vue.config.errorHandler;this.Vue.config.errorHandler=function(i,r,s){var l={};w(r)&&(l.componentName=e.formatComponentName(r),e.attachProps&&(l.propsData=r.$options.propsData)),v(s)||(l.lifecycleHook=s),a.getCurrentHub().getIntegration(t)&&a.withScope((function(t){Object.keys(l).forEach((function(e){t.setExtra(e,l[e])})),t.addEventProcessor((function(t){return o.__awaiter(e,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){return t.sdk&&(e=t.sdk.integrations||[],t.sdk=o.__assign({},t.sdk,{integrations:o.__spread(e,["vue"])})),[2,t]}))}))})),a.captureException(i)})),"function"===typeof n&&n.call(e.Vue,i,r,s)}}else Nt.error("VueIntegration is missing a Vue instance")},t.id="Vue",t}();(function(t){t["Crash"]="crash",t["Deprecation"]="deprecation",t["Intervention"]="intervention"})(ee||(ee={}));var ce=function(){function t(e){void 0===e&&(e={types:[ee.Crash,ee.Deprecation,ee.Intervention]}),this.options=e,this.name=t.id}return t.prototype.setupOnce=function(){if(R()){var t=new(E().ReportingObserver)(this.handler.bind(this),{buffered:!0,types:this.options.types});t.observe()}},t.prototype.handler=function(e){var n,i;if(a.getCurrentHub().getIntegration(t)){var r=function(t){a.withScope((function(e){e.setExtra("url",t.url);var n="ReportingObserver ["+t.type+"]",i="No details available";if(t.body){var r={};for(var o in t.body)r[o]=t.body[o];if(e.setExtra("body",r),t.type===ee.Crash){var s=t.body;i=[s.crashId||"",s.reason||""].join(" ").trim()||i}else{s=t.body;i=s.message||i}}a.captureMessage(n+": "+i)}))};try{for(var s=o.__values(e),l=s.next();!l.done;l=s.next()){var c=l.value;r(c)}}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}},t.id="ReportingObserver",t}(),ue=Object.freeze({GlobalHandlers:Yt,TryCatch:Xt,Breadcrumbs:Qt,LinkedErrors:re,UserAgent:ae,Ember:se,Vue:le,ReportingObserver:ce}),he=[new a.Integrations.Dedupe,new a.Integrations.InboundFilters,new a.Integrations.FunctionToString,new a.Integrations.ExtraErrorData,new Xt,new Qt,new Yt,new re,new ae];function de(t){void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=he),a.initAndBind(Ht,t)}function fe(t){void 0===t&&(t={}),t.eventId||(t.eventId=a.getCurrentHub().lastEventId()),a.getCurrentHub().getClient().showReportDialog(t)}function pe(){return a.getCurrentHub().lastEventId()}function me(){}function ge(t){t()}function be(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,a.getCurrentHub().getClient().flush(t)]}))}))}function ve(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,a.getCurrentHub().getClient().close(t)]}))}))}var ye=o.__assign({},a.Integrations,ue);n.addGlobalEventProcessor=a.addGlobalEventProcessor,n.addBreadcrumb=a.addBreadcrumb,n.captureException=a.captureException,n.captureEvent=a.captureEvent,n.captureMessage=a.captureMessage,n.configureScope=a.configureScope,n.withScope=a.withScope,n.getHubFromCarrier=a.getHubFromCarrier,n.getCurrentHub=a.getCurrentHub,n.Hub=a.Hub,n.Scope=a.Scope,n.Integrations=ye,n.Transports=Lt,n.Severity=h,n.Status=d,n.BrowserBackend=At,n.BrowserClient=Ht,n.defaultIntegrations=he,n.forceLoad=me,n.init=de,n.lastEventId=pe,n.onLoad=ge,n.showReportDialog=fe,n.flush=be,n.close=ve,n.SDK_NAME=Ft,n.SDK_VERSION=It}).call(this,i("c8ba"),i("f28c"))},"69d3":function(t,e,n){n("6718")("asyncIterator")},"6a3a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("f40d");e.addBreadcrumb=i.addBreadcrumb,e.captureException=i.captureException,e.captureEvent=i.captureEvent,e.captureMessage=i.captureMessage,e.configureScope=i.configureScope,e.withScope=i.withScope;var r=n("e5d5");e.addGlobalEventProcessor=r.addGlobalEventProcessor,e.getCurrentHub=r.getCurrentHub,e.Hub=r.Hub,e.getHubFromCarrier=r.getHubFromCarrier,e.Scope=r.Scope;var o=n("fc13");e.API=o.API;var a=n("6da1");e.BaseClient=a.BaseClient;var s=n("2011");e.BaseBackend=s.BaseBackend;var l=n("a64c");e.Dsn=l.Dsn;var c=n("f60e");e.SentryError=c.SentryError;var u=n("804d");e.PromiseBuffer=u.PromiseBuffer;var h=n("1128");e.LogLevel=h.LogLevel;var d=n("93e0");e.initAndBind=d.initAndBind;var f=n("199c");e.NoopTransport=f.NoopTransport;var p=n("56bd");e.Integrations=p},"6a99":function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"6abf":function(t,e,n){var i=n("e6f3"),r=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},"6af2":function(t,e,n){var i=n("67bb"),r=n("5d58");function o(e){return"function"===typeof i&&"symbol"===typeof r?(t.exports=o=function(t){return typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=o=function(t){return t&&"function"===typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0),o(e)}t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6b54":function(t,e,n){"use strict";n("3846");var i=n("cb7c"),r=n("0bfb"),o=n("9e1e"),a="toString",s=/./[a],l=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):s.name!=a&&l((function(){return s.call(this)}))},"6b59":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return m})),n.d(e,"n",(function(){return g})),n.d(e,"o",(function(){return b})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return y})),n.d(e,"r",(function(){return _})),n.d(e,"s",(function(){return w})),n.d(e,"t",(function(){return x})),n.d(e,"u",(function(){return E})),n.d(e,"v",(function(){return C})),n.d(e,"y",(function(){return k})),n.d(e,"z",(function(){return M})),n.d(e,"A",(function(){return O})),n.d(e,"B",(function(){return T})),n.d(e,"C",(function(){return S})),n.d(e,"x",(function(){return R})),n.d(e,"w",(function(){return j}));const i="activate-tab",r="change",o="changed",a="click",s="disable",l="disabled",c="enable",u="enabled",h="first",d="focusin",f="focusout",p="hidden",m="hide",g="input",b="last",v="mouseenter",y="mouseleave",_="next",w="prev",x="show",E="shown",C="toggle",k="hook:beforeDestroy",M="hook:destroyed",O="update:",T="bv",S="::",R={passive:!0},j={passive:!0,capture:!1}},"6bb5":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("4d16"),r=n("061b");function o(t){return o=i?r:function(t){return t.__proto__||r(t)},o(t)}},"6c1c":function(t,e,n){n("c367");for(var i=n("e53d"),r=n("35e8"),o=n("481b"),a=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=i[c],h=u&&u.prototype;h&&!h[a]&&r(h,a,c),o[c]=o.Array}},"6da1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("7dde"),o=n("c047"),a=n("94df"),s=n("4cbb"),l=n("c9cf"),c=n("5153"),u=n("a64c"),h=n("d36e"),d=n("804d"),f=30,p=100,m=250,g=function(){function t(t,e){this.buffer=new d.PromiseBuffer,this.backend=new t(e),this.options=e,e.dsn&&(this.dsn=new u.Dsn(e.dsn)),this.integrations=h.setupIntegrations(this.options)}return t.prototype.install=function(){if(!this.isEnabled())return this.installed=!1;var t=this.getBackend();return!this.installed&&t.install&&t.install(),this.installed=!0},t.prototype.captureException=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r=this;return i.__generator(this,(function(o){return[2,this.buffer.add(function(){return i.__awaiter(r,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,this.getBackend().eventFromException(t,e)];case 1:return r=i.sent(),[2,this.captureEvent(r,e,n)]}}))}))}())]}))}))},t.prototype.captureMessage=function(t,e,n,r){return i.__awaiter(this,void 0,void 0,(function(){var o=this;return i.__generator(this,(function(s){return[2,this.buffer.add(function(){return i.__awaiter(o,void 0,void 0,(function(){var o,s;return i.__generator(this,(function(i){switch(i.label){case 0:return a.isPrimitive(t)?[4,this.getBackend().eventFromMessage(""+t,e,n)]:[3,2];case 1:return s=i.sent(),[3,4];case 2:return[4,this.getBackend().eventFromException(t,n)];case 3:s=i.sent(),i.label=4;case 4:return o=s,[2,this.captureEvent(o,n,r)]}}))}))}())]}))}))},t.prototype.captureEvent=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r=this;return i.__generator(this,(function(o){return[2,this.buffer.add(function(){return i.__awaiter(r,void 0,void 0,(function(){var r=this;return i.__generator(this,(function(o){return[2,this.processEvent(t,(function(t){return i.__awaiter(r,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.getBackend().sendEvent(t)]}))}))}),e,n)]}))}))}())]}))}))},t.prototype.addBreadcrumb=function(t,e,n){var r=this.getOptions(),o=r.beforeBreadcrumb,a=r.maxBreadcrumbs,s=void 0===a?f:a;if(!(s<=0)){var c=(new Date).getTime()/1e3,u=i.__assign({timestamp:c},t),h=o?l.consoleSandbox((function(){return o(u,e)})):u;null!==h&&this.getBackend().storeBreadcrumb(h)&&n&&n.addBreadcrumb(h,Math.min(s,p))}},t.prototype.getDsn=function(){return this.dsn},t.prototype.getOptions=function(){return this.options},t.prototype.getBackend=function(){return this.backend},t.prototype.isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this.dsn},t.prototype.prepareEvent=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,a,s,u,h,d,g,b;return i.__generator(this,(function(v){return r=this.getOptions(),o=r.environment,a=r.maxBreadcrumbs,s=void 0===a?f:a,u=r.release,h=r.dist,d=i.__assign({},t),void 0===d.environment&&void 0!==o&&(d.environment=o),void 0===d.release&&void 0!==u&&(d.release=u),void 0===d.dist&&void 0!==h&&(d.dist=h),d.message&&(d.message=c.truncate(d.message,m)),g=d.exception&&d.exception.values&&d.exception.values[0],g&&g.value&&(g.value=c.truncate(g.value,m)),b=d.request,b&&b.url&&(b.url=c.truncate(b.url,m)),void 0===d.event_id&&(d.event_id=l.uuid4()),this._addIntegrations(d.sdk),e?[2,e.applyToEvent(d,n,Math.min(s,p))]:[2,d]}))}))},t.prototype._addIntegrations=function(t){var e=Object.keys(this.integrations);t&&e.length>0&&(t.integrations=e)},t.prototype.processEvent=function(t,e,n,a){return i.__awaiter(this,void 0,void 0,(function(){var l,c,u,h,d,f,p,m,g;return i.__generator(this,(function(i){switch(i.label){case 0:return this.isEnabled()?(l=this.getOptions(),c=l.beforeSend,u=l.sampleRate,"number"===typeof u&&Math.random()>u?[2,{status:r.Status.Skipped}]:[4,this.prepareEvent(t,a,n)]):[2,{status:r.Status.Skipped}];case 1:if(h=i.sent(),null===h)return[2,{status:r.Status.Skipped}];d=h,i.label=2;case 2:return i.trys.push([2,5,,6]),f=n&&n.data&&!0===n.data.__sentry__,f||!c?[3,4]:[4,c(h,n)];case 3:d=i.sent(),"undefined"===typeof d&&s.logger.error("`beforeSend` method has to return `null` or a valid event"),i.label=4;case 4:return[3,6];case 5:return p=i.sent(),o.forget(this.captureException(p,{data:{__sentry__:!0},originalException:p})),[2,{reason:"Event processing in beforeSend method threw an exception",status:r.Status.Invalid}];case 6:if(null===d)return[2,{reason:"Event dropped due to being discarded by beforeSend method",status:r.Status.Skipped}];i.label=7;case 7:return i.trys.push([7,9,,10]),[4,e(d)];case 8:return m=i.sent(),m.event=d,m.status,r.Status.RateLimit,[2,m];case 9:return g=i.sent(),s.logger.error(""+g),[2,{reason:""+g,status:r.Status.Failed}];case 10:return[2]}}))}))},t.prototype.flush=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.getBackend().getTransport().close(t),this.buffer.drain(t)])];case 1:return[2,e.sent().reduce((function(t,e){return t&&e}))]}}))}))},t.prototype.close=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.flush(t)]}))}))},t.prototype.getIntegrations=function(){return this.integrations||{}},t.prototype.getIntegration=function(t){try{return this.integrations[t.id]||null}catch(e){return s.logger.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t}();e.BaseClient=g},"6dd8":function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,r=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),a=2;function s(t,e){var n=!1,i=!1,r=0;function s(){n&&(n=!1,t()),i&&c()}function l(){o(s)}function c(){var t=Date.now();if(n){if(t-r<a)return;i=!0}else n=!0,i=!1,setTimeout(l,e);r=t}return c}var l=20,c=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),l)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,i=c.some((function(t){return!!~n.indexOf(t)}));i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),d=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||r},p=C(0,0,0,0);function m(t){return parseFloat(t)||0}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){var i=t["border-"+n+"-width"];return e+m(i)}),0)}function b(t){for(var e=["top","right","bottom","left"],n={},i=0,r=e;i<r.length;i++){var o=r[i],a=t["padding-"+o];n[o]=m(a)}return n}function v(t){var e=t.getBBox();return C(0,0,e.width,e.height)}function y(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var i=f(t).getComputedStyle(t),r=b(i),o=r.left+r.right,a=r.top+r.bottom,s=m(i.width),l=m(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==e&&(s-=g(i,"left","right")+o),Math.round(l+a)!==n&&(l-=g(i,"top","bottom")+a)),!w(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return C(r.left,r.top,s,l)}var _=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"===typeof t.getBBox}}();function w(t){return t===f(t).document.documentElement}function x(t){return i?_(t)?v(t):y(t):p}function E(t){var e=t.x,n=t.y,i=t.width,r=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return d(a,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),a}function C(t,e,n,i){return{x:t,y:e,width:n,height:i}}var k=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=x(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),M=function(){function t(t,e){var n=E(e);d(this,{target:t,contentRect:n})}return t}(),O=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new k(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new M(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),T="undefined"!==typeof WeakMap?new WeakMap:new n,S=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h.getInstance(),i=new O(e,n,this);T.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach((function(t){S.prototype[t]=function(){var e;return(e=T.get(this))[t].apply(e,arguments)}}));var R=function(){return"undefined"!==typeof r.ResizeObserver?r.ResizeObserver:S}();e["a"]=R}).call(this,n("c8ba"))},"6e29":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("2b0e"),r=n("5bbd"),o=n("b082"),a=n("0a38");const s=t=>!t||0===Object(a["g"])(t).length,l=t=>({handler(e,n){if(!Object(o["a"])(e,n))if(s(e)||s(n))this[t]=Object(r["a"])(e);else{for(const i in n)Object(a["f"])(e,i)||this.$delete(this.$data[t],i);for(const n in e)this.$set(this.$data[t],n,e[n])}}}),c=(t,e)=>i["a"].extend({data(){return{[e]:Object(r["a"])(this[t])}},watch:{[t]:l(e)}})},"71c1":function(t,e,n){var i=n("3a38"),r=n("25eb");t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},7272:function(t,e,n){var i=n("a745"),r=n("1583");function o(t){if(i(t))return r(t)}t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},"729c":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("2b0e"),r=n("4e82"),o=n("6b59"),a=n("1f62"),s=n("8c63"),l=n("0a38"),c=n("daee"),u=n("070c"),h=n("2389"),d=n("f65f");const f="active",p=o["A"]+f,m=Object(c["c"])(Object(l["l"])({...u["b"],[f]:Object(c["b"])(a["e"],!1),buttonId:Object(c["b"])(a["l"]),disabled:Object(c["b"])(a["e"],!1),lazy:Object(c["b"])(a["e"],!1),noBody:Object(c["b"])(a["e"],!1),tag:Object(c["b"])(a["l"],"div"),title:Object(c["b"])(a["l"]),titleItemClass:Object(c["b"])(a["c"]),titleLinkAttributes:Object(c["b"])(a["j"]),titleLinkClass:Object(c["b"])(a["c"])}),r["z"]),g=i["a"].extend({name:r["z"],mixins:[u["a"],h["a"]],inject:{bvTabs:{default:()=>({})}},props:m,data(){return{localActive:this[f]&&!this.disabled}},computed:{_isTab(){return!0},tabClasses(){const{localActive:t,disabled:e}=this;return[{active:t,disabled:e,"card-body":this.bvTabs.card&&!this.noBody},t?this.bvTabs.activeTabClass:null]},controlledBy(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade(){return!this.bvTabs.fade},computedLazy(){return this.bvTabs.lazy||this.lazy}},watch:{[f](t,e){t!==e&&(t?this.activate():this.deactivate()||this.$emit(p,this.localActive))},disabled(t,e){if(t!==e){const{firstTab:e}=this.bvTabs;t&&this.localActive&&e&&(this.localActive=!1,e())}},localActive(t){this.$emit(p,t)}},mounted(){this.registerTab()},updated(){const{updateButton:t}=this.bvTabs;t&&this.hasNormalizedSlot(s["l"])&&t(this)},beforeDestroy(){this.unregisterTab()},methods:{registerTab(){const{registerTab:t}=this.bvTabs;t&&t(this)},unregisterTab(){const{unregisterTab:t}=this.bvTabs;t&&t(this)},activate(){const{activateTab:t}=this.bvTabs;return!(!t||this.disabled)&&t(this)},deactivate(){const{deactivateTab:t}=this.bvTabs;return!(!t||!this.localActive)&&t(this)}},render(t){const{localActive:e}=this,n=t(this.tag,{staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",value:e}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":e?"false":"true","aria-labelledby":this.controlledBy||null},ref:"panel"},[e||!this.computedLazy?this.normalizeSlot():t()]);return t(d["a"],{props:{mode:"out-in",noFade:this.computedNoFade}},[n])}})},"72a6":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("2b0e"),r=n("4e82"),o=n("daee"),a=n("e639");const s=Object(o["c"])(a["b"],r["q"]),l=i["a"].extend({name:r["q"],mixins:[a["a"]],provide(){return{bvRadioGroup:this}},props:s,computed:{isRadioGroup(){return!0}}})},7333:function(t,e,n){"use strict";var i=n("9e1e"),r=n("0d58"),o=n("2621"),a=n("52a7"),s=n("4bf8"),l=n("626a"),c=Object.assign;t.exports=!c||n("79e5")((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i}))?function(t,e){var n=s(t),c=arguments.length,u=1,h=o.f,d=a.f;while(c>u){var f,p=l(arguments[u++]),m=h?r(p).concat(h(p)):r(p),g=m.length,b=0;while(g>b)f=m[b++],i&&!d.call(p,f)||(n[f]=p[f])}return n}:c},7514:function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"75fc":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("7272"),r=n("a3a8"),o=n("141b"),a=n("4078");function s(t){return i(t)||r(t)||o(t)||a()}},"765d":function(t,e,n){n("6718")("observable")},"768b":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("7b56"),r=n("48d5"),o=n("141b"),a=n("3e8d");function s(t,e){return i(t)||r(t,e)||o(t,e)||a()}},"76dd":function(t,e,n){var i=n("ce86");function r(t){return null==t?"":i(t)}t.exports=r},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(t,e,n){t.exports=n("d2d5")},"77f1":function(t,e,n){var i=n("4588"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},7948:function(t,e){function n(t,e){var n=-1,i=null==t?0:t.length,r=Array(i);while(++n<i)r[n]=e(t[n],n,t);return r}t.exports=n},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")((function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,n){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var i=n("7726"),r=n("86cc"),o=n("9e1e"),a=n("2b4c")("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},"7b56":function(t,e,n){var i=n("a745");function r(t){if(i(t))return t}t.exports=r,t.exports["default"]=t.exports,t.exports.__esModule=!0},"7c84":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("94df"),r=n("2b1f"),o=n("5153");function a(t){return JSON.stringify(t,C({normalize:!1}))}function s(t){return JSON.parse(t)}function l(t){return s(a(t))}function c(t,e,n){if(e in t&&!t[e].__sentry__){var i=t[e],r=n(i);"function"===typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:i},__sentry_wrapped__:{enumerable:!1,value:r}})),t[e]=r}}function u(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}e.serialize=a,e.deserialize=s,e.clone=l,e.fill=c,e.urlEncode=u;var h=3,d=102400,f=40;function p(t){return~-encodeURI(t).split(/%..|./).length}function m(t){return p(JSON.stringify(t))}function g(t){var e=Object.prototype.toString.call(t);if("string"===typeof t)return o.truncate(t,40);if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=x(t);return i.isPrimitive(n)?""+n:e}function b(t,e){if(0===e)return g(t);if(i.isPlainObject(t)){var n={},r=t;return Object.keys(r).forEach((function(t){n[t]=b(r[t],e-1)})),n}if(i.isArray(t)){var o=t;return o.map((function(t){return b(t,e-1)}))}return g(t)}function v(t,e,n){void 0===e&&(e=h),void 0===n&&(n=d);var i=b(t,e);return m(a(i))>n?v(t,e-1):i}function y(t,e){if(void 0===e&&(e=f),!t.length)return"[object has no keys]";if(t[0].length>=e)return o.truncate(t[0],e);for(var n=t.length;n>0;n--){var i=t.slice(0,n).join(", ");if(!(i.length>e))return n===t.length?i:o.truncate(i,e)}return""}function _(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null===t||void 0===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=0;r<e.length;r++){var o=e[r];if(null!==o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])}return i}function w(t){var e={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function x(e,n){return"domain"===n&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!==typeof t&&e===t?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":"undefined"!==typeof Event&&e instanceof Event?Object.getPrototypeOf(e)?e.constructor.name:"Event":i.isSyntheticEvent(e)?"[SyntheticEvent]":i.isNaN(e)?"[NaN]":i.isUndefined(e)?"[undefined]":"function"===typeof e?"[Function: "+(e.name||"<unknown-function-name>")+"]":e}function E(t,e,n){if(void 0===e&&(e=1/0),void 0===n&&(n=new r.Memo),0===e)return g(t);var o=x(t);if(i.isPrimitive(o))return o;var a=i.isError(t)?w(t):t,s=i.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=E(a[l],e-1,n));return n.unmemoize(t),s}function C(t){return void 0===t&&(t={normalize:!0}),function(e,n){return t.normalize?x(E(n,t.depth),e):E(n,t.depth)}}function k(t,e){try{return JSON.parse(JSON.stringify(t,C({normalize:!0,depth:e})))}catch(n){return"**non-serializable**"}}e.serializeObject=b,e.limitObjectDepthToSize=v,e.serializeKeysToEventMessage=y,e.assign=_,e.decycle=E,e.safeNormalize=k}).call(this,n("c8ba"))},"7cd6":function(t,e,n){var i=n("40c3"),r=n("5168")("iterator"),o=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},"7d7b":function(t,e,n){var i=n("e4ae"),r=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},"7dde":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t["Fatal"]="fatal",t["Error"]="error",t["Warning"]="warning",t["Log"]="log",t["Info"]="info",t["Debug"]="debug",t["Critical"]="critical"}(e.Severity||(e.Severity={})),function(t){function e(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}t.fromString=e}(e.Severity||(e.Severity={})),function(t){t["Unknown"]="unknown",t["Skipped"]="skipped",t["Success"]="success",t["RateLimit"]="rate_limit",t["Invalid"]="invalid",t["Failed"]="failed"}(e.Status||(e.Status={})),function(t){function e(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}t.fromHttpCode=e}(e.Status||(e.Status={}))},"7df0":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("8db0"),r=n("29b3"),o=n("1524");const a=(t,e,n)=>{if(e=Object(o["a"])(e)?e.join("."):e,!e||!Object(o["h"])(t))return n;if(e in t)return t[e];e=String(e).replace(i["a"],".$1");const a=e.split(".").filter(r["a"]);return 0===a.length?n:a.every(e=>Object(o["h"])(t)&&e in t&&!Object(o["l"])(t=t[e]))?t:Object(o["f"])(t)?null:n},s=(t,e,n=null)=>{const i=a(t,e);return Object(o["l"])(i)?n:i}},"7e90":function(t,e,n){var i=n("d9f6"),r=n("e4ae"),o=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){r(t);var n,a=o(e),s=a.length,l=0;while(s>l)i.f(t,n=a[l++],e[n]);return t}},"7e98":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var i=n("2b0e"),r=n("1f62"),o=n("daee");const a=Object(o["c"])({plain:Object(o["b"])(r["e"],!1)},"formControls"),s=i["a"].extend({props:a,computed:{custom(){return!this.plain}}})},"7f20":function(t,e,n){var i=n("86cc").f,r=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},"7f7f":function(t,n,i){var r=i("86cc").f,o=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in o||i("9e1e")&&r(o,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},"804d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("f60e"),o=function(){function t(t){this.limit=t,this.buffer=[]}return t.prototype.isReady=function(){return void 0===this.limit||this.length()<this.limit},t.prototype.add=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){return this.isReady()?(-1===this.buffer.indexOf(t)&&this.buffer.push(t),t.then((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.remove(t)]}))}))})).catch((function(){return i.__awaiter(e,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.remove(t).catch((function(){}))]}))}))})),[2,t]):[2,Promise.reject(new r.SentryError("Not adding Promise due to buffer limit reached."))]}))}))},t.prototype.remove=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){return e=this.buffer.splice(this.buffer.indexOf(t),1)[0],[2,e]}))}))},t.prototype.length=function(){return this.buffer.length},t.prototype.drain=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){return[2,new Promise((function(n){var i=setTimeout((function(){t&&t>0&&n(!1)}),t);Promise.all(e.buffer).then((function(){clearTimeout(i),n(!0)})).catch((function(){n(!0)}))}))]}))}))},t}();e.PromiseBuffer=o},8079:function(t,n,i){var r=i("7726"),o=i("1991").set,a=r.MutationObserver||r.WebKitMutationObserver,s=r.process,l=r.Promise,c="process"==i("2d95")(s);t.exports=function(){var t,n,i,u=function(){var r,o;c&&(r=s.domain)&&r.exit();while(t){o=t.fn,t=t.next;try{o()}catch(e){throw t?i():n=void 0,e}}n=void 0,r&&r.enter()};if(c)i=function(){s.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(l&&l.resolve){var h=l.resolve(void 0);i=function(){h.then(u)}}else i=function(){o.call(r,u)};else{var d=!0,f=document.createTextNode("");new a(u).observe(f,{characterData:!0}),i=function(){f.data=d=!d}}return function(e){var r={fn:e,next:void 0};n&&(n.next=r),t||(t=r,i()),n=r}}},8112:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(t,e=null)=>t&&t.$options._scopeId||e},8378:function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},8436:function(t,e){t.exports=function(){}},"84f2":function(t,e){t.exports={}},"85f2":function(t,e,n){t.exports=n("454f")},"86cc":function(t,n,i){var r=i("cb7c"),o=i("c69a"),a=i("6a99"),s=Object.defineProperty;n.f=i("9e1e")?Object.defineProperty:function(t,n,i){if(r(t),n=a(n,!0),r(i),o)try{return s(t,n,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[n]=i.value),t}},8807:function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));var i=n("4e82"),r=n("1d04"),o=n("1f62"),a=n("8db0"),s=n("8c63"),l=n("17cc"),c=n("3844"),u=n("e117"),h=n("3372"),d=n("29b3"),f=n("1524"),p=n("5ef7"),m=n("0a38"),g=n("daee"),b=n("e881"),v=n("070c"),y=n("2389"),_=n("1a67"),w=n("16db"),x=n("a097"),E=n("629f"),C=n("8cc9");const k=["input","select","textarea"],M=k.map(t=>t+":not([disabled])").join(),O=[...k,"a","button","label"],T=()=>Object(g["c"])(Object(m["l"])({...v["b"],...b["b"],...Object(c["a"])().reduce((t,e)=>(t[Object(g["f"])(e,"contentCols")]=Object(g["b"])(o["f"]),t[Object(g["f"])(e,"labelAlign")]=Object(g["b"])(o["l"]),t[Object(g["f"])(e,"labelCols")]=Object(g["b"])(o["f"]),t),Object(m["c"])(null)),description:Object(g["b"])(o["l"]),disabled:Object(g["b"])(o["e"],!1),feedbackAriaLive:Object(g["b"])(o["l"],"assertive"),invalidFeedback:Object(g["b"])(o["l"]),label:Object(g["b"])(o["l"]),labelClass:Object(g["b"])(o["c"]),labelFor:Object(g["b"])(o["l"]),labelSize:Object(g["b"])(o["l"]),labelSrOnly:Object(g["b"])(o["e"],!1),tooltip:Object(g["b"])(o["e"],!1),validFeedback:Object(g["b"])(o["l"]),validated:Object(g["b"])(o["e"],!1)}),i["n"]),S={name:i["n"],mixins:[v["a"],b["a"],y["a"]],get props(){return delete this.props,this.props=T()},data(){return{ariaDescribedby:null}},computed:{contentColProps(){return this.getColProps(this.$props,"content")},labelAlignClasses(){return this.getAlignClasses(this.$props,"label")},labelColProps(){return this.getColProps(this.$props,"label")},isHorizontal(){return Object(m["g"])(this.contentColProps).length>0||Object(m["g"])(this.labelColProps).length>0}},watch:{ariaDescribedby(t,e){t!==e&&this.updateAriaDescribedby(t,e)}},mounted(){this.$nextTick(()=>{this.updateAriaDescribedby(this.ariaDescribedby)})},methods:{getAlignClasses(t,e){return Object(c["a"])().reduce((n,i)=>{const r=t[Object(g["f"])(i,e+"Align")]||null;return r&&n.push(["text",i,r].filter(d["a"]).join("-")),n},[])},getColProps(t,e){return Object(c["a"])().reduce((n,i)=>{let r=t[Object(g["f"])(i,e+"Cols")];return r=""===r||(r||!1),Object(f["b"])(r)||"auto"===r||(r=Object(p["b"])(r,0),r=r>0&&r),r&&(n[i||(Object(f["b"])(r)?"col":"cols")]=r),n},{})},updateAriaDescribedby(t,e){const{labelFor:n}=this;if(r["f"]&&n){const i=Object(h["w"])("#"+Object(u["a"])(n),this.$refs.content);if(i){const n="aria-describedby",r=(t||"").split(a["o"]),o=(e||"").split(a["o"]),s=(Object(h["g"])(i,n)||"").split(a["o"]).filter(t=>!Object(l["a"])(o,t)).concat(r).filter((t,e,n)=>n.indexOf(t)===e).filter(d["a"]).join(" ").trim();s?Object(h["y"])(i,n,s):Object(h["s"])(i,n)}}},onLegendClick(t){if(this.labelFor)return;const{target:e}=t,n=e?e.tagName:"";if(-1!==O.indexOf(n))return;const i=Object(h["x"])(M,this.$refs.content).filter(h["p"]);1===i.length&&Object(h["d"])(i[0])}},render(t){const{computedState:e,feedbackAriaLive:n,isHorizontal:i,labelFor:r,normalizeSlot:o,safeId:a,tooltip:l}=this,c=a(),u=!r;let h=t();const f=o(s["i"])||this.label,p=f?a("_BV_label_"):null;if(f||i){const{labelSize:e,labelColProps:n}=this,o=u?"legend":"label";this.labelSrOnly?(f&&(h=t(o,{class:"sr-only",attrs:{id:p,for:r||null}},[f])),h=t(i?_["a"]:"div",{props:i?n:{}},[h])):h=t(i?_["a"]:o,{on:u?{click:this.onLegendClick}:{},props:i?{...n,tag:o}:{},attrs:{id:p,for:r||null,tabindex:u?"-1":null},class:[u?"bv-no-focus-ring":"",i||u?"col-form-label":"",!i&&u?"pt-0":"",i||u?"":"d-block",e?"col-form-label-"+e:"",this.labelAlignClasses,this.labelClass]},[f])}let m=t();const g=o(s["h"])||this.invalidFeedback,b=g?a("_BV_feedback_invalid_"):null;g&&(m=t(E["a"],{props:{ariaLive:n,id:b,role:n?"alert":null,state:e,tooltip:l},attrs:{tabindex:g?"-1":null}},[g]));let v=t();const y=o(s["m"])||this.validFeedback,k=y?a("_BV_feedback_valid_"):null;y&&(v=t(C["a"],{props:{ariaLive:n,id:k,role:n?"alert":null,state:e,tooltip:l},attrs:{tabindex:y?"-1":null}},[y]));let M=t();const O=o(s["c"])||this.description,T=O?a("_BV_description_"):null;O&&(M=t(x["a"],{attrs:{id:T,tabindex:"-1"}},[O]));const S=this.ariaDescribedby=[T,!1===e?b:null,!0===e?k:null].filter(d["a"]).join(" ")||null,R=t(i?_["a"]:"div",{props:i?this.contentColProps:{},ref:"content"},[o(s["b"],{ariaDescribedby:S,descriptionId:T,id:c,labelId:p})||t(),m,v,M]);return t(u?"fieldset":i?w["a"]:"div",{staticClass:"form-group",class:[{"was-validated":this.validated},this.stateClass],attrs:{id:c,disabled:u?this.disabled:null,role:u?null:"group","aria-invalid":this.computedAriaInvalid,"aria-labelledby":u&&i?p:null}},i&&u?[t(w["a"],[h,R])]:[h,R])}}},8850:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("c9cf"),o=n("7c84"),a=function(){function t(){this.notifyingListeners=!1,this.scopeListeners=[],this.eventProcessors=[],this.breadcrumbs=[],this.user={},this.tags={},this.extra={}}return t.prototype.addScopeListener=function(t){this.scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this.eventProcessors.push(t),this},t.prototype.notifyScopeListeners=function(){var t=this;this.notifyingListeners||(this.notifyingListeners=!0,setTimeout((function(){t.scopeListeners.forEach((function(e){e(t)})),t.notifyingListeners=!1})))},t.prototype.notifyEventProcessors=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,a,l,c,u;return i.__generator(this,(function(h){switch(h.label){case 0:o=t,h.label=1;case 1:h.trys.push([1,8,9,10]),a=i.__values(i.__spread(s(),this.eventProcessors)),l=a.next(),h.label=2;case 2:if(l.done)return[3,7];c=l.value,h.label=3;case 3:return h.trys.push([3,5,,6]),[4,c(i.__assign({},o),e)];case 4:return o=h.sent(),null===o?[2,null]:[3,6];case 5:return h.sent(),[3,6];case 6:return l=a.next(),[3,2];case 7:return[3,10];case 8:return u=h.sent(),n={error:u},[3,10];case 9:try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}return[7];case 10:return[2,o]}}))}))},t.prototype.setUser=function(t){return this.user=o.safeNormalize(t),this.notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this.tags=i.__assign({},this.tags,(n={},n[t]=o.safeNormalize(e),n)),this.notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this.extra=i.__assign({},this.extra,(n={},n[t]=o.safeNormalize(e),n)),this.notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this.fingerprint=o.safeNormalize(t),this.notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this.level=o.safeNormalize(t),this.notifyScopeListeners(),this},t.clone=function(e){var n=new t;return o.assign(n,e,{scopeListeners:[]}),e&&(n.extra=o.assign(e.extra),n.tags=o.assign(e.tags),n.breadcrumbs=i.__spread(e.breadcrumbs),n.eventProcessors=i.__spread(e.eventProcessors)),n},t.prototype.clear=function(){this.breadcrumbs=[],this.tags={},this.extra={},this.user={},this.level=void 0,this.fingerprint=void 0,this.notifyScopeListeners()},t.prototype.addBreadcrumb=function(t,e){this.breadcrumbs=void 0!==e&&e>=0?i.__spread(this.breadcrumbs,[o.safeNormalize(t)]).slice(-e):i.__spread(this.breadcrumbs,[o.safeNormalize(t)]),this.notifyScopeListeners()},t.prototype.applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this.fingerprint?t.fingerprint=t.fingerprint.concat(this.fingerprint):t.message&&(t.fingerprint=t.fingerprint.concat(t.message)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(o){return this.extra&&Object.keys(this.extra).length&&(t.extra=i.__assign({},this.extra,t.extra)),this.tags&&Object.keys(this.tags).length&&(t.tags=i.__assign({},this.tags,t.tags)),this.user&&Object.keys(this.user).length&&(t.user=i.__assign({},this.user,t.user)),this.level&&(t.level=this.level),this.applyFingerprint(t),r=!t.breadcrumbs||0===t.breadcrumbs.length,r&&this.breadcrumbs.length>0&&(t.breadcrumbs=void 0!==n&&n>=0?this.breadcrumbs.slice(-n):this.breadcrumbs),[2,this.notifyEventProcessors(t,e)]}))}))},t}();function s(){var t=r.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function l(t){s().push(t)}e.Scope=a,e.addGlobalEventProcessor=l},"8b97":function(t,n,i){var r=i("d3f4"),o=i("cb7c"),a=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(t,e){return a(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:a}},"8c63":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return m}));const i="button-content",r="default",o="description",a="empty",s="first",l="footer",c="header",u="invalid-feedback",h="label",d="tabs-end",f="tabs-start",p="title",m="valid-feedback"},"8cc9":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("daee");const l=Object(s["c"])({ariaLive:Object(s["b"])(a["l"]),forceShow:Object(s["b"])(a["e"],!1),id:Object(s["b"])(a["l"]),role:Object(s["b"])(a["l"]),state:Object(s["b"])(a["e"],null),tag:Object(s["b"])(a["l"],"div"),tooltip:Object(s["b"])(a["e"],!1)},o["t"]),c=i["a"].extend({name:o["t"],functional:!0,props:l,render(t,{props:e,data:n,children:i}){const{tooltip:o,ariaLive:a}=e,s=!0===e.forceShow||!0===e.state;return t(e.tag,Object(r["a"])(n,{class:{"d-block":s,"valid-feedback":!o,"valid-tooltip":o},attrs:{id:e.id||null,role:e.role||null,"aria-live":a||null,"aria-atomic":a?"true":null}}),i)}})},"8d74":function(t,e,n){var i=n("4cef"),r=/^\s+/;function o(t){return t?t.slice(0,i(t)+1).replace(r,""):t}t.exports=o},"8db0":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return u})),n.d(e,"l",(function(){return h})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return m})),n.d(e,"r",(function(){return g})),n.d(e,"s",(function(){return b})),n.d(e,"t",(function(){return v})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return _})),n.d(e,"m",(function(){return w})),n.d(e,"c",(function(){return x}));const i=/\[(\d+)]/g,r=/^(BV?)/,o=/^#/,a=/^#[A-Za-z]+[\w\-:.]*$/,s=/(<([^>]+)>)/gi,l=/\B([A-Z])/g,c=/([a-z])([A-Z])/g,u=/^[0-9]*\.?[0-9]+$/,h=/\+/g,d=/[-/\\^$*+?.()|[\]{}]/g,f=/\s+/,p=/(\s|^)(\w)/g,m=/^\s+/,g=/\s+$/,b=/_/g,v=/-(\w)/g,y=/%2C/g,_=/[!'()*]/g,w=/^(\?|#|&)/,x=/^col-/},"8e1b":function(t,e,n){"use strict";t.exports=function(...t){try{return JSON.stringify.apply(null,t)}catch(e){return"[Cannot display object: "+e.message+"]"}}},"8e60":function(t,e,n){t.exports=!n("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"8e6e":function(t,e,n){var i=n("5ca1"),r=n("990b"),o=n("6821"),a=n("11e9"),s=n("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,i=o(t),l=a.f,c=r(i),u={},h=0;while(c.length>h)n=l(i,e=c[h++]),void 0!==n&&s(u,e,n);return u}})},"8f60":function(t,e,n){"use strict";var i=n("a159"),r=n("aebd"),o=n("45f2"),a={};n("35e8")(a,n("5168")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},9003:function(t,e,n){var i=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"901d":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("2b0e"),r=n("4e82"),o=n("b082"),a=n("0a38"),s=n("daee"),l=n("f28f"),c=n("0fbf"),u=n("475d"),h=n("e881"),d=n("070c");const f=Object(s["c"])(Object(a["l"])({...d["b"],...l["b"],...c["c"],...u["b"],...h["b"]}),r["p"]),p=i["a"].extend({name:r["p"],mixins:[d["a"],c["b"],l["a"],u["a"],h["a"]],inject:{bvGroup:{from:"bvRadioGroup",default:!1}},props:f,watch:{computedLocalChecked(t,e){Object(o["a"])(t,e)||this.$emit(c["a"],t)}}})},9093:function(t,e,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},9102:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4cbb"),r=function(){function t(){this.name="SDKInformation"}return t.prototype.setupOnce=function(){i.logger.warn("SDKInformation Integration is deprecated and can be safely removed. It's functionality has been merged into the SDK's core.")},t}();e.SDKInformation=r},9138:function(t,e,n){t.exports=n("35e8")},"91dc":function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){i=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry__?this.__sentry_original__:this;return i.apply(n,t)}},t.id="FunctionToString",t}();e.FunctionToString=r},"93e0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e5d5"),r=n("4cbb");function o(t,e){!0===e.debug&&r.logger.enable();var n=new t(e);i.getCurrentHub().bindClient(n),n.install()}e.initAndBind=o},9427:function(t,e,n){var i=n("63b6");i(i.S,"Object",{create:n("a159")})},"94df":function(t,e,n){"use strict";function i(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return t instanceof Error}}function r(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function l(t){return"function"===typeof t}function c(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return null===t||"object"!==typeof t&&"function"!==typeof t}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t){return"[object Object]"===Object.prototype.toString.call(t)}function f(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function p(t){return t!==t}function m(t){return d(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}Object.defineProperty(e,"__esModule",{value:!0}),e.isError=i,e.isErrorEvent=r,e.isDOMError=o,e.isDOMException=a,e.isUndefined=s,e.isFunction=l,e.isString=c,e.isPrimitive=u,e.isArray=h,e.isPlainObject=d,e.isRegExp=f,e.isNaN=p,e.isSyntheticEvent=m},"95ba":function(t,e,n){"use strict";function i(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}Object.defineProperty(e,"__esModule",{value:!0});var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function o(t){var e=r.exec(t);return e?e.slice(1):[]}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=!1,o=t.length-1;o>=-1&&!r;o--){var a=o>=0?t[o]:"/";a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=i(n.split("/").filter((function(t){return!!t})),!r).join("/"),(r?"/":"")+n||"."}function s(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}function l(t,e){t=a(t).substr(1),e=a(e).substr(1);for(var n=s(t.split("/")),i=s(e.split("/")),r=Math.min(n.length,i.length),o=r,l=0;l<r;l++)if(n[l]!==i[l]){o=l;break}var c=[];for(l=o;l<n.length;l++)c.push("..");return c=c.concat(i.slice(o)),c.join("/")}function c(t){var e=u(t),n="/"===t.substr(-1),r=i(t.split("/").filter((function(t){return!!t})),!e).join("/");return r||e||(r="."),r&&n&&(r+="/"),(e?"/":"")+r}function u(t){return"/"===t.charAt(0)}function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return c(t.join("/"))}function d(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."}function f(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n}e.resolve=a,e.relative=l,e.normalize=c,e.isAbsolute=u,e.join=h,e.dirname=d,e.basename=f},"95d5":function(t,e,n){var i=n("40c3"),r=n("5168")("iterator"),o=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(i(e))}},"990b":function(t,e,n){var i=n("9093"),r=n("2621"),o=n("cb7c"),a=n("7726").Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9ab4":function(t,n,i){"use strict";i.r(n),i.d(n,"__extends",(function(){return o})),i.d(n,"__assign",(function(){return a})),i.d(n,"__rest",(function(){return s})),i.d(n,"__decorate",(function(){return l})),i.d(n,"__param",(function(){return c})),i.d(n,"__metadata",(function(){return u})),i.d(n,"__awaiter",(function(){return h})),i.d(n,"__generator",(function(){return d})),i.d(n,"__createBinding",(function(){return f})),i.d(n,"__exportStar",(function(){return p})),i.d(n,"__values",(function(){return m})),i.d(n,"__read",(function(){return g})),i.d(n,"__spread",(function(){return b})),i.d(n,"__spreadArrays",(function(){return v})),i.d(n,"__await",(function(){return y})),i.d(n,"__asyncGenerator",(function(){return _})),i.d(n,"__asyncDelegator",(function(){return w})),i.d(n,"__asyncValues",(function(){return x})),i.d(n,"__makeTemplateObject",(function(){return E})),i.d(n,"__importStar",(function(){return C})),i.d(n,"__importDefault",(function(){return k})),i.d(n,"__classPrivateFieldGet",(function(){return M})),i.d(n,"__classPrivateFieldSet",(function(){return O}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function l(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,n,i,r){function o(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,a){function s(t){try{c(r.next(t))}catch(e){a(e)}}function l(t){try{c(r["throw"](t))}catch(e){a(e)}}function c(t){t.done?i(t.value):o(t.value).then(s,l)}c((r=r.apply(t,n||[])).next())}))}function d(t,n){var i,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(t){return function(e){return c([t,e])}}function c(a){if(i)throw new TypeError("Generator is already executing.");while(s)try{if(i=1,r&&(o=2&a[0]?r["return"]:a[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=n.call(t,s)}catch(e){a=[6,e],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function f(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function m(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return a}function b(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function _(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=i.apply(t,n||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){o[t]&&(r[t]=function(e){return new Promise((function(n,i){a.push([t,e,n,i])>1||l(t,e)}))})}function l(t,n){try{c(o[t](n))}catch(e){d(a[0][3],e)}}function c(t){t.value instanceof y?Promise.resolve(t.value.v).then(u,h):d(a[0][2],t)}function u(t){l("next",t)}function h(t){l("throw",t)}function d(t,e){t(e),a.shift(),a.length&&l(a[0][0],a[0][1])}}function w(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof m?m(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,o){e=t[n](e),r(i,o,e.done,e.value)}))}}function r(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}function M(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function O(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"9b43":function(t,e,n){var i=n("d8e8");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var i=n("2b4c")("unscopables"),r=Array.prototype;void 0==r[i]&&n("32e9")(r,i,{}),t.exports=function(t){r[i][t]=!0}},"9c80":function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9d18":function(t,e,n){},"9def":function(t,e,n){var i=n("4588"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"9e69":function(t,e,n){var i=n("2b3e"),r=i.Symbol;t.exports=r},"9fda":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("0a38"),l=n("daee"),c=n("6066"),u=n("ca9a"),h=n("c59a");const d=Object(l["c"])(Object(s["l"])({...u["b"],...h["b"],...Object(l["a"])(c["a"],l["e"].bind(null,"body")),bodyClass:Object(l["b"])(a["c"]),overlay:Object(l["b"])(a["e"],!1)}),o["c"]),f=i["a"].extend({name:o["c"],functional:!0,props:d,render(t,{props:e,data:n,children:i}){const{bodyBgVariant:o,bodyBorderVariant:a,bodyTextVariant:s}=e;let c=t();e.title&&(c=t(u["a"],{props:Object(l["d"])(u["b"],e)}));let d=t();return e.subTitle&&(d=t(h["a"],{props:Object(l["d"])(h["b"],e),class:["mb-2"]})),t(e.bodyTag,Object(r["a"])(n,{staticClass:"card-body",class:[{"card-img-overlay":e.overlay,["bg-"+o]:o,["border-"+a]:a,["text-"+s]:s},e.bodyClass]}),[c,d,i])}})},a091:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return d}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("c4be"),l=n("0a38"),c=n("daee"),u=n("6066");const h=Object(c["c"])(Object(l["l"])({...Object(c["a"])(u["a"],c["e"].bind(null,"header")),header:Object(c["b"])(a["l"]),headerClass:Object(c["b"])(a["c"]),headerHtml:Object(c["b"])(a["l"])}),o["e"]),d=i["a"].extend({name:o["e"],functional:!0,props:h,render(t,{props:e,data:n,children:i}){const{headerBgVariant:o,headerBorderVariant:a,headerTextVariant:l}=e;return t(e.headerTag,Object(r["a"])(n,{staticClass:"card-header",class:[e.headerClass,{["bg-"+o]:o,["border-"+a]:a,["text-"+l]:l}],domProps:i?{}:Object(s["a"])(e.headerHtml,e.header)}),i)}})},a097:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("daee");const l=Object(s["c"])({id:Object(s["b"])(a["l"]),inline:Object(s["b"])(a["e"],!1),tag:Object(s["b"])(a["l"],"small"),textVariant:Object(s["b"])(a["l"],"muted")},o["s"]),c=i["a"].extend({name:o["s"],functional:!0,props:l,render(t,{props:e,data:n,children:i}){return t(e.tag,Object(r["a"])(n,{class:{"form-text":!e.inline,["text-"+e.textVariant]:e.textVariant},attrs:{id:e.id}}),i)}})},a159:function(t,e,n){var i=n("e4ae"),r=n("7e90"),o=n("1691"),a=n("5559")("IE_PROTO"),s=function(){},l="prototype",c=function(){var t,e=n("1ec9")("iframe"),i=o.length,r="<",a=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+a+"document.F=Object"+r+"/script"+a),t.close(),c=t.F;while(i--)delete c[l][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=i(t),n=new s,s[l]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},a248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("e5d5"),o=n("94df"),a=n("4cbb"),s=n("c9cf"),l=n("5153"),c=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],u=function(){function t(e){void 0===e&&(e={}),this.options=e,this.name=t.id}return t.prototype.setupOnce=function(){var e=this;r.addGlobalEventProcessor((function(n){return i.__awaiter(e,void 0,void 0,(function(){var e,o,a,s,l;return i.__generator(this,(function(i){return e=r.getCurrentHub(),e?(o=e.getIntegration(t),o&&(a=e.getClient(),s=a?a.getOptions():{},l=o.mergeOptions(s),o.shouldDropEvent(n,l))?[2,null]:[2,n]):[2,n]}))}))}))},t.prototype.shouldDropEvent=function(t,e){return this.isSentryError(t,e)?(a.logger.warn("Event dropped due to being internal Sentry Error.\nEvent: "+s.getEventDescription(t)),!0):this.isIgnoredError(t,e)?(a.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+s.getEventDescription(t)),!0):this.isBlacklistedUrl(t,e)?(a.logger.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+s.getEventDescription(t)+".\nUrl: "+this.getEventFilterUrl(t)),!0):!this.isWhitelistedUrl(t,e)&&(a.logger.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+s.getEventDescription(t)+".\nUrl: "+this.getEventFilterUrl(t)),!0)},t.prototype.isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return"SentryError"===t.exception.values[0].type}catch(n){return!1}},t.prototype.isIgnoredError=function(t,e){var n=this;return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this.getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return n.isMatchingPattern(t,e)}))}))},t.prototype.isBlacklistedUrl=function(t,e){var n=this;if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var i=this.getEventFilterUrl(t);return!!i&&e.blacklistUrls.some((function(t){return n.isMatchingPattern(i,t)}))},t.prototype.isWhitelistedUrl=function(t,e){var n=this;if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var i=this.getEventFilterUrl(t);return!i||e.whitelistUrls.some((function(t){return n.isMatchingPattern(i,t)}))},t.prototype.mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:i.__spread(this.options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:i.__spread(this.options.ignoreErrors||[],t.ignoreErrors||[],c),ignoreInternal:"undefined"===typeof this.options.ignoreInternal||this.options.ignoreInternal,whitelistUrls:i.__spread(this.options.whitelistUrls||[],t.whitelistUrls||[])}},t.prototype.isMatchingPattern=function(t,e){return o.isRegExp(e)?e.test(t):"string"===typeof e&&l.includes(t,e)},t.prototype.getPossibleEventMessages=function(t){if(t.message)return[t.message];if(!t.exception)return[];try{var e=t.exception.values[0],n=e.type,i=e.value;return[""+i,n+": "+i]}catch(r){return a.logger.error("Cannot extract message for event "+s.getEventDescription(t)),[]}},t.prototype.getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e[e.length-1].filename}if(t.exception){var n=t.exception.values[0].stacktrace.frames;return n[n.length-1].filename}return null}catch(i){return a.logger.error("Cannot extract url for event "+s.getEventDescription(t)),null}},t.id="InboundFilters",t}();e.InboundFilters=u},a25f:function(t,e,n){var i=n("7726"),r=i.navigator;t.exports=r&&r.userAgent||""},a3a7:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s}));var i=n("1d04");const r=i["e"]?i["g"].Element:class extends Object{},o=i["e"]?i["g"].HTMLElement:class extends r{},a=i["e"]?i["g"].SVGElement:class extends r{},s=i["e"]?i["g"].File:class extends Object{}},a3a8:function(t,e,n){var i=n("67bb"),r=n("c8bb"),o=n("774e");function a(t){if("undefined"!==typeof i&&r(Object(t)))return o(t)}t.exports=a,t.exports["default"]=t.exports,t.exports.__esModule=!0},a481:function(t,e,n){"use strict";var i=n("cb7c"),r=n("4bf8"),o=n("9def"),a=n("4588"),s=n("0390"),l=n("5f1b"),c=Math.max,u=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,m){return[function(i,r){var o=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=m(n,t,this,e);if(r.done)return r.value;var h=i(t),d=String(this),f="function"===typeof e;f||(e=String(e));var b=h.global;if(b){var v=h.unicode;h.lastIndex=0}var y=[];while(1){var _=l(h,d);if(null===_)break;if(y.push(_),!b)break;var w=String(_[0]);""===w&&(h.lastIndex=s(d,o(h.lastIndex),v))}for(var x="",E=0,C=0;C<y.length;C++){_=y[C];for(var k=String(_[0]),M=c(u(a(_.index),d.length),0),O=[],T=1;T<_.length;T++)O.push(p(_[T]));var S=_.groups;if(f){var R=[k].concat(O,M,d);void 0!==S&&R.push(S);var j=String(e.apply(void 0,R))}else j=g(k,d,M,O,S,e);M>=E&&(x+=d.slice(E,M)+j,E=M+k.length)}return x+d.slice(E)}];function g(t,e,i,o,a,s){var l=i+t.length,c=o.length,u=f;return void 0!==a&&(a=r(a),u=d),n.call(s,u,(function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":s=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return n;if(u>c){var d=h(u/10);return 0===d?n:d<=c?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},a5b8:function(t,e,n){"use strict";var i=n("d8e8");function r(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},a64c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("94df"),o=n("7c84"),a=n("f60e"),s=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,l=function(){function t(t){"string"===typeof t?this.fromString(t):this.fromComponents(t),this.validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,i=e.path,r=e.pass,o=e.port,a=e.projectId,s=e.protocol,l=e.user;return s+"://"+l+(t&&r?":"+r:"")+"@"+n+(o?":"+o:"")+"/"+(i?i+"/":i)+a},t.prototype.fromString=function(t){var e=s.exec(t);if(!e)throw new a.SentryError("Invalid Dsn");var n=i.__read(e.slice(1),6),r=n[0],l=n[1],c=n[2],u=void 0===c?"":c,h=n[3],d=n[4],f=void 0===d?"":d,p=n[5],m="",g=p,b=g.split("/");b.length>1&&(m=b.slice(0,-1).join("/"),g=b.pop()),o.assign(this,{host:h,pass:u,path:m,projectId:g,port:f,protocol:r,user:l})},t.prototype.fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype.validate=function(){var t,e;try{for(var n=i.__values(["protocol","user","host","projectId"]),o=n.next();!o.done;o=n.next()){var s=o.value;if(!this[s])throw new a.SentryError("Invalid Dsn: Missing "+s)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}if("http"!==this.protocol&&"https"!==this.protocol)throw new a.SentryError('Invalid Dsn: Unsupported protocol "'+this.protocol+'"');if(this.port&&r.isNaN(parseInt(this.port,10)))throw new a.SentryError('Invalid Dsn: Invalid port number "'+this.port+'"')},t}();e.Dsn=l},a6f7:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("b42e");const i="_uid"},a745:function(t,e,n){t.exports=n("f410")},a866:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));const i=/^(?:chr)?([a-zA-Z0-9]+?)[_:-](\d+)[_:|-]?(\w+)?[/_:|-]?([^_]+)?_?(.*)?/;function r(t,e=!1){const n=t&&t.match(i);if(n)return n.slice(1);if(e)return null;throw new Error(`Could not understand marker format for ${t}. Should be of format chr:pos or chr:pos_ref/alt`)}function o(t){const e=r(t);if(!e)throw new Error("Unable to normalize marker format for variant: "+t);const[n,i,o,a]=e;let s=`${n}:${i}`;return o&&a&&(s+=`_${o}/${a}`),s}},a9ff:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var i=n("4e82"),r=n("1d04"),o=n("6b59"),a=n("17cc"),s=n("3844"),l=n("8112"),c=n("29b3"),u=n("1524"),h=n("b082"),d=n("5ef7"),f=n("0a38"),p=n("11b2");const m="__BV_Tooltip__",g="hover focus",b={focus:!0,hover:!0,click:!0,blur:!0,manual:!0},v=/^html$/i,y=/^noninteractive$/i,_=/^nofade$/i,w=/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/i,x=/^(window|viewport|scrollParent)$/i,E=/^d\d+$/i,C=/^ds\d+$/i,k=/^dh\d+$/i,M=/^o-?\d+$/i,O=/^v-.+$/i,T=/\s+/,S=(t,e)=>{let n={title:void 0,trigger:"",placement:"top",fallbackPlacement:"flip",container:!1,animation:!0,offset:0,id:null,html:!1,interactive:!0,disabled:!1,delay:Object(s["b"])(i["C"],"delay",50),boundary:String(Object(s["b"])(i["C"],"boundary","scrollParent")),boundaryPadding:Object(d["b"])(Object(s["b"])(i["C"],"boundaryPadding",5),0),variant:Object(s["b"])(i["C"],"variant"),customClass:Object(s["b"])(i["C"],"customClass")};if(Object(u["j"])(t.value)||Object(u["g"])(t.value)||Object(u["e"])(t.value)?n.title=t.value:Object(u["i"])(t.value)&&(n={...n,...t.value}),Object(u["k"])(n.title)){const t=e.data||{};n.title=t.attrs&&!Object(u["l"])(t.attrs.title)?t.attrs.title:void 0}Object(u["i"])(n.delay)||(n.delay={show:Object(d["b"])(n.delay,0),hide:Object(d["b"])(n.delay,0)}),t.arg&&(n.container="#"+t.arg),Object(f["g"])(t.modifiers).forEach(t=>{if(v.test(t))n.html=!0;else if(y.test(t))n.interactive=!1;else if(_.test(t))n.animation=!1;else if(w.test(t))n.placement=t;else if(x.test(t))t="scrollparent"===t?"scrollParent":t,n.boundary=t;else if(E.test(t)){const e=Object(d["b"])(t.slice(1),0);n.delay.show=e,n.delay.hide=e}else C.test(t)?n.delay.show=Object(d["b"])(t.slice(2),0):k.test(t)?n.delay.hide=Object(d["b"])(t.slice(2),0):M.test(t)?n.offset=Object(d["b"])(t.slice(1),0):O.test(t)&&(n.variant=t.slice(2)||null)});const r={};return Object(a["b"])(n.trigger||"").filter(c["a"]).join(" ").trim().toLowerCase().split(T).forEach(t=>{b[t]&&(r[t]=!0)}),Object(f["g"])(t.modifiers).forEach(t=>{t=t.toLowerCase(),b[t]&&(r[t]=!0)}),n.trigger=Object(f["g"])(r).join(" "),"blur"===n.trigger&&(n.trigger="focus"),n.trigger||(n.trigger=g),n},R=(t,e,n)=>{if(!r["f"])return;const i=S(e,n);if(!t[m]){const e=n.context;t[m]=new p["a"]({parent:e,_scopeId:Object(l["a"])(e,void 0)}),t[m].__bv_prev_data__={},t[m].$on(o["t"],()=>{Object(u["e"])(i.title)&&t[m].updateData({title:i.title(t)})})}const a={title:i.title,triggers:i.trigger,placement:i.placement,fallbackPlacement:i.fallbackPlacement,variant:i.variant,customClass:i.customClass,container:i.container,boundary:i.boundary,delay:i.delay,offset:i.offset,noFade:!i.animation,id:i.id,interactive:i.interactive,disabled:i.disabled,html:i.html},s=t[m].__bv_prev_data__;if(t[m].__bv_prev_data__=a,!Object(h["a"])(a,s)){const e={target:t};Object(f["g"])(a).forEach(n=>{a[n]!==s[n]&&(e[n]="title"===n&&Object(u["e"])(a[n])?a[n](t):a[n])}),t[m].updateData(e)}},j=t=>{t[m]&&(t[m].$destroy(),t[m]=null),delete t[m]},L={bind(t,e,n){R(t,e,n)},componentUpdated(t,e,n){n.context.$nextTick(()=>{R(t,e,n)})},unbind(t){j(t)}}},aa77:function(t,e,n){var i=n("5ca1"),r=n("be13"),o=n("79e5"),a=n("fdef"),s="["+a+"]",l="",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),h=function(t,e,n){var r={},s=o((function(){return!!a[t]()||l[t]()!=l})),c=r[t]=s?e(d):a[t];n&&(r[n]=c),i(i.P+i.F*s,"String",r)},d=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=h},aae3:function(t,e,n){var i=n("d3f4"),r=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},ac6a:function(t,e,n){for(var i=n("cadf"),r=n("0d58"),o=n("2aba"),a=n("7726"),s=n("32e9"),l=n("84f2"),c=n("2b4c"),u=c("iterator"),h=c("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),m=0;m<p.length;m++){var g,b=p[m],v=f[b],y=a[b],_=y&&y.prototype;if(_&&(_[u]||s(_,u,d),_[h]||s(_,h,b),l[b]=d,v))for(g in i)_[g]||o(_,g,i[g],!0)}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},aef6:function(t,e,n){"use strict";var i=n("5ca1"),r=n("9def"),o=n("d2c8"),a="endsWith",s=""[a];i(i.P+i.F*n("5147")(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),l=void 0===n?i:Math.min(r(n),i),c=String(t);return s?s.call(e,c,l):e.slice(l-c.length,l)===c}})},b047:function(t,e,n){var i=n("1a8c"),r=n("408c"),o=n("b4b0"),a="Expected a function",s=Math.max,l=Math.min;function c(t,e,n){var c,u,h,d,f,p,m=0,g=!1,b=!1,v=!0;if("function"!=typeof t)throw new TypeError(a);function y(e){var n=c,i=u;return c=u=void 0,m=e,d=t.apply(i,n),d}function _(t){return m=t,f=setTimeout(E,e),g?y(t):d}function w(t){var n=t-p,i=t-m,r=e-n;return b?l(r,h-i):r}function x(t){var n=t-p,i=t-m;return void 0===p||n>=e||n<0||b&&i>=h}function E(){var t=r();if(x(t))return C(t);f=setTimeout(E,w(t))}function C(t){return f=void 0,v&&c?y(t):(c=u=void 0,d)}function k(){void 0!==f&&clearTimeout(f),m=0,c=p=u=f=void 0}function M(){return void 0===f?d:C(r())}function O(){var t=r(),n=x(t);if(c=arguments,u=this,p=t,n){if(void 0===f)return _(p);if(b)return clearTimeout(f),f=setTimeout(E,e),y(p)}return void 0===f&&(f=setTimeout(E,e)),d}return e=o(e)||0,i(n)&&(g=!!n.leading,b="maxWait"in n,h=b?s(o(n.maxWait)||0,e):h,v="trailing"in n?!!n.trailing:v),O.cancel=k,O.flush=M,O}t.exports=c},b070:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("2b0e"),r=n("4e82"),o=n("6b59"),a=n("1f62"),s=n("1524"),l=n("b082");const c=(t,e)=>{for(let n=0;n<t.length;n++)if(Object(l["a"])(t[n],e))return n;return-1};var u=n("0a38"),h=n("daee"),d=n("0fbf");const f="indeterminate",p=o["A"]+f,m=Object(h["c"])(Object(u["l"])({...d["c"],[f]:Object(h["b"])(a["e"],!1),switch:Object(h["b"])(a["e"],!1),uncheckedValue:Object(h["b"])(a["a"],!1),value:Object(h["b"])(a["a"],!0)}),r["m"]),g=i["a"].extend({name:r["m"],mixins:[d["b"]],inject:{bvGroup:{from:"bvCheckGroup",default:null}},props:m,computed:{isChecked(){const{value:t,computedLocalChecked:e}=this;return Object(s["a"])(e)?c(e,t)>-1:Object(l["a"])(e,t)},isRadio(){return!1}},watch:{[f](t,e){Object(l["a"])(t,e)||this.setIndeterminate(t)}},mounted(){this.setIndeterminate(this[f])},methods:{computedLocalCheckedWatcher(t,e){if(!Object(l["a"])(t,e)){this.$emit(d["a"],t);const e=this.$refs.input;e&&this.$emit(p,e.indeterminate)}},handleChange({target:{checked:t,indeterminate:e}}){const{value:n,uncheckedValue:i}=this;let r=this.computedLocalChecked;if(Object(s["a"])(r)){const e=c(r,n);t&&e<0?r=r.concat(n):!t&&e>-1&&(r=r.slice(0,e).concat(r.slice(e+1)))}else r=t?n:i;this.computedLocalChecked=r,this.$nextTick(()=>{this.$emit(o["b"],r),this.isGroup&&this.bvGroup.$emit(o["b"],r),this.$emit(p,e)})},setIndeterminate(t){Object(s["a"])(this.computedLocalChecked)&&(t=!1);const e=this.$refs.input;e&&(e.indeterminate=t,this.$emit(p,t))}}})},b082:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("0a38"),r=n("1524");const o=(t,e)=>{if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=a(t[i],e[i]);return n},a=(t,e)=>{if(t===e)return!0;let n=Object(r["c"])(t),s=Object(r["c"])(e);if(n||s)return!(!n||!s)&&t.getTime()===e.getTime();if(n=Object(r["a"])(t),s=Object(r["a"])(e),n||s)return!(!n||!s)&&o(t,e);if(n=Object(r["h"])(t),s=Object(r["h"])(e),n||s){if(!n||!s)return!1;const r=Object(i["g"])(t).length,o=Object(i["g"])(e).length;if(r!==o)return!1;for(const n in t){const r=Object(i["f"])(t,n),o=Object(i["f"])(e,n);if(r&&!o||!r&&o||!a(t[n],e[n]))return!1}}return String(t)===String(e)}},b0b4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("85f2");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b0dc:function(t,n,i){var r=i("e4ae");t.exports=function(t,n,i,o){try{return o?n(r(i)[0],i[1]):n(i)}catch(e){var a=t["return"];throw void 0!==a&&r(a.call(t)),e}}},b42e:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r={kebab:/-(\w)/g,styleProp:/:(.*)/,styleList:/;(?![^(]*\))/g};function o(t,e){return e?e.toUpperCase():""}function a(t){for(var e,n={},i=0,a=t.split(r.styleList);i<a.length;i++){var s=a[i].split(r.styleProp),l=s[0],c=s[1];(l=l.trim())&&("string"==typeof c&&(c=c.trim()),n[(e=l,e.replace(r.kebab,o))]=c)}return n}function s(){for(var t,e,n={},r=arguments.length;r--;)for(var o=0,s=Object.keys(arguments[r]);o<s.length;o++)switch(t=s[o]){case"class":case"style":case"directives":if(Array.isArray(n[t])||(n[t]=[]),"style"===t){var l=void 0;l=Array.isArray(arguments[r].style)?arguments[r].style:[arguments[r].style];for(var c=0;c<l.length;c++){var u=l[c];"string"==typeof u&&(l[c]=a(u))}arguments[r].style=l}n[t]=n[t].concat(arguments[r][t]);break;case"staticClass":if(!arguments[r][t])break;void 0===n[t]&&(n[t]=""),n[t]&&(n[t]+=" "),n[t]+=arguments[r][t].trim();break;case"on":case"nativeOn":n[t]||(n[t]={});for(var h=0,d=Object.keys(arguments[r][t]||{});h<d.length;h++)e=d[h],n[t][e]?n[t][e]=[].concat(n[t][e],arguments[r][t][e]):n[t][e]=arguments[r][t][e];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":n[t]||(n[t]={}),n[t]=i({},arguments[r][t],n[t]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:n[t]||(n[t]=arguments[r][t])}return n}},b447:function(t,e,n){var i=n("3a38"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},b480:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("e5d5"),o=function(){function t(e){this.name=t.id,this.options=i.__assign({debugger:!1,stringify:!1},e)}return t.prototype.setupOnce=function(){var e=this;r.addGlobalEventProcessor((function(n,o){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){return e=r.getCurrentHub().getIntegration(t),e&&(e.options.debugger,e.options.stringify?(console.log(JSON.stringify(n,null,2)),o&&console.log(JSON.stringify(o,null,2))):(console.log(n),o&&console.log(o))),[2,n]}))}))}))},t.id="Debug",t}();e.Debug=o},b4b0:function(t,e,n){var i=n("8d74"),r=n("1a8c"),o=n("ffd6"),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function h(t){if("number"==typeof t)return t;if(o(t))return a;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=i(t);var n=l.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):s.test(t)?a:+t}t.exports=h},b538:function(t,e,n){"use strict";const i=n("8e1b");t.exports=class extends Error{constructor(t){const n=t.filter(t=>""!==t).map(t=>"string"===typeof t?t:t instanceof Error?t.message:i(t));super(n.join(" ")||"Unknown error"),"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,e.assert)}}},b8e3:function(t,e){t.exports=!0},b934:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2b0e"),r=n("6b59"),o=n("1f62"),a=n("daee");const s=(t,{type:e=o["a"],defaultValue:n,validator:s,event:l=r["n"]}={})=>{const c={[t]:Object(a["b"])(e,n,s)},u=i["a"].extend({model:{prop:t,event:l},props:c});return{mixin:u,props:c,prop:t,event:l}}},bcaa:function(t,e,n){var i=n("cb7c"),r=n("d3f4"),o=n("a5b8");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},bd86:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("85f2");function r(t,e,n){return e in t?i(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},bf0b:function(t,n,i){var r=i("355d"),o=i("aebd"),a=i("36c3"),s=i("1bc3"),l=i("07e3"),c=i("794b"),u=Object.getOwnPropertyDescriptor;n.f=i("8e60")?u:function(t,n){if(t=a(t),n=s(n,!0),c)try{return u(t,n)}catch(e){}if(l(t,n))return o(!r.f.call(t,n),t[n])}},c047:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4");function r(t){t.catch((function(t){console.error(t)}))}function o(t,e,n){return i.__awaiter(this,void 0,void 0,(function(){var r;return i.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all(t.map(e,n))];case 1:return r=i.sent(),[2,t.filter((function(t,e){return r[e]}))]}}))}))}e.forget=r,e.filterAsync=o},c064:function(t,e,n){"use strict";n.d(e,"b",(function(){return w})),n.d(e,"a",(function(){return x}));var i=n("2b0e"),r=n("4e82"),o=n("6b59"),a=n("1f62"),s=n("17cc"),l=n("3372"),c=n("5d4f"),u=n("1524"),h=n("0a38"),d=n("daee"),f=n("3914"),p=n("4479"),m=n("cfd1"),g=n("d4c0"),b=n("2389");const v=Object(c["e"])(r["v"],"clicked"),y={activeClass:Object(d["b"])(a["l"]),append:Object(d["b"])(a["e"],!1),event:Object(d["b"])(a["d"],o["d"]),exact:Object(d["b"])(a["e"],!1),exactActiveClass:Object(d["b"])(a["l"]),replace:Object(d["b"])(a["e"],!1),routerTag:Object(d["b"])(a["l"],"a"),to:Object(d["b"])(a["k"])},_={noPrefetch:Object(d["b"])(a["e"],!1),prefetch:Object(d["b"])(a["e"],null)},w=Object(d["c"])(Object(h["l"])({..._,...y,active:Object(d["b"])(a["e"],!1),disabled:Object(d["b"])(a["e"],!1),href:Object(d["b"])(a["l"]),rel:Object(d["b"])(a["l"],null),routerComponentName:Object(d["b"])(a["l"]),target:Object(d["b"])(a["l"],"_self")}),r["v"]),x=i["a"].extend({name:r["v"],mixins:[p["a"],g["a"],m["a"],b["a"]],inheritAttrs:!1,props:w,computed:{computedTag(){const{to:t,disabled:e,routerComponentName:n}=this;return Object(f["c"])({to:t,disabled:e,routerComponentName:n},this)},isRouterLink(){return Object(f["e"])(this.computedTag)},computedRel(){const{target:t,rel:e}=this;return Object(f["b"])({target:t,rel:e})},computedHref(){const{to:t,href:e}=this;return Object(f["a"])({to:t,href:e},this.computedTag)},computedProps(){const{prefetch:t}=this;return this.isRouterLink?{...Object(d["d"])({...y,..._},this),prefetch:Object(u["b"])(t)?t:void 0,tag:this.routerTag}:{}},computedAttrs(){const{bvAttrs:t,computedHref:e,computedRel:n,disabled:i,target:r,routerTag:o,isRouterLink:a}=this;return{...t,...e?{href:e}:{},...a&&!Object(l["o"])(o,"a")?{}:{rel:n,target:r},tabindex:i?"-1":Object(u["k"])(t.tabindex)?null:t.tabindex,"aria-disabled":i?"true":null}},computedListeners(){return{...this.bvListeners,click:this.onClick}}},methods:{onClick(t){const e=Object(u["d"])(t),n=this.isRouterLink,i=this.bvListeners.click;e&&this.disabled?Object(c["f"])(t,{immediatePropagation:!0}):(n&&t.currentTarget.__vue__&&t.currentTarget.__vue__.$emit(o["d"],t),Object(s["b"])(i).filter(t=>Object(u["e"])(t)).forEach(t=>{t(...arguments)}),this.emitOnRoot(v,t),this.emitOnRoot("clicked::link",t)),e&&!n&&"#"===this.computedHref&&Object(c["f"])(t,{propagation:!1})},focus(){Object(l["d"])(this.$el)},blur(){Object(l["c"])(this.$el)}},render(t){const{active:e,disabled:n}=this;return t(this.computedTag,{class:{active:e,disabled:n},attrs:this.computedAttrs,props:this.computedProps,[this.isRouterLink?"nativeOn":"on"]:this.computedListeners},this.normalizeSlot())}})},c15e:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return d}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("c4be"),l=n("0a38"),c=n("daee"),u=n("6066");const h=Object(c["c"])(Object(l["l"])({...Object(c["a"])(u["a"],c["e"].bind(null,"footer")),footer:Object(c["b"])(a["l"]),footerClass:Object(c["b"])(a["c"]),footerHtml:Object(c["b"])(a["l"])}),o["d"]),d=i["a"].extend({name:o["d"],functional:!0,props:h,render(t,{props:e,data:n,children:i}){const{footerBgVariant:o,footerBorderVariant:a,footerTextVariant:l}=e;return t(e.footerTag,Object(r["a"])(n,{staticClass:"card-footer",class:[e.footerClass,{["bg-"+o]:o,["border-"+a]:a,["text-"+l]:l}],domProps:i?{}:Object(s["a"])(e.footerHtml,e.footer)}),i)}})},c207:function(t,e){},c366:function(t,e,n){var i=n("6821"),r=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var s,l=i(e),c=r(l.length),u=o(a,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var i=n("8436"),r=n("50ed"),o=n("481b"),a=n("36c3");t.exports=n("30f1")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},c3a1:function(t,e,n){var i=n("e6f3"),r=n("1691");t.exports=Object.keys||function(t){return i(t,r)}},c4be:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var i=n("8db0");const r=(t="")=>String(t).replace(i["h"],""),o=(t,e)=>t?{innerHTML:t}:e?{textContent:e}:{}},c59a:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("daee"),l=n("055d");const c=Object(s["c"])({subTitle:Object(s["b"])(a["l"]),subTitleTag:Object(s["b"])(a["l"],"h6"),subTitleTextVariant:Object(s["b"])(a["l"],"muted")},o["g"]),u=i["a"].extend({name:o["g"],functional:!0,props:c,render(t,{props:e,data:n,children:i}){return t(e.subTitleTag,Object(r["a"])(n,{staticClass:"card-subtitle",class:[e.subTitleTextVariant?"text-"+e.subTitleTextVariant:null]}),i||Object(l["d"])(e.subTitle))}})},c5f6:function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),o=n("2d95"),a=n("5dbc"),s=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,h=n("86cc").f,d=n("aa77").trim,f="Number",p=i[f],m=p,g=p.prototype,b=o(n("2aeb")(g))==f,v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():d(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var a,l=e.slice(2),c=0,u=l.length;c<u;c++)if(a=l.charCodeAt(c),a<48||a>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(b?l((function(){g.valueOf.call(n)})):o(n)!=f)?a(new m(y(e)),n,p):y(e)};for(var _,w=n("9e1e")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)r(m,_=w[x])&&!r(p,_)&&h(p,_,u(m,_));p.prototype=g,g.constructor=p,n("2aba")(i,f,p)}},c624:function(t,e,n){},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===typeof window&&(i=window)}t.exports=i},c8bb:function(t,e,n){t.exports=n("54a1")},c9cf:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var r=n("94df");function o(t,e){return t.require(e)}function a(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof t?t:0)}e.dynamicRequire=o,e.isNodeEnv=a;var s={};function l(){return a()?i:"undefined"!==typeof window?window:"undefined"!==typeof self?self:s}function c(){var t=l(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(t){var e=t.toString(16);while(e.length<4)e="0"+e;return e};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}))}function u(t){var e,n=t,i=5,r=80,o=[],a=0,s=0,l=" > ",c=l.length;while(n&&a++<i){if(e=h(n),"html"===e||a>1&&s+o.length*c+e.length>=r)break;o.push(e),s+=e.length,n=n.parentNode}return o.reverse().join(l)}function h(t){var e,n,i,o,a,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),e=t.className,e&&r.isString(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)s.push("."+n[a]);var l=["type","name","title","alt"];for(a=0;a<l.length;a++)i=l[a],o=t.getAttribute(i),o&&s.push("["+i+'="'+o+'"]');return s.join("")}function d(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function f(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function p(t){var e=l(),n=["debug","info","warn","error","log"];if(!("console"in e))return t();var i=e.console,r={};n.forEach((function(t){t in e.console&&i[t].__sentry__&&(r[t]=i[t].__sentry_wrapped__,i[t]=i[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){i[t]=r[t]})),o}e.getGlobalObject=l,e.uuid4=c,e.htmlTreeAsString=u,e.htmlElementAsString=h,e.parseUrl=d,e.getEventDescription=f,e.consoleSandbox=p}).call(this,n("f28c"),n("c8ba"))},ca5a:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},ca9a:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("daee"),l=n("055d");const c=Object(s["c"])({title:Object(s["b"])(a["l"]),titleTag:Object(s["b"])(a["l"],"h4")},o["h"]),u=i["a"].extend({name:o["h"],functional:!0,props:c,render(t,{props:e,data:n,children:i}){return t(e.titleTag,Object(r["a"])(n,{staticClass:"card-title"}),i||Object(l["d"])(e.title))}})},cadf:function(t,e,n){"use strict";var i=n("9c6c"),r=n("d53b"),o=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},cb7c:function(t,e,n){var i=n("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},cc66:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var i=n("1d04"),r=n("0bae");const o=(t,e=null)=>{Object(r["a"])()||console.warn(`[BootstrapVue warn]: ${e?e+" - ":""}${t}`)},a=t=>!i["b"]&&(o(t+": Requires MutationObserver support."),!0)},ccb9:function(t,e,n){e.f=n("5168")},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},ce10:function(t,e,n){var i=n("69a8"),r=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);while(e.length>l)i(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},ce7e:function(t,e,n){var i=n("63b6"),r=n("584a"),o=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",a)}},ce86:function(t,e,n){var i=n("9e69"),r=n("7948"),o=n("6747"),a=n("ffd6"),s=1/0,l=i?i.prototype:void 0,c=l?l.toString:void 0;function u(t){if("string"==typeof t)return t;if(o(t))return r(t,u)+"";if(a(t))return c?c.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}t.exports=u},cfd1:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("2b0e"),r=n("6b59");const o=i["a"].extend({methods:{listenOnRoot(t,e){this.$root.$on(t,e),this.$on(r["y"],()=>{this.$root.$off(t,e)})},listenOnRootOnce(t,e){this.$root.$once(t,e),this.$on(r["y"],()=>{this.$root.$off(t,e)})},emitOnRoot(t,...e){this.$root.$emit(t,...e)}}})},d225:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))},d2c8:function(t,e,n){var i=n("aae3"),r=n("be13");t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d36e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("4cbb");function o(t){var e,n,r,o,a=t.defaultIntegrations&&i.__spread(t.defaultIntegrations)||[],s=t.integrations,c=[];if(Array.isArray(s)){var u=s.map((function(t){return t.name})),h=[];try{for(var d=i.__values(a),f=d.next();!f.done;f=d.next()){var p=f.value;-1===u.indexOf(l(p))&&-1===h.indexOf(l(p))&&(c.push(p),h.push(l(p)))}}catch(v){e={error:v}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}try{for(var m=i.__values(s),g=m.next();!g.done;g=m.next()){var b=g.value;-1===h.indexOf(l(b))&&(c.push(b),h.push(l(b)))}}catch(y){r={error:y}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}}else{if("function"!==typeof s)return i.__spread(a);c=s(a),c=Array.isArray(c)?c:[c]}return c}function a(t,n){if(-1===e.installedIntegrations.indexOf(l(t))){try{t.setupOnce()}catch(i){t.install&&(r.logger.warn("Integration "+l(t)+': The install method is deprecated. Use "setupOnce".'),t.install(n))}e.installedIntegrations.push(l(t)),r.logger.log("Integration installed: "+l(t))}}function s(t){var e={};return o(t).forEach((function(n){e[l(n)]=n,a(n,t)})),e}function l(t){return t.constructor.id||t.name}e.installedIntegrations=[],e.getIntegrationsToSetup=o,e.setupIntegration=a,e.setupIntegrations=s},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d45f:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:t.sizeClasses},[t.$slots.prepend||t.prepend?n("div",{ref:"prependDiv",staticClass:"input-group-prepend"},[t._t("prepend",(function(){return[n("span",{staticClass:"input-group-text"},[t._v(t._s(t.prepend))])]}))],2):t._e(),n("input",{ref:"input",class:"form-control "+t.inputClass,attrs:{type:"search",placeholder:t.placeholder,"aria-label":t.placeholder,autocomplete:"off"},domProps:{value:t.inputValue},on:{focus:function(e){t.isFocused=!0},blur:t.handleBlur,input:function(e){return t.handleInput(e.target.value)}}}),t.$slots.append||t.append?n("div",{staticClass:"input-group-append"},[t._t("append",(function(){return[n("span",{staticClass:"input-group-text"},[t._v(t._s(t.append))])]}))],2):t._e()]),n("vue-bootstrap-typeahead-list",{directives:[{name:"show",rawName:"v-show",value:t.isFocused&&t.data.length>0,expression:"isFocused && data.length > 0"}],ref:"list",staticClass:"vbt-autcomplete-list",attrs:{query:t.inputValue,data:t.formattedData,"background-variant":t.backgroundVariant,"text-variant":t.textVariant,maxMatches:t.maxMatches,minMatchingChars:t.minMatchingChars},on:{hit:t.handleHit},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,n){return{key:n,fn:function(e){var i=e.data,r=e.htmlText;return[t._t(n,null,null,{data:i,htmlText:r})]}}}))],null,!0)})],1)},r=[],o=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-group shadow"},t._l(t.matchedItems,(function(e,i){return n("vue-bootstrap-typeahead-list-item",{key:i,attrs:{data:e.data,"html-text":t.highlight(e.text),"background-variant":t.backgroundVariant,"text-variant":t.textVariant},nativeOn:{click:function(n){return t.handleHit(e,n)}},scopedSlots:t._u([{key:"suggestion",fn:function(e){var n=e.data,i=e.htmlText;return t.$scopedSlots.suggestion?[t._t("suggestion",null,null,{data:n,htmlText:i})]:void 0}}],null,!0)})})),1)}),a=[],s=(n("4917"),n("55dd"),n("3b2b"),n("a481"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{class:t.textClasses,attrs:{tabindex:"0",href:"#"},on:{mouseover:function(e){t.active=!0},mouseout:function(e){t.active=!1}}},[t._t("suggestion",(function(){return[n("span",{domProps:{innerHTML:t._s(t.htmlText)}})]}),null,{data:t.data,htmlText:t.htmlText})],2)}),l=[],c={name:"VueBootstrapTypeaheadListItem",props:{data:{},htmlText:{type:String},backgroundVariant:{type:String},textVariant:{type:String}},data:function(){return{active:!1}},computed:{textClasses:function(){var t="";return t+=this.active?"active":"",t+=this.backgroundVariant?" bg-".concat(this.backgroundVariant):"",t+=this.textVariant?" text-".concat(this.textVariant):"","vbst-item list-group-item list-group-item-action ".concat(t)}}},u=c,h=n("2877"),d=Object(h["a"])(u,s,l,!1,null,null,null),f=d.exports;function p(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var g={name:"VueBootstrapTypeaheadList",components:{VueBootstrapTypeaheadListItem:f},props:{data:{type:Array,required:!0,validator:function(t){return t instanceof Array}},query:{type:String,default:""},backgroundVariant:{type:String},textVariant:{type:String},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2}},computed:{highlight:function(){var t=this;return function(e){if(e=p(e),0===t.query.length)return e;var n=new RegExp(t.escapedQuery,"gi");return e.replace(n,"<strong>$&</strong>")}},escapedQuery:function(){return m(p(this.query))},matchedItems:function(){if(0===this.query.length||this.query.length<this.minMatchingChars)return[];var t=new RegExp(this.escapedQuery,"gi");return this.data.filter((function(e){return null!==e.text.match(t)})).sort((function(e,n){var i=e.text.indexOf(e.text.match(t)[0]),r=n.text.indexOf(n.text.match(t)[0]);return i<r?-1:i>r?1:0})).slice(0,this.maxMatches)}},methods:{handleHit:function(t,e){this.$emit("hit",t),e.preventDefault()}}},b=g,v=Object(h["a"])(b,o,a,!1,null,null,null),y=v.exports,_=n("6dd8"),w={name:"VueBootstrapTypehead",components:{VueBootstrapTypeaheadList:y},props:{size:{type:String,default:null,validator:function(t){return["lg","sm"].indexOf(t)>-1}},value:{type:String},data:{type:Array,required:!0,validator:function(t){return t instanceof Array}},serializer:{type:Function,default:function(t){return t},validator:function(t){return t instanceof Function}},backgroundVariant:String,textVariant:String,inputClass:{type:String,default:""},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},placeholder:String,prepend:String,append:String},computed:{sizeClasses:function(){return this.size?"input-group input-group-".concat(this.size):"input-group"},formattedData:function(){var t=this;return this.data instanceof Array?this.data.map((function(e,n){return{id:n,data:e,text:t.serializer(e)}})):[]}},methods:{resizeList:function(t){var e=t.getBoundingClientRect(),n=this.$refs.list.$el.style;if(n.width=e.width+"px",this.$refs.prependDiv){var i=this.$refs.prependDiv.getBoundingClientRect();n.marginLeft=i.width+"px"}},handleHit:function(t){"undefined"!==typeof this.value&&this.$emit("input",t.text),this.inputValue=t.text,this.$emit("hit",t.data),this.$refs.input.blur(),this.isFocused=!1},handleBlur:function(t){var e=t.relatedTarget;e&&e.classList.contains("vbst-item")||(this.isFocused=!1)},handleInput:function(t){this.inputValue=t,"undefined"!==typeof this.value&&this.$emit("input",t)}},data:function(){return{isFocused:!1,inputValue:""}},mounted:function(){var t=this;this.$_ro=new _["a"]((function(e){t.resizeList(t.$refs.input)})),this.$_ro.observe(this.$refs.input),this.$_ro.observe(this.$refs.list.$el)},beforeDestroy:function(){this.$_ro.disconnect()}},x=w,E=(n("6640"),Object(h["a"])(x,i,r,!1,null,"a0e87de4",null));e["a"]=E.exports},d4c0:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("6e29");const r=Object(i["a"])("$listeners","bvListeners")},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d7d3:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("3372"),r=n("cc66");const o=(t,e,n)=>{if(t=t?t.$el||t:null,!Object(i["n"])(t))return null;if(Object(r["b"])("observeDom"))return null;const o=new i["a"](t=>{let n=!1;for(let e=0;e<t.length&&!n;e++){const i=t[e],r=i.type,o=i.target;("characterData"===r&&o.nodeType===Node.TEXT_NODE||"attributes"===r||"childList"===r&&(i.addedNodes.length>0||i.removedNodes.length>0))&&(n=!0)}n&&e()});return o.observe(t,{childList:!0,subtree:!0,...n}),o}},d864:function(t,e,n){var i=n("79aa");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d917:function(t,n,i){"use strict";i.d(n,"b",(function(){return f})),i.d(n,"a",(function(){return s}));var r=i("a866"),o=i("391b");function a(t){return!!o["a"].has(t)||!Number.isNaN(+t)}function s(t,{comment_char:e="#",delimiter:n="\t"}={}){return t.startsWith(e)||t.split(n).every(t=>!a(t))}function l(t,e){const n=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(null));for(let i=0;i<=t.length;i+=1)n[0][i]=i;for(let i=0;i<=e.length;i+=1)n[i][0]=i;for(let i=1;i<=e.length;i+=1)for(let r=1;r<=t.length;r+=1){const o=t[r-1]===e[i-1]?0:1;n[i][r]=Math.min(n[i][r-1]+1,n[i-1][r]+1,n[i-1][r-1]+o)}return n[e.length][t.length]}function c(t,e,n=2){let i=n+1,r=null;for(let o=0;o<e.length;o++){const n=e[o];if(null===n)continue;const a=Math.min(...t.map(t=>l(n,t)));a<i&&(i=a,r=o)}return r}function u(t,n){const i=["neg_log_pvalue","log_pvalue","log_pval","logpvalue"],r=["pvalue","p.value","p-value","pval","p_score","p","p_value"];let a;const s=(t,n,i)=>{const r=Object(o["b"])(n.map(e=>e[t]));try{a=r.map(t=>Object(o["f"])(t,i))}catch(e){return!1}return a.every(t=>!Number.isNaN(t))},l=c(i,t),u=c(r,t);return null!==l&&s(l,n,!0)?{pvalue_col:l+1,is_neg_log_pvalue:!0}:u&&s(u,n,!1)?{pvalue_col:u+1,is_neg_log_pvalue:!1}:null}function h(t,e){const n=["snpid","marker","markerid","snpmarker","chr:position"],i=["chrom","chr","chromosome"],o=["position","pos","begin","beg","bp","end","ps","base_pair_location"],a=["A1","ref","reference","allele0","allele1"],s=["A2","alt","alternate","allele1","allele2"],l=e[0];let u=c(n,t);if(null!==u&&Object(r["b"])(l[u],!0))return u+=1,{marker_col:u};const h=t.slice(),d=[["chrom_col",i,!0],["pos_col",o,!0],["ref_col",a,!1],["alt_col",s,!1]],f={};for(let r=0;r<d.length;r++){const[t,e,n]=d[r],i=c(e,h);if(null===i&&n)return null;null!==i&&(f[t]=i+1,h[i]=null)}return f}function d(t,n){const i=["beta","effect_size","alt_effsize","effect"],r=["stderr_beta","stderr","sebeta","effect_size_sd","se","standard_error"];function a(t,n){const i=Object(o["b"])(n.map(e=>e[t]));let r;try{r=i.filter(t=>null!==t).map(t=>+t)}catch(e){return!1}return r.every(t=>!Number.isNaN(t))}const s=c(i,t,0),l=c(r,t,0),u={};return null!==s&&a(s,n)&&(u.beta_col=s+1),null!==l&&a(l,n)&&(u.stderr_beta_col=l+1),u}function f(t,e,n=1){const i=t.map(t=>t?t.toLowerCase():t);i[0].replace("/^#+/","");const r=u(i,e,n);if(!r)return null;i[r.pvalue_col-1]=null;const o=h(i,e);if(!o)return null;Object.keys(o).forEach(t=>{i[o[t]]=null});const a=d(i,e);return r&&o?Object.assign({},r,o,a||{}):null}},d9c0:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(t,e)=>t.map((t,e)=>[e,t]).sort(function(t,e){return this(t[1],e[1])||t[0]-e[0]}.bind(e)).map(t=>t[1])},d9f6:function(t,n,i){var r=i("e4ae"),o=i("794b"),a=i("1bc3"),s=Object.defineProperty;n.f=i("8e60")?Object.defineProperty:function(t,n,i){if(r(t),n=a(n,!0),r(i),o)try{return s(t,n,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[n]=i.value),t}},da92:function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";
/** 
 * @module stats 
 * @license MIT
 * */
function i(t){var e=.425,n=5,i=.180625,r=1.6,o=[3.3871328727963665,133.14166789178438,1971.5909503065513,13731.69376550946,45921.95393154987,67265.7709270087,33430.57558358813,2509.0809287301227],a=[42.31333070160091,687.1870074920579,5394.196021424751,21213.794301586597,39307.89580009271,28729.085735721943,5226.495278852854],s=[1.4234371107496835,4.630337846156546,5.769497221460691,3.6478483247632045,1.2704582524523684,.2417807251774506,.022723844989269184,.0007745450142783414],l=[2.053191626637759,1.6763848301838038,.6897673349851,.14810397642748008,.015198666563616457,.0005475938084995345,1.0507500716444169e-9],c=[6.657904643501103,5.463784911164114,1.7848265399172913,.29656057182850487,.026532189526576124,.0012426609473880784,27115555687434876e-21,2.0103343992922881e-7],u=[.599832206555888,.1369298809227358,.014875361290850615,.0007868691311456133,18463183175100548e-21,1.421511758316446e-7,20442631033899397e-31],h=t-.5,d=void 0,f=void 0;if(Math.abs(h)<e)return d=i-h*h,h*(((((((o[7]*d+o[6])*d+o[5])*d+o[4])*d+o[3])*d+o[2])*d+o[1])*d+o[0])/(((((((a[6]*d+a[5])*d+a[4])*d+a[3])*d+a[2])*d+a[1])*d+a[0])*d+1);if(d=h<0?t:1-t,!(d>0))throw"Not implemented";return d=Math.sqrt(-Math.log(d)),d<=n?(d-=r,f=(((((((s[7]*d+s[6])*d+s[5])*d+s[4])*d+s[3])*d+s[2])*d+s[1])*d+s[0])/(((((((l[6]*d+l[5])*d+l[4])*d+l[3])*d+l[2])*d+l[1])*d+l[0])*d+1)):(d-=n,f=(((((((c[7]*d+c[6])*d+c[5])*d+c[4])*d+c[3])*d+c[2])*d+c[1])*d+c[0])/(((((((u[6]*d+u[5])*d+u[4])*d+u[3])*d+u[2])*d+u[1])*d+u[0])*d+1)),h<0&&(f=-f),f}Object.defineProperty(e,"__esModule",{value:!0});var r={ninv:i};e.ninv=i,e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.marking=e.stats=e.scoring=void 0;var i=n(0),r=c(i),o=n(2),a=c(o),s=n(3),l=c(s);function c(t){return t&&t.__esModule?t:{default:t}}e.scoring=a.default,e.stats=r.default,e.marking=l.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._nlogp_to_z2=e.normalizeProbabilities=e.bayesFactors=void 0;var i=n(0);function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}
/** 
                                                                                                                                                                                                     * @module scoring 
                                                                                                                                                                                                     * @license MIT
                                                                                                                                                                                                     */function o(t){var e=Math.pow(10,-t);return t<300?Math.pow((0,i.ninv)(e/2),2):4.59884133027944*t-5.88085867031722}function a(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(t)||!t.length)throw"Must provide a non-empty array of pvalues";var n=t.map((function(t){return o(t)/2}));if(e){var i=Math.max.apply(Math,r(n))-708;i>0&&(n=n.map((function(t){return t-i})))}return n.map((function(t){return Math.exp(t)}))}function s(t){var e=t.reduce((function(t,e){return t+e}),0);return t.map((function(t){return t/e}))}var l={bayesFactors:a,normalizeProbabilities:s};e.default=l,e.bayesFactors=a,e.normalizeProbabilities=s,e._nlogp_to_z2=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();
/**
 * @module marking
 * @license MIT
 */function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95;if(!Array.isArray(t)||!t.length)throw"Probs must be a non-empty array";if("number"!==typeof e||e<0||e>1||Number.isNaN(e))throw"Cutoff must be a number between 0 and 1";var n=t.reduce((function(t,e){return t+e}),0);if(n<=0)throw"Sum of provided probabilities must be > 0";for(var r=t.map((function(t,e){return[t,e]})).sort((function(t,e){return e[0]-t[0]})),o=0,a=new Array(r.length).fill(0),s=0;s<r.length;s++){var l=i(r[s],2),c=l[0],u=l[1];if(!(o<e))break;var h=c/n;a[u]=h,o+=h}return a}function o(t){return t.map((function(t){return!!t}))}function a(t){var e=t.reduce((function(t,e){return t+e}),0);return t.map((function(t){return t/e}))}var s={findCredibleSet:r,markBoolean:o,rescaleCredibleSet:a};e.default=s,e.findCredibleSet=r,e.markBoolean=o,e.rescaleCredibleSet=a}])}))},daee:function(t,e,n){"use strict";n.d(e,"e",(function(){return u})),n.d(e,"g",(function(){return h})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return m})),n.d(e,"c",(function(){return b}));var i=n("1f62"),r=n("5bbd"),o=n("3844"),a=n("29b3"),s=n("1524"),l=n("0a38"),c=n("055d");const u=(t,e)=>t+Object(c["e"])(e),h=(t,e)=>Object(c["c"])(e.replace(t,"")),d=(t,e)=>e+(t?Object(c["e"])(t):""),f=(t=i["a"],e,n,r)=>{const o=!0===n;return r=o?r:n,{...t?{type:t}:{},...o?{required:o}:Object(s["k"])(e)?{}:{default:Object(s["h"])(e)?()=>e:e},...Object(s["k"])(r)?{}:{validator:r}}},p=(t,e=a["a"])=>{if(Object(s["a"])(t))return t.map(e);const n={};for(const i in t)Object(l["f"])(t,i)&&(n[e(i)]=Object(s["h"])(t[i])?Object(l["b"])(t[i]):t[i]);return n},m=(t,e,n=a["a"])=>(Object(s["a"])(t)?t.slice():Object(l["g"])(t)).reduce((t,i)=>(t[n(i)]=e[i],t),{}),g=(t,e,n)=>({...Object(r["a"])(t),default:function(){const i=Object(o["b"])(n,e,t.default);return Object(s["e"])(i)?i():i}}),b=(t,e)=>Object(l["g"])(t).reduce((n,i)=>({...n,[i]:g(t[i],i,e)}),{});g({},"","").default.name},dbb6:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("8c63"),l=n("c4be"),c=n("46d3"),u=n("0a38"),h=n("daee"),d=n("6066"),f=n("9fda"),p=n("a091"),m=n("c15e"),g=n("0305");const b=Object(h["a"])(g["b"],h["e"].bind(null,"img"));b.imgSrc.required=!1;const v=Object(h["c"])(Object(u["l"])({...f["b"],...p["b"],...m["b"],...b,...d["a"],align:Object(h["b"])(a["l"]),noBody:Object(h["b"])(a["e"],!1)}),o["b"]),y=i["a"].extend({name:o["b"],functional:!0,props:v,render(t,{props:e,data:n,slots:i,scopedSlots:o}){const{imgSrc:a,imgLeft:u,imgRight:d,imgStart:v,imgEnd:y,imgBottom:_,header:w,headerHtml:x,footer:E,footerHtml:C,align:k,textVariant:M,bgVariant:O,borderVariant:T}=e,S=o||{},R=i(),j={};let L=t(),A=t();if(a){const n=t(g["a"],{props:Object(h["d"])(b,e,h["g"].bind(null,"img"))});_?A=n:L=n}let D=t();const z=Object(c["a"])(s["g"],S,R);(z||w||x)&&(D=t(p["a"],{props:Object(h["d"])(p["b"],e),domProps:z?{}:Object(l["a"])(x,w)},Object(c["b"])(s["g"],j,S,R)));let P=Object(c["b"])(s["b"],j,S,R);e.noBody||(P=t(f["a"],{props:Object(h["d"])(f["b"],e)},P),e.overlay&&a&&(P=t("div",{staticClass:"position-relative"},[L,P,A]),L=t(),A=t()));let N=t();const F=Object(c["a"])(s["f"],S,R);return(F||E||C)&&(N=t(m["a"],{props:Object(h["d"])(m["b"],e),domProps:z?{}:Object(l["a"])(C,E)},Object(c["b"])(s["f"],j,S,R))),t(e.tag,Object(r["a"])(n,{staticClass:"card",class:{"flex-row":u||v,"flex-row-reverse":(d||y)&&!(u||v),["text-"+k]:k,["bg-"+O]:O,["border-"+T]:T,["text-"+M]:M}}),[L,D,P,N,A])}})},dbdb:function(t,e,n){var i=n("584a"),r=n("e53d"),o="__core-js_shared__",a=r[o]||(r[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("b8e3")?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},dc62:function(t,e,n){n("9427");var i=n("584a").Object;t.exports=function(t,e){return i.create(t,e)}},dcbc:function(t,e,n){var i=n("2aba");t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},ddc6:function(t,e){function n(t){return function(e){return null==t?void 0:t[e]}}t.exports=n},e117:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("055d");const r=t=>"\\"+t,o=t=>{t=Object(i["d"])(t);const e=t.length,n=t.charCodeAt(0);return t.split("").reduce((i,o,a)=>{const s=t.charCodeAt(a);return 0===s?i+"":127===s||s>=1&&s<=31||0===a&&s>=48&&s<=57||1===a&&s>=48&&s<=57&&45===n?i+r(s.toString(16)+" "):0===a&&45===s&&1===e?i+r(o):s>=128||45===s||95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?i+o:i+r(o)},"")}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e2cc:function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var i=n("2b0e"),r=n("4e82");const o="show";var a=n("1d04"),s=n("6b59"),l=n("1f62"),c=n("8c63"),u=n("3372"),h=n("5d4f"),d=n("b934"),f=n("0a38"),p=n("daee"),m=n("070c"),g=n("cfd1"),b=n("2389"),v=n("b42e");const y=t=>{Object(u["z"])(t,"height",0),Object(u["v"])(()=>{Object(u["r"])(t),Object(u["z"])(t,"height",t.scrollHeight+"px")})},_=t=>{Object(u["u"])(t,"height")},w=t=>{Object(u["z"])(t,"height","auto"),Object(u["z"])(t,"display","block"),Object(u["z"])(t,"height",Object(u["h"])(t).height+"px"),Object(u["r"])(t),Object(u["z"])(t,"height",0)},x=t=>{Object(u["u"])(t,"height")},E={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},C={enter:y,afterEnter:_,leave:w,afterLeave:x},k={appear:Object(p["b"])(l["e"],!1)},M=i["a"].extend({name:r["k"],functional:!0,props:k,render(t,{props:e,data:n,children:i}){return t("transition",Object(v["a"])(n,{props:E,on:C},{props:e}),i)}}),O=Object(h["d"])(r["j"],"toggle"),T=Object(h["d"])(r["j"],"request-state"),S=Object(h["e"])(r["j"],"accordion"),R=Object(h["e"])(r["j"],"state"),j=Object(h["e"])(r["j"],"sync-state"),{mixin:L,props:A,prop:D,event:z}=Object(d["a"])("visible",{type:l["e"],defaultValue:!1}),P=Object(p["c"])(Object(f["l"])({...m["b"],...A,accordion:Object(p["b"])(l["l"]),appear:Object(p["b"])(l["e"],!1),isNav:Object(p["b"])(l["e"],!1),tag:Object(p["b"])(l["l"],"div")}),r["j"]),N=i["a"].extend({name:r["j"],mixins:[m["a"],L,b["a"],g["a"]],props:P,data(){return{show:this[D],transitioning:!1}},computed:{classObject(){const{transitioning:t}=this;return{"navbar-collapse":this.isNav,collapse:!t,show:this.show&&!t}},slotScope(){return{visible:this.show,close:()=>{this.show=!1}}}},watch:{[D](t){t!==this.show&&(this.show=t)},show(t,e){t!==e&&this.emitState()}},created(){this.show=this[D]},mounted(){this.show=this[D],this.listenOnRoot(O,this.handleToggleEvt),this.listenOnRoot(S,this.handleAccordionEvt),this.isNav&&(this.setWindowEvents(!0),this.handleResize()),this.$nextTick(()=>{this.emitState()}),this.listenOnRoot(T,t=>{t===this.safeId()&&this.$nextTick(this.emitSync)})},updated(){this.emitSync()},deactivated(){this.isNav&&this.setWindowEvents(!1)},activated(){this.isNav&&this.setWindowEvents(!0),this.emitSync()},beforeDestroy(){this.show=!1,this.isNav&&a["f"]&&this.setWindowEvents(!1)},methods:{setWindowEvents(t){Object(h["c"])(t,window,"resize",this.handleResize,s["w"]),Object(h["c"])(t,window,"orientationchange",this.handleResize,s["w"])},toggle(){this.show=!this.show},onEnter(){this.transitioning=!0,this.$emit(s["t"])},onAfterEnter(){this.transitioning=!1,this.$emit(s["u"])},onLeave(){this.transitioning=!0,this.$emit(s["m"])},onAfterLeave(){this.transitioning=!1,this.$emit(s["l"])},emitState(){const{show:t,accordion:e}=this,n=this.safeId();this.$emit(z,t),this.emitOnRoot(R,n,t),e&&t&&this.emitOnRoot(S,n,e)},emitSync(){this.emitOnRoot(j,this.safeId(),this.show)},checkDisplayBlock(){const{$el:t}=this,e=Object(u["l"])(t,o);Object(u["t"])(t,o);const n="block"===Object(u["j"])(t).display;return e&&Object(u["b"])(t,o),n},clickHandler(t){const{target:e}=t;this.isNav&&e&&"block"===Object(u["j"])(this.$el).display&&(!Object(u["q"])(e,".nav-link,.dropdown-item")&&!Object(u["e"])(".nav-link,.dropdown-item",e)||this.checkDisplayBlock()||(this.show=!1))},handleToggleEvt(t){t===this.safeId()&&this.toggle()},handleAccordionEvt(t,e){const{accordion:n,show:i}=this;if(!n||n!==e)return;const r=t===this.safeId();(r&&!i||!r&&i)&&this.toggle()},handleResize(){this.show="block"===Object(u["j"])(this.$el).display}},render(t){const{appear:e}=this,n=t(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()},on:{click:this.clickHandler}},this.normalizeSlot(c["b"],this.slotScope));return t(M,{props:{appear:e},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[n])}})},e325:function(t,n,r){"use strict";var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!==typeof t)throw new TypeError("predicate must be a function");var i=arguments[1],r=0;while(r<n){var o=e[r];if(t.call(i,o,r,e))return r;r++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!==typeof t)throw new TypeError("predicate must be a function");var i=arguments[1],r=0;while(r<n){var o=e[r];if(t.call(i,o,r,e))return o;r++}}}),String.prototype.includes||(String.prototype.includes=function(t,e){if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===e&&(e=0),-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;var r=0|e,o=Math.max(r>=0?r:i-Math.abs(r),0);function a(t,e){return t===e||"number"===typeof t&&"number"===typeof e&&isNaN(t)&&isNaN(e)}while(o<i){if(a(n[o],t))return!0;o++}return!1}}),"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null===t||void 0===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!==r&&void 0!==r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0});var a=function(t){this.table=t,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};a.prototype.createHeadersElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t},a.prototype.createHeaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-header"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t},a.prototype.initialize=function(){},a.prototype.setRowManager=function(t){this.rowManager=t},a.prototype.getElement=function(){return this.element},a.prototype.getHeadersElement=function(){return this.headersElement},a.prototype.scrollHorizontal=function(t){var e=0,n=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=t,t>n?(e=t-n,this.element.style.marginLeft=-e+"px"):this.element.style.marginLeft=0,this.scrollLeft=t,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},a.prototype.generateColumnsFromRowData=function(t){var e,n,i=[],r=this.table.options.autoColumnsDefinitions;if(t&&t.length){for(var a in e=t[0],e){var s={field:a,title:a},l=e[a];switch("undefined"===typeof l?"undefined":o(l)){case"undefined":n="string";break;case"boolean":n="boolean";break;case"object":n=Array.isArray(l)?"array":"string";break;default:n=isNaN(l)||""===l?l.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number";break}s.sorter=n,i.push(s)}if(r)switch("undefined"===typeof r?"undefined":o(r)){case"function":this.table.options.columns=r.call(this.table,i);break;case"object":Array.isArray(r)?i.forEach((function(t){var e=r.find((function(e){return e.field===t.field}));e&&Object.assign(t,e)})):i.forEach((function(t){r[t.field]&&Object.assign(t,r[t.field])})),this.table.options.columns=i;break}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}},a.prototype.setColumns=function(t,e){var n=this;while(n.headersElement.firstChild)n.headersElement.removeChild(n.headersElement.firstChild);n.columns=[],n.columnsByIndex=[],n.columnsByField={},n.table.modExists("frozenColumns")&&n.table.modules.frozenColumns.reset(),t.forEach((function(t,e){n._addColumn(t)})),n._reIndexColumns(),n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout",!0)&&n.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!1,!0),n.redraw(!0)},a.prototype._addColumn=function(t,e,n){var i=new l(t,this),r=i.getElement(),o=n?this.findColumnIndex(n):n;if(n&&o>-1){var a=this.columns.indexOf(n.getTopColumn()),s=n.getElement();e?(this.columns.splice(a,0,i),s.parentNode.insertBefore(r,s)):(this.columns.splice(a+1,0,i),s.parentNode.insertBefore(r,s.nextSibling))}else e?(this.columns.unshift(i),this.headersElement.insertBefore(i.getElement(),this.headersElement.firstChild)):(this.columns.push(i),this.headersElement.appendChild(i.getElement())),i.columnRendered();return i},a.prototype.registerColumnField=function(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)},a.prototype.registerColumnPosition=function(t){this.columnsByIndex.push(t)},a.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach((function(t){t.reRegisterPosition()}))},a.prototype._verticalAlignHeaders=function(){var t=this,e=0;t.columns.forEach((function(t){var n;t.clearVerticalAlign(),n=t.getHeight(),n>e&&(e=n)})),t.columns.forEach((function(n){n.verticalAlign(t.table.options.columnHeaderVertAlign,e)})),t.rowManager.adjustTableSize()},a.prototype.findColumn=function(t){var e=this;if("object"!=("undefined"===typeof t?"undefined":o(t)))return this.columnsByField[t]||!1;if(t instanceof l)return t;if(t instanceof s)return t._getSelf()||!1;if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement){var n=e.columns.find((function(e){return e.element===t}));return n||!1}return!1},a.prototype.getColumnByField=function(t){return this.columnsByField[t]},a.prototype.getColumnsByFieldRoot=function(t){var e=this,n=[];return Object.keys(this.columnsByField).forEach((function(i){var r=i.split(".")[0];r===t&&n.push(e.columnsByField[i])})),n},a.prototype.getColumnByIndex=function(t){return this.columnsByIndex[t]},a.prototype.getFirstVisibileColumn=function(t){t=this.columnsByIndex.findIndex((function(t){return t.visible}));return t>-1&&this.columnsByIndex[t]},a.prototype.getColumns=function(){return this.columns},a.prototype.findColumnIndex=function(t){return this.columnsByIndex.findIndex((function(e){return t===e}))},a.prototype.getRealColumns=function(){return this.columnsByIndex},a.prototype.traverse=function(t){var e=this;e.columnsByIndex.forEach((function(e,n){t(e,n)}))},a.prototype.getDefinitions=function(t){var e=this,n=[];return e.columnsByIndex.forEach((function(e){(!t||t&&e.visible)&&n.push(e.getDefinition())})),n},a.prototype.getDefinitionTree=function(){var t=this,e=[];return t.columns.forEach((function(t){e.push(t.getDefinition(!0))})),e},a.prototype.getComponents=function(t){var e=this,n=[],i=t?e.columns:e.columnsByIndex;return i.forEach((function(t){n.push(t.getComponent())})),n},a.prototype.getWidth=function(){var t=0;return this.columnsByIndex.forEach((function(e){e.visible&&(t+=e.getWidth())})),t},a.prototype.moveColumn=function(t,e,n){this.moveColumnActual(t,e,n),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e.element.parentNode.insertBefore(t.element,e.element),n&&e.element.parentNode.insertBefore(e.element,t.element),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},a.prototype.moveColumnActual=function(t,e,n){t.parent.isGroup?this._moveColumnInArray(t.parent.columns,t,e,n):this._moveColumnInArray(this.columns,t,e,n),this._moveColumnInArray(this.columnsByIndex,t,e,n,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!0),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,t.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},a.prototype._moveColumnInArray=function(t,e,n,i,r){var o,a=this,s=t.indexOf(e),l=[];s>-1&&(t.splice(s,1),o=t.indexOf(n),o>-1?i&&(o+=1):o=s,t.splice(o,0,e),r&&(this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.rowManager.rows.forEach((function(t){l=l.concat(a.table.modules.dataTree.getTreeChildren(t,!1,!0))})),l=l.concat(this.table.rowManager.rows),l.forEach((function(t){if(t.cells.length){var e=t.cells.splice(s,1)[0];t.cells.splice(o,0,e)}}))))},a.prototype.scrollToColumn=function(t,e,n){var i=this,r=0,o=0,a=0,s=t.getElement();return new Promise((function(l,c){if("undefined"===typeof e&&(e=i.table.options.scrollToColumnPosition),"undefined"===typeof n&&(n=i.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":a=-i.element.clientWidth/2;break;case"right":a=s.clientWidth-i.headersElement.clientWidth;break}if(!n&&(o=s.offsetLeft,o>0&&o+s.offsetWidth<i.element.clientWidth))return!1;r=s.offsetLeft+a,r=Math.max(Math.min(r,i.table.rowManager.element.scrollWidth-i.table.rowManager.element.clientWidth),0),i.table.rowManager.scrollHorizontal(r),i.scrollHorizontal(r),l()}else console.warn("Scroll Error - Column not visible"),c("Scroll Error - Column not visible")}))},a.prototype.generateCells=function(t){var e=this,n=[];return e.columnsByIndex.forEach((function(e){n.push(e.generateCell(t))})),n},a.prototype.getFlexBaseWidth=function(){var t=this,e=t.table.element.clientWidth,n=0;return t.rowManager.element.scrollHeight>t.rowManager.element.clientHeight&&(e-=t.rowManager.element.offsetWidth-t.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(i){var r,o,a;i.visible&&(r=i.definition.width||0,o="undefined"==typeof i.minWidth?t.table.options.columnMinWidth:parseInt(i.minWidth),a="string"==typeof r?r.indexOf("%")>-1?e/100*parseInt(r):parseInt(r):r,n+=a>o?a:o)})),n},a.prototype.addColumn=function(t,e,n){var i=this;return new Promise((function(r,o){var a=i._addColumn(t,e,n);i._reIndexColumns(),i.table.options.responsiveLayout&&i.table.modExists("responsiveLayout",!0)&&i.table.modules.responsiveLayout.initialize(),i.table.modExists("columnCalcs")&&i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows),i.redraw(!0),"fitColumns"!=i.table.modules.layout.getMode()&&a.reinitializeWidth(),i._verticalAlignHeaders(),i.table.rowManager.reinitialize(),i.table.options.virtualDomHoz&&i.table.vdomHoz.reinitialize(),r(a)}))},a.prototype.deregisterColumn=function(t){var e,n=t.getField();n&&delete this.columnsByField[n],e=this.columnsByIndex.indexOf(t),e>-1&&this.columnsByIndex.splice(e,1),e=this.columns.indexOf(t),e>-1&&this.columns.splice(e,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this._verticalAlignHeaders(),this.redraw()},a.prototype.redraw=function(t){t&&(g.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),["fitColumns","fitDataStretch"].indexOf(this.table.modules.layout.getMode())>-1||t?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t&&(this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var s=function(t){this._column=t,this.type="ColumnComponent"};s.prototype.getElement=function(){return this._column.getElement()},s.prototype.getDefinition=function(){return this._column.getDefinition()},s.prototype.getField=function(){return this._column.getField()},s.prototype.getCells=function(){var t=[];return this._column.cells.forEach((function(e){t.push(e.getComponent())})),t},s.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._column.visible},s.prototype.isVisible=function(){return this._column.visible},s.prototype.show=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.show()})):this._column.show()},s.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.hide()})):this._column.hide()},s.prototype.toggle=function(){this._column.visible?this.hide():this.show()},s.prototype.delete=function(){return this._column.delete()},s.prototype.getSubColumns=function(){var t=[];return this._column.columns.length&&this._column.columns.forEach((function(e){t.push(e.getComponent())})),t},s.prototype.getParentColumn=function(){return this._column.parent instanceof l&&this._column.parent.getComponent()},s.prototype._getSelf=function(){return this._column},s.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},s.prototype.getTable=function(){return this._column.table},s.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},s.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},s.prototype.getHeaderFilterValue=function(){if(this._column.table.modExists("filter",!0))return this._column.table.modules.filter.getHeaderFilterValue(this._column)},s.prototype.setHeaderFilterValue=function(t){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,t)},s.prototype.move=function(t,e){var n=this._column.table.columnManager.findColumn(t);n?this._column.table.columnManager.moveColumn(this._column,n,e):console.warn("Move Error - No matching column found:",n)},s.prototype.getNextColumn=function(){var t=this._column.nextColumn();return!!t&&t.getComponent()},s.prototype.getPrevColumn=function(){var t=this._column.prevColumn();return!!t&&t.getComponent()},s.prototype.updateDefinition=function(t){return this._column.updateDefinition(t)},s.prototype.getWidth=function(){return this._column.getWidth()},s.prototype.setWidth=function(t){var e;return e=!0===t?this._column.reinitializeWidth(!0):this._column.setWidth(t),this._column.table.options.virtualDomHoz&&this._column.table.vdomHoz.reinitialize(!0),e},s.prototype.validate=function(){return this._column.validate()};var l=function t(e,n){var i=this;this.table=n.table,this.definition=e,this.parent=n,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.setField(this.definition.field),this.table.options.invalidOptionWarnings&&this.checkDefinition(),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this._mapDepricatedFunctionality(),e.columns?(this.isGroup=!0,e.columns.forEach((function(e,n){var r=new t(e,i);i.attachColumn(r)})),i.checkColumnVisibility()):n.registerColumnField(this),e.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader(),this.bindModuleColumns()};l.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.setAttribute("role","columnheader"),t.setAttribute("aria-sort","none"),t},l.prototype.createGroupElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col-group-cols"),t},l.prototype.checkDefinition=function(){var t=this;Object.keys(this.definition).forEach((function(e){-1===t.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(t.field||t.definition.title)+"' column:",e)}))},l.prototype.setField=function(t){this.field=t,this.fieldStructure=t?this.table.options.nestedFieldSeparator?t.split(this.table.options.nestedFieldSeparator):[t]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData},l.prototype.registerColumnPosition=function(t){this.parent.registerColumnPosition(t)},l.prototype.registerColumnField=function(t){this.parent.registerColumnField(t)},l.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach((function(t){t.reRegisterPosition()})):this.registerColumnPosition(this)},l.prototype._mapDepricatedFunctionality=function(){"undefined"!==typeof this.definition.hideInHtml&&(this.definition.htmlOutput=!this.definition.hideInHtml,console.warn("hideInHtml column definition property is deprecated, you should now use htmlOutput")),"undefined"!==typeof this.definition.align&&(this.definition.hozAlign=this.definition.align,console.warn("align column definition property is deprecated, you should now use hozAlign")),"undefined"!==typeof this.definition.downloadTitle&&(this.definition.titleDownload=this.definition.downloadTitle,console.warn("downloadTitle definition property is deprecated, you should now use titleDownload"))},l.prototype.setTooltip=function(){var t=this,e=t.definition,n=e.headerTooltip||!1===e.tooltip?e.headerTooltip:t.table.options.tooltipsHeader;n?!0===n?e.field?t.table.modules.localize.bind("columns|"+e.field,(function(n){t.element.setAttribute("title",n||e.title)})):t.element.setAttribute("title",e.title):("function"==typeof n&&(n=n(t.getComponent()),!1===n&&(n="")),t.element.setAttribute("title",n)):t.element.setAttribute("title","")},l.prototype._buildHeader=function(){var t=this,e=t.definition;while(t.element.firstChild)t.element.removeChild(t.element.firstChild);e.headerVertical&&(t.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&t.element.classList.add("tabulator-col-vertical-flip")),t.contentElement=t._bindEvents(),t.contentElement=t._buildColumnHeaderContent(),t.element.appendChild(t.contentElement),t.isGroup?t._buildGroupHeader():t._buildColumnHeader(),t.setTooltip(),t.table.options.resizableColumns&&t.table.modExists("resizeColumns")&&t.table.modules.resizeColumns.initializeColumn("header",t,t.element),e.headerFilter&&t.table.modExists("filter")&&t.table.modExists("edit")&&("undefined"!==typeof e.headerFilterPlaceholder&&e.field&&t.table.modules.localize.setHeaderFilterColumnPlaceholder(e.field,e.headerFilterPlaceholder),t.table.modules.filter.initializeColumn(t)),t.table.modExists("frozenColumns")&&t.table.modules.frozenColumns.initializeColumn(t),t.table.options.movableColumns&&!t.isGroup&&t.table.modExists("moveColumn")&&t.table.modules.moveColumn.initializeColumn(t),(e.topCalc||e.bottomCalc)&&t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.initializeColumn(t),t.table.modExists("persistence")&&t.table.modules.persistence.config.columns&&t.table.modules.persistence.initializeColumn(t),t.element.addEventListener("mouseenter",(function(e){t.setTooltip()}))},l.prototype._bindEvents=function(){var t,e,n,i=this,r=i.definition;"function"==typeof r.headerClick&&i.element.addEventListener("click",(function(t){r.headerClick(t,i.getComponent())})),"function"==typeof r.headerDblClick&&i.element.addEventListener("dblclick",(function(t){r.headerDblClick(t,i.getComponent())})),"function"==typeof r.headerContext&&i.element.addEventListener("contextmenu",(function(t){r.headerContext(t,i.getComponent())})),"function"==typeof r.headerTap&&(n=!1,i.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),i.element.addEventListener("touchend",(function(t){n&&r.headerTap(t,i.getComponent()),n=!1}))),"function"==typeof r.headerDblTap&&(t=null,i.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,r.headerDblTap(e,i.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),"function"==typeof r.headerTapHold&&(e=null,i.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,r.headerTapHold(t,i.getComponent())}),1e3)}),{passive:!0}),i.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),"function"==typeof r.cellClick&&(i.cellEvents.cellClick=r.cellClick),"function"==typeof r.cellDblClick&&(i.cellEvents.cellDblClick=r.cellDblClick),"function"==typeof r.cellContext&&(i.cellEvents.cellContext=r.cellContext),"function"==typeof r.cellMouseEnter&&(i.cellEvents.cellMouseEnter=r.cellMouseEnter),"function"==typeof r.cellMouseLeave&&(i.cellEvents.cellMouseLeave=r.cellMouseLeave),"function"==typeof r.cellMouseOver&&(i.cellEvents.cellMouseOver=r.cellMouseOver),"function"==typeof r.cellMouseOut&&(i.cellEvents.cellMouseOut=r.cellMouseOut),"function"==typeof r.cellMouseMove&&(i.cellEvents.cellMouseMove=r.cellMouseMove),"function"==typeof r.cellTap&&(i.cellEvents.cellTap=r.cellTap),"function"==typeof r.cellDblTap&&(i.cellEvents.cellDblTap=r.cellDblTap),"function"==typeof r.cellTapHold&&(i.cellEvents.cellTapHold=r.cellTapHold),"function"==typeof r.cellEdited&&(i.cellEvents.cellEdited=r.cellEdited),"function"==typeof r.cellEditing&&(i.cellEvents.cellEditing=r.cellEditing),"function"==typeof r.cellEditCancelled&&(i.cellEvents.cellEditCancelled=r.cellEditCancelled)},l.prototype._buildColumnHeader=function(){var t=this,e=this.definition,n=this.table;if(n.modExists("sort")&&n.modules.sort.initializeColumn(this,this.titleHolderElement),(e.headerContextMenu||e.headerClickMenu||e.headerMenu)&&n.modExists("menu")&&n.modules.menu.initializeColumnHeader(this),n.modExists("format")&&n.modules.format.initializeColumn(this),"undefined"!=typeof e.editor&&n.modExists("edit")&&n.modules.edit.initializeColumn(this),"undefined"!=typeof e.validator&&n.modExists("validate")&&n.modules.validate.initializeColumn(this),n.modExists("mutator")&&n.modules.mutator.initializeColumn(this),n.modExists("accessor")&&n.modules.accessor.initializeColumn(this),o(n.options.responsiveLayout)&&n.modExists("responsiveLayout")&&n.modules.responsiveLayout.initializeColumn(this),"undefined"!=typeof e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var i=e.cssClass.split(" ");i.forEach((function(e){t.element.classList.add(e)}))}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth("undefined"==typeof e.minWidth?this.table.options.columnMinWidth:parseInt(e.minWidth)),(e.maxWidth||this.table.options.columnMaxWidth)&&!1!==e.maxWidth&&this.setMaxWidth("undefined"==typeof e.maxWidth?this.table.options.columnMaxWidth:parseInt(e.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip||!1===this.definition.tooltip?this.definition.tooltip:this.table.options.tooltips,this.hozAlign="undefined"==typeof this.definition.hozAlign?this.table.options.cellHozAlign:this.definition.hozAlign,this.vertAlign="undefined"==typeof this.definition.vertAlign?this.table.options.cellVertAlign:this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign},l.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var t=document.createElement("div");return t.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),t.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),t},l.prototype._buildColumnHeaderTitle=function(){var t=this,e=t.definition,n=t.table,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),e.editableTitle){var r=document.createElement("input");r.classList.add("tabulator-title-editor"),r.addEventListener("click",(function(t){t.stopPropagation(),r.focus()})),r.addEventListener("change",(function(){e.title=r.value,n.options.columnTitleChanged.call(t.table,t.getComponent())})),i.appendChild(r),e.field?n.modules.localize.bind("columns|"+e.field,(function(t){r.value=t||e.title||"&nbsp;"})):r.value=e.title||"&nbsp;"}else e.field?n.modules.localize.bind("columns|"+e.field,(function(n){t._formatColumnHeaderTitle(i,n||e.title||"&nbsp;")})):t._formatColumnHeaderTitle(i,e.title||"&nbsp;");return i},l.prototype._formatColumnHeaderTitle=function(t,e){var n,i,r,a,s,l=this;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(n=this.table.modules.format.getFormatter(this.definition.titleFormatter),s=function(t){l.titleFormatterRendered=t},a={getValue:function(){return e},getElement:function(){return t}},r=this.definition.titleFormatterParams||{},r="function"===typeof r?r():r,i=n.call(this.table.modules.format,a,r,s),"undefined"===typeof i?"undefined":o(i)){case"object":i instanceof Node?t.appendChild(i):(t.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",i));break;case"undefined":case"null":t.innerHTML="";break;default:t.innerHTML=i}else t.innerHTML=e},l.prototype._buildGroupHeader=function(){var t=this;if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach((function(e){t.element.classList.add(e)}))}(this.definition.headerContextMenu||this.definition.headerMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeColumnHeader(this),this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign,this.element.appendChild(this.groupElement)},l.prototype._getFlatData=function(t){return t[this.field]},l.prototype._getNestedData=function(t){for(var e,n=t,i=this.fieldStructure,r=i.length,o=0;o<r;o++)if(n=n[i[o]],e=n,!n)break;return e},l.prototype._setFlatData=function(t,e){this.field&&(t[this.field]=e)},l.prototype._setNestedData=function(t,e){for(var n=t,i=this.fieldStructure,r=i.length,o=0;o<r;o++)if(o==r-1)n[i[o]]=e;else{if(!n[i[o]]){if("undefined"===typeof e)break;n[i[o]]={}}n=n[i[o]]}},l.prototype.attachColumn=function(t){var e=this;e.groupElement?(e.columns.push(t),e.groupElement.appendChild(t.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},l.prototype.verticalAlign=function(t,e){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===t||(this.element.style.paddingTop="bottom"===t?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach((function(e){e.verticalAlign(t)}))},l.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(t){t.clearVerticalAlign()}))},l.prototype.bindModuleColumns=function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)},l.prototype.getElement=function(){return this.element},l.prototype.getGroupElement=function(){return this.groupElement},l.prototype.getField=function(){return this.field},l.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},l.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},l.prototype.getColumns=function(){return this.columns},l.prototype.getCells=function(){return this.cells},l.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},l.prototype.getDefinition=function(t){var e=[];return this.isGroup&&t&&(this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),this.definition.columns=e),this.definition},l.prototype.checkColumnVisibility=function(){var t=!1;this.columns.forEach((function(e){e.visible&&(t=!0)})),t?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},l.prototype.show=function(t,e){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},l.prototype.hide=function(t,e){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.hide()})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},l.prototype.matchChildWidths=function(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})),this.contentElement.style.maxWidth=t-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())},l.prototype.removeChild=function(t){var e=this.columns.indexOf(t);e>-1&&this.columns.splice(e,1),this.columns.length||this.delete()},l.prototype.setWidth=function(t){this.widthFixed=!0,this.setWidthActual(t)},l.prototype.setWidthActual=function(t){isNaN(t)&&(t=Math.floor(this.table.element.clientWidth/100*parseInt(t))),t=Math.max(this.minWidth,t),this.maxWidth&&(t=Math.min(this.maxWidth,t)),this.width=t,this.widthStyled=t?t+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(t){t.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},l.prototype.checkCellHeights=function(){var t=[];this.cells.forEach((function(e){e.row.heightInitialized&&(null!==e.row.getElement().offsetParent?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)})),t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()}))},l.prototype.getWidth=function(){var t=0;return this.isGroup?this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})):t=this.width,t},l.prototype.getHeight=function(){return this.element.offsetHeight},l.prototype.setMinWidth=function(t){this.minWidth=t,this.minWidthStyled=t?t+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(t){t.setMinWidth()}))},l.prototype.setMaxWidth=function(t){this.maxWidth=t,this.maxWidthStyled=t?t+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(t){t.setMaxWidth()}))},l.prototype.delete=function(){var t=this;return new Promise((function(e,n){t.isGroup&&t.columns.forEach((function(t){t.delete()})),t.table.modExists("edit")&&t.table.modules.edit.currentCell.column===t&&t.table.modules.edit.cancelEdit();for(var i=t.cells.length,r=0;r<i;r++)t.cells[0].delete();t.element.parentNode&&t.element.parentNode.removeChild(t.element),t.element=!1,t.contentElement=!1,t.titleElement=!1,t.groupElement=!1,t.parent.isGroup&&t.parent.removeChild(t),t.table.columnManager.deregisterColumn(t),t.table.options.virtualDomHoz&&t.table.vdomHoz.reinitialize(!0),e()}))},l.prototype.columnRendered=function(){this.titleFormatterRendered&&this.titleFormatterRendered()},l.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},l.prototype.generateCell=function(t){var e=this,n=new p(e,t);return this.cells.push(n),n},l.prototype.nextColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._nextVisibleColumn(t+1)},l.prototype._nextVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._nextVisibleColumn(t+1)},l.prototype.prevColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._prevVisibleColumn(t-1)},l.prototype._prevVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._prevVisibleColumn(t-1)},l.prototype.reinitializeWidth=function(t){this.widthFixed=!1,"undefined"===typeof this.definition.width||t||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},l.prototype.fitToData=function(){var t=this;this.widthFixed||(this.element.style.width="",t.cells.forEach((function(t){t.clearWidth()})));var e=this.element.offsetWidth;t.width&&this.widthFixed||(t.cells.forEach((function(t){var n=t.getWidth();n>e&&(e=n)})),e&&t.setWidthActual(e+1))},l.prototype.updateDefinition=function(t){var e=this;return new Promise((function(n,i){var r;e.isGroup||e.parent.isGroup?(console.warn("Column Update Error - The updateDefinition function is only available on ungrouped columns"),i("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(r=Object.assign({},e.getDefinition()),r=Object.assign(r,t),e.table.columnManager.addColumn(r,!1,e).then((function(t){r.field==e.field&&(e.field=!1),e.delete().then((function(){n(t.getComponent())})).catch((function(t){i(t)}))})).catch((function(t){i(t)})))}))},l.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},l.prototype.defaultOptionList=["title","field","columns","visible","align","hozAlign","vertAlign","width","minWidth","maxWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","print","htmlOutput","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","accessorPrint","accessorPrintParams","accessorHtmlOutput","accessorHtmlOutputParams","clipboard","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","headerHozAlign","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter","print","headerContextMenu","headerMenu","contextMenu","clickMenu","formatterPrint","formatterPrintParams","formatterClipboard","formatterClipboardParams","formatterHtmlOutput","formatterHtmlOutputParams","titlePrint","titleClipboard","titleHtmlOutput","titleDownload"],l.prototype.getComponent=function(){return this.component||(this.component=new s(this)),this.component};var c=function(t){this.table=t,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[],this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1};c.prototype.createHolderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-tableHolder"),t.setAttribute("tabindex",0),t},c.prototype.createTableElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t},c.prototype.getElement=function(){return this.element},c.prototype.getTableElement=function(){return this.tableElement},c.prototype.getRowPosition=function(t,e){return e?this.activeRows.indexOf(t):this.rows.indexOf(t)},c.prototype.setColumnManager=function(t){this.columnManager=t},c.prototype.initialize=function(){var t=this;t.setRenderMode(),t.element.appendChild(t.tableElement),t.firstRender=!0,t.element.addEventListener("scroll",(function(){var e=t.element.scrollLeft;t.scrollLeft!=e&&(t.columnManager.scrollHorizontal(e),t.table.options.groupBy&&t.table.modules.groupRows.scrollHeaders(e),t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.scrollHorizontal(e),t.table.options.scrollHorizontal(e)),t.scrollLeft=e})),"virtual"===this.renderMode&&t.element.addEventListener("scroll",(function(){var e=t.element.scrollTop,n=t.scrollTop>e;t.scrollTop!=e?(t.scrollTop=e,t.scrollVertical(n),"scroll"==t.table.options.ajaxProgressiveLoad&&t.table.modules.ajax.nextPage(t.element.scrollHeight-t.element.clientHeight-e),t.table.options.scrollVertical(e)):t.scrollTop=e}))},c.prototype.findRow=function(t){var e=this;if("object"!=("undefined"===typeof t?"undefined":o(t))){if("undefined"==typeof t||null===t)return!1;var n=e.rows.find((function(n){return n.data[e.table.options.index]==t}));return n||!1}if(t instanceof d)return t;if(t instanceof h)return t._getSelf()||!1;if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement){var i=e.rows.find((function(e){return e.getElement()===t}));return i||!1}return!1},c.prototype.getRowFromDataObject=function(t){var e=this.rows.find((function(e){return e.data===t}));return e||!1},c.prototype.getRowFromPosition=function(t,e){return e?this.activeRows[t]:this.rows[t]},c.prototype.scrollToRow=function(t,e,n){var i,r=this,o=this.getDisplayRows().indexOf(t),a=t.getElement(),s=0;return new Promise((function(t,l){if(o>-1){if("undefined"===typeof e&&(e=r.table.options.scrollToRowPosition),"undefined"===typeof n&&(n=r.table.options.scrollToRowIfVisible),"nearest"===e)switch(r.renderMode){case"classic":i=g.prototype.helpers.elOffset(a).top,e=Math.abs(r.element.scrollTop-i)>Math.abs(r.element.scrollTop+r.element.clientHeight-i)?"bottom":"top";break;case"virtual":e=Math.abs(r.vDomTop-o)>Math.abs(r.vDomBottom-o)?"bottom":"top";break}if(!n&&g.prototype.helpers.elVisible(a)&&(s=g.prototype.helpers.elOffset(a).top-g.prototype.helpers.elOffset(r.element).top,s>0&&s<r.element.clientHeight-a.offsetHeight))return!1;switch(r.renderMode){case"classic":r.element.scrollTop=g.prototype.helpers.elOffset(a).top-g.prototype.helpers.elOffset(r.element).top+r.element.scrollTop;break;case"virtual":r._virtualRenderFill(o,!0);break}switch(e){case"middle":case"center":r.element.scrollHeight-r.element.scrollTop==r.element.clientHeight?r.element.scrollTop=r.element.scrollTop+(a.offsetTop-r.element.scrollTop)-(r.element.scrollHeight-a.offsetTop)/2:r.element.scrollTop=r.element.scrollTop-r.element.clientHeight/2;break;case"bottom":r.element.scrollHeight-r.element.scrollTop==r.element.clientHeight?r.element.scrollTop=r.element.scrollTop-(r.element.scrollHeight-a.offsetTop)+a.offsetHeight:r.element.scrollTop=r.element.scrollTop-r.element.clientHeight+a.offsetHeight;break}t()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")}))},c.prototype.setData=function(t,e,n){var i=this,r=this;return new Promise((function(o,a){e&&i.getDisplayRows().length?r.table.options.pagination?r._setDataActual(t,!0):i.reRenderInPosition((function(){r._setDataActual(t)})):(i.table.options.autoColumns&&n&&i.table.columnManager.generateColumnsFromRowData(t),i.resetScroll(),i._setDataActual(t)),o()}))},c.prototype._setDataActual=function(t,e){var n=this;n.table.options.dataLoading.call(this.table,t),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(t)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(t),t.forEach((function(t,e){if(t&&"object"===("undefined"===typeof t?"undefined":o(t))){var i=new d(t,n);n.rows.push(i)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",t)})),n.refreshActiveData(!1,!1,e),n.table.options.dataLoaded.call(this.table,t)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ","undefined"===typeof t?"undefined":o(t),"\nData:     ",t)},c.prototype._wipeElements=function(){this.rows.forEach((function(t){t.wipe()})),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()},c.prototype.deleteRow=function(t,e){var n=this.rows.indexOf(t),i=this.activeRows.indexOf(t);i>-1&&this.activeRows.splice(i,1),n>-1&&this.rows.splice(n,1),this.setActiveRows(this.activeRows),this.displayRowIterator((function(e){var n=e.indexOf(t);n>-1&&e.splice(n,1)})),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.table.options.rowDeleted.call(this.table,t.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},c.prototype.addRow=function(t,e,n,i){var r=this.addRowActual(t,e,n,i);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",r,{data:t,pos:e,index:n}),r},c.prototype.addRows=function(t,e,n){var i=this,r=this,o=[];return new Promise((function(a,s){e=i.findAddRowPos(e),Array.isArray(t)||(t=[t]),t.length-1,("undefined"==typeof n&&e||"undefined"!==typeof n&&!e)&&t.reverse(),t.forEach((function(t,i){var a=r.addRow(t,e,n,!0);o.push(a)})),i.table.options.groupBy&&i.table.modExists("groupRows")?i.table.modules.groupRows.updateGroupRows(!0):i.table.options.pagination&&i.table.modExists("page")?i.refreshActiveData(!1,!1,!0):i.reRenderInPosition(),i.table.modExists("columnCalcs")&&i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows),i.regenerateRowNumbers(),a(o)}))},c.prototype.findAddRowPos=function(t){return"undefined"===typeof t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t},c.prototype.addRowActual=function(t,e,n,i){var r,o,a=t instanceof d?t:new d(t||{},this),s=this.findAddRowPos(e),l=-1;if(!n&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(o=this.getDisplayRows(),s?o.length?n=o[0]:this.activeRows.length&&(n=this.activeRows[this.activeRows.length-1],s=!1):o.length&&(n=o[o.length-1],s=!(o.length<this.table.modules.page.getPageSize()))),"undefined"!==typeof n&&(n=this.findRow(n)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(a);var c=a.getGroup().rows;c.length>1&&(!n||n&&-1==c.indexOf(n)?s?c[0]!==a&&(n=c[0],this._moveRowInArray(a.getGroup().rows,a,n,!s)):c[c.length-1]!==a&&(n=c[c.length-1],this._moveRowInArray(a.getGroup().rows,a,n,!s)):this._moveRowInArray(a.getGroup().rows,a,n,!s))}return n&&(l=this.rows.indexOf(n)),n&&l>-1?(r=this.activeRows.indexOf(n),this.displayRowIterator((function(t){var e=t.indexOf(n);e>-1&&t.splice(s?e:e+1,0,a)})),r>-1&&this.activeRows.splice(s?r:r+1,0,a),this.rows.splice(s?l:l+1,0,a)):s?(this.displayRowIterator((function(t){t.unshift(a)})),this.activeRows.unshift(a),this.rows.unshift(a)):(this.displayRowIterator((function(t){t.push(a)})),this.activeRows.push(a),this.rows.push(a)),this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,a.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),i||this.reRenderInPosition(),a},c.prototype.moveRow=function(t,e,n){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",t,{posFrom:this.getRowPosition(t),posTo:this.getRowPosition(e),to:e,after:n}),this.moveRowActual(t,e,n),this.regenerateRowNumbers(),this.table.options.rowMoved.call(this.table,t.getComponent())},c.prototype.moveRowActual=function(t,e,n){var i=this;if(this._moveRowInArray(this.rows,t,e,n),this._moveRowInArray(this.activeRows,t,e,n),this.displayRowIterator((function(r){i._moveRowInArray(r,t,e,n)})),this.table.options.groupBy&&this.table.modExists("groupRows")){!n&&e instanceof P&&(e=this.table.rowManager.prevDisplayRow(t)||e);var r=e.getGroup(),o=t.getGroup();r===o?this._moveRowInArray(r.rows,t,e,n):(o&&o.removeRow(t),r.insertRow(t,e,n))}},c.prototype._moveRowInArray=function(t,e,n,i){var r,o,a,s;if(e!==n&&(r=t.indexOf(e),r>-1&&(t.splice(r,1),o=t.indexOf(n),o>-1?i?t.splice(o+1,0,e):t.splice(o,0,e):t.splice(r,0,e)),t===this.getDisplayRows())){a=r<o?r:o,s=o>r?o:r+1;for(var l=a;l<=s;l++)t[l]&&this.styleRow(t[l],l)}},c.prototype.clearData=function(){this.setData([])},c.prototype.getRowIndex=function(t){return this.findRowIndex(t,this.rows)},c.prototype.getDisplayRowIndex=function(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e},c.prototype.nextDisplayRow=function(t,e){var n=this.getDisplayRowIndex(t),i=!1;return!1!==n&&n<this.displayRowsCount-1&&(i=this.getDisplayRows()[n+1]),!i||i instanceof d&&"row"==i.type?i:this.nextDisplayRow(i,e)},c.prototype.prevDisplayRow=function(t,e){var n=this.getDisplayRowIndex(t),i=!1;return n&&(i=this.getDisplayRows()[n-1]),!e||!i||i instanceof d&&"row"==i.type?i:this.prevDisplayRow(i,e)},c.prototype.findRowIndex=function(t,e){var n;return t=this.findRow(t),!!(t&&(n=e.indexOf(t),n>-1))&&n},c.prototype.getData=function(t,e){var n=[],i=this.getRows(t);return i.forEach((function(t){"row"==t.type&&n.push(t.getData(e||"data"))})),n},c.prototype.getComponents=function(t){var e=[],n=this.getRows(t);return n.forEach((function(t){e.push(t.getComponent())})),e},c.prototype.getDataCount=function(t){var e=this.getRows(t);return e.length},c.prototype._genRemoteRequest=function(){var t=this,e=this.table,n=e.options,i={};if(e.modExists("page")){if(n.ajaxSorting){var r=this.table.modules.sort.getSort();r.forEach((function(t){delete t.column})),i[this.table.modules.page.paginationDataSentNames.sorters]=r}if(n.ajaxFiltering){var o=this.table.modules.filter.getFilters(!0,!0);i[this.table.modules.page.paginationDataSentNames.filters]=o}this.table.modules.ajax.setParams(i,!0)}e.modules.ajax.sendRequest().then((function(e){t._setDataActual(e,!0)})).catch((function(t){}))},c.prototype.filterRefresh=function(){var t=this.table,e=t.options,n=this.scrollLeft;e.ajaxFiltering?"remote"==e.pagination&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then((function(){})).catch((function(){}))):e.ajaxProgressiveLoad?t.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(n)},c.prototype.sorterRefresh=function(t){var e=this.table,n=this.table.options,i=this.scrollLeft;n.ajaxSorting?("remote"==n.pagination||n.progressiveLoad)&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then((function(){})).catch((function(){}))):n.ajaxProgressiveLoad?e.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData(t?"filter":"sort"),this.scrollHorizontal(i)},c.prototype.scrollHorizontal=function(t){this.scrollLeft=t,this.element.scrollLeft=t,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(t),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(t)},c.prototype.refreshActiveData=function(t,e,n){var i,r=this,o=this.table,a=["all","filter","sort","display","freeze","group","tree","page"];if(this.redrawBlock)(!this.redrawBlockRestoreConfig||a.indexOf(t)<a.indexOf(this.redrawBlockRestoreConfig.stage))&&(this.redrawBlockRestoreConfig={stage:t,skipStage:e,renderInPosition:n});else{switch(r.table.modExists("edit")&&r.table.modules.edit.cancelEdit(),t||(t="all"),o.options.selectable&&!o.options.selectablePersistence&&o.modExists("selectRow")&&o.modules.selectRow.deselectRows(),t){case"all":case"filter":e?e=!1:o.modExists("filter")?r.setActiveRows(o.modules.filter.filter(r.rows)):r.setActiveRows(r.rows.slice(0));case"sort":e?e=!1:o.modExists("sort")&&o.modules.sort.sort(this.activeRows),this.regenerateRowNumbers();case"display":this.resetDisplayRows();case"freeze":e?e=!1:this.table.modExists("frozenRows")&&o.modules.frozenRows.isFrozen()&&(o.modules.frozenRows.getDisplayIndex()||o.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),i=o.modules.frozenRows.getDisplayIndex(),i=r.setDisplayRows(o.modules.frozenRows.getRows(this.getDisplayRows(i-1)),i),!0!==i&&o.modules.frozenRows.setDisplayIndex(i));case"group":e?e=!1:o.options.groupBy&&o.modExists("groupRows")&&(o.modules.groupRows.getDisplayIndex()||o.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),i=o.modules.groupRows.getDisplayIndex(),i=r.setDisplayRows(o.modules.groupRows.getRows(this.getDisplayRows(i-1)),i),!0!==i&&o.modules.groupRows.setDisplayIndex(i));case"tree":e?e=!1:o.options.dataTree&&o.modExists("dataTree")&&(o.modules.dataTree.getDisplayIndex()||o.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),i=o.modules.dataTree.getDisplayIndex(),i=r.setDisplayRows(o.modules.dataTree.getRows(this.getDisplayRows(i-1)),i),!0!==i&&o.modules.dataTree.setDisplayIndex(i)),o.options.pagination&&o.modExists("page")&&!n&&"local"==o.modules.page.getMode()&&o.modules.page.reset();case"page":e?e=!1:o.options.pagination&&o.modExists("page")&&(o.modules.page.getDisplayIndex()||o.modules.page.setDisplayIndex(this.getNextDisplayIndex()),i=o.modules.page.getDisplayIndex(),"local"==o.modules.page.getMode()&&o.modules.page.setMaxRows(this.getDisplayRows(i-1).length),i=r.setDisplayRows(o.modules.page.getRows(this.getDisplayRows(i-1)),i),!0!==i&&o.modules.page.setDisplayIndex(i))}g.prototype.helpers.elVisible(r.element)&&(n?r.reRenderInPosition():("all"===t&&this.table.options.virtualDomHoz&&this.table.vdomHoz.dataChange(),r.renderTable(),o.options.layoutColumnsOnNewData&&r.table.columnManager.redraw(!0))),o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(this.activeRows)}},c.prototype.regenerateRowNumbers=function(){var t=this;this.rowNumColumn&&this.activeRows.forEach((function(e){var n=e.getCell(t.rowNumColumn);n&&n._generateContents()}))},c.prototype.setActiveRows=function(t){this.activeRows=t,this.activeRowsCount=this.activeRows.length},c.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},c.prototype.getNextDisplayIndex=function(){return this.displayRows.length},c.prototype.setDisplayRows=function(t,e){var n=!0;return e&&"undefined"!=typeof this.displayRows[e]?(this.displayRows[e]=t,n=!0):(this.displayRows.push(t),n=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),n},c.prototype.getDisplayRows=function(t){return"undefined"==typeof t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]},c.prototype.getVisibleRows=function(t){var e=this.element.scrollTop,n=this.element.clientHeight+e,i=!1,r=0,o=0,a=this.getDisplayRows();if(t){this.getDisplayRows();for(var s=this.vDomTop;s<=this.vDomBottom;s++)if(a[s])if(i){if(!(n-a[s].getElement().offsetTop>=0))break;o=s}else if(e-a[s].getElement().offsetTop>=0)r=s;else{if(i=!0,!(n-a[s].getElement().offsetTop>=0))break;o=s}}else r=this.vDomTop,o=this.vDomBottom;return a.slice(r,o+1)},c.prototype.displayRowIterator=function(t){this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},c.prototype.getRows=function(t){var e;switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!0);break;case"selected":e=this.table.modules.selectRow.selectedRows;break;default:e=this.rows}return e},c.prototype.reRenderInPosition=function(t){if("virtual"==this.getRenderMode())if(this.redrawBlock)t?t():this.redrawBlockRederInPosition=!0;else{for(var e=this.element.scrollTop,n=!1,i=!1,r=this.scrollLeft,o=this.getDisplayRows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(o[a]){var s=e-o[a].getElement().offsetTop;if(!(!1===i||Math.abs(s)<i))break;i=s,n=a}t&&t(),this._virtualRenderFill(!1===n?this.displayRowsCount-1:n,!0,i||0),this.scrollHorizontal(r)}else this.renderTable(),t&&t()},c.prototype.setRenderMode=function(){this.table.options.virtualDom?(this.renderMode="virtual",this.table.element.clientHeight||this.table.options.height?this.fixedHeight=!0:this.fixedHeight=!1):this.renderMode="classic"},c.prototype.getRenderMode=function(){return this.renderMode},c.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill();break}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px"),this.table.options.renderComplete.call(this.table)},c.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},c.prototype.checkClassicModeGroupHeaderWidth=function(){var t=this,e=this.tableElement,n=!0;t.getDisplayRows().forEach((function(i,r){t.styleRow(i,r),e.appendChild(i.getElement()),i.initialize(!0),"group"!==i.type&&(n=!1)})),e.style.minWidth=n?t.table.columnManager.getWidth()+"px":""},c.prototype.renderEmptyScroll=function(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"},c.prototype._clearVirtualDom=function(){var t=this.tableElement;this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);while(t.firstChild)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},c.prototype.styleRow=function(t,e){var n=t.getElement();e%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))},c.prototype._virtualRenderFill=function(t,e,n){var i=this,r=i.tableElement,o=i.element,a=0,s=0,l=0,c=0,u=!0,h=i.getDisplayRows();if(t=t||0,n=n||0,t){while(r.firstChild)r.removeChild(r.firstChild);var d=(i.displayRowsCount-t+1)*i.vDomRowHeight;d<i.height&&(t-=Math.ceil((i.height-d)/i.vDomRowHeight),t<0&&(t=0)),a=Math.min(Math.max(Math.floor(i.vDomWindowBuffer/i.vDomRowHeight),i.vDomWindowMinMarginRows),t),t-=a}else i._clearVirtualDom();if(i.displayRowsCount&&g.prototype.helpers.elVisible(i.element)){i.vDomTop=t,i.vDomBottom=t-1;while((s<=i.height+i.vDomWindowBuffer||c<i.vDomWindowMinTotalRows)&&i.vDomBottom<i.displayRowsCount-1){var f=i.vDomBottom+1,p=h[f],m=0;i.styleRow(p,f),r.appendChild(p.getElement()),p.initialize(),p.heightInitialized||p.normalizeHeight(!0),m=p.getHeight(),c<a?l+=m:s+=m,m>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*m),"group"!==p.type&&(u=!1),i.vDomBottom++,c++}t?(i.vDomTopPad=e?i.vDomRowHeight*this.vDomTop+n:i.scrollTop-l,i.vDomBottomPad=i.vDomBottom==i.displayRowsCount-1?0:Math.max(i.vDomScrollHeight-i.vDomTopPad-s-l,0)):(this.vDomTopPad=0,i.vDomRowHeight=Math.floor((s+l)/c),i.vDomBottomPad=i.vDomRowHeight*(i.displayRowsCount-i.vDomBottom-1),i.vDomScrollHeight=l+s+i.vDomBottomPad-i.height),r.style.paddingTop=i.vDomTopPad+"px",r.style.paddingBottom=i.vDomBottomPad+"px",e&&(this.scrollTop=i.vDomTopPad+l+n-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&e&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,r.style.minWidth=u?i.table.columnManager.getWidth()+"px":"",i.table.options.groupBy&&"fitDataFill"!=i.table.modules.layout.getMode()&&i.displayRowsCount==i.table.modules.groupRows.countGroups()&&(i.tableElement.style.minWidth=i.table.columnManager.getWidth())}else this.renderEmptyScroll();this.fixedHeight||this.adjustTableSize()},c.prototype.scrollVertical=function(t){var e=this.scrollTop-this.vDomScrollPosTop,n=this.scrollTop-this.vDomScrollPosBottom,i=2*this.vDomWindowBuffer;if(-e>i||n>i){var r=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(r)}else t?(e<0&&this._addTopRow(-e),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(-n):this.vDomScrollPosBottom=this.scrollTop)):(e>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(e):this.vDomScrollPosTop=this.scrollTop),n>=0&&this._addBottomRow(n))},c.prototype._addTopRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.tableElement,i=this.getDisplayRows();if(this.vDomTop){var r=this.vDomTop-1,o=i[r],a=o.getHeight()||this.vDomRowHeight;t>=a&&(this.styleRow(o,r),n.insertBefore(o.getElement(),n.firstChild),o.initialized&&o.heightInitialized||(this.vDomTopNewRows.push(o),o.heightInitialized||o.clearCellHeight()),o.initialize(),this.vDomTopPad-=a,this.vDomTopPad<0&&(this.vDomTopPad=r*this.vDomRowHeight),r||(this.vDomTopPad=0),n.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=a,this.vDomTop--),t=-(this.scrollTop-this.vDomScrollPosTop),o.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*o.getHeight()),e<this.vDomMaxRenderChain&&this.vDomTop&&t>=(i[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(t,e+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},c.prototype._removeTopRow=function(t){var e=this.tableElement,n=this.getDisplayRows()[this.vDomTop],i=n.getHeight()||this.vDomRowHeight;if(t>=i){var r=n.getElement();r.parentNode.removeChild(r),this.vDomTopPad+=i,e.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?i:i+this.vDomWindowBuffer,this.vDomTop++,t=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(t)}},c.prototype._addBottomRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.tableElement,i=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var r=this.vDomBottom+1,o=i[r],a=o.getHeight()||this.vDomRowHeight;t>=a&&(this.styleRow(o,r),n.appendChild(o.getElement()),o.initialized&&o.heightInitialized||(this.vDomBottomNewRows.push(o),o.heightInitialized||o.clearCellHeight()),o.initialize(),this.vDomBottomPad-=a,(this.vDomBottomPad<0||r==this.displayRowsCount-1)&&(this.vDomBottomPad=0),n.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=a,this.vDomBottom++),t=this.scrollTop-this.vDomScrollPosBottom,o.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*o.getHeight()),e<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&t>=(i[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(t,e+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},c.prototype._removeBottomRow=function(t){var e=this.tableElement,n=this.getDisplayRows()[this.vDomBottom],i=n.getHeight()||this.vDomRowHeight;if(t>=i){var r=n.getElement();r.parentNode&&r.parentNode.removeChild(r),this.vDomBottomPad+=i,this.vDomBottomPad<0&&(this.vDomBottomPad=0),e.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=i,this.vDomBottom--,t=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(t)}},c.prototype._quickNormalizeRowHeight=function(t){t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()})),t.length=0},c.prototype.normalizeHeight=function(){this.activeRows.forEach((function(t){t.normalizeHeight()}))},c.prototype.adjustTableSize=function(){var t,e=this.element.clientHeight;if("virtual"===this.renderMode){var n=Math.floor(this.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+n+"px)",this.element.style.height="calc(100% - "+n+"px)",this.element.style.maxHeight="calc(100% - "+n+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-n+"px",this.element.scrollTop=this.scrollTop),this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height,this.fixedHeight||e==this.element.clientHeight||(t=this.table.modExists("resizeTable"),(t&&!this.table.modules.resizeTable.autoResize||!t)&&this.redraw())}},c.prototype.reinitialize=function(){this.rows.forEach((function(t){t.reinitialize(!0)}))},c.prototype.blockRedraw=function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1},c.prototype.restoreRedraw=function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.stage,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1},c.prototype.redraw=function(t){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():("classic"==this.renderMode?this.table.options.groupBy?this.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(e)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},c.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))};var u=function(t){this.table=t,this.element=this.table.rowManager.tableElement,this.holderEl=this.table.rowManager.element,this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[],this.compatabilityCheck()&&this.initialize()};u.prototype.compatabilityCheck=function(){var t=this.table.options,e=!1,n=!0;return"fitDataTable"==t.layout&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),n=!1),t.responsiveLayout&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),n=!1),this.table.rtl&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),n=!1),t.columns&&(e=t.columns.find((function(t){return t.frozen})),e&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),n=!1)),n||(t.virtualDomHoz=!1),n},u.prototype.initialize=function(){var t=this;this.holderEl.addEventListener("scroll",(function(){var e=t.holderEl.scrollLeft;t.scrollLeft!=e&&(t.scrollLeft=e,t.scroll(e-(t.vDomScrollPosLeft+t.window)))}))},u.prototype.deinitialize=function(){this.initialized=!1},u.prototype.clear=function(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0},u.prototype.dataChange=function(){var t,e,n,i=!1,r=0,o=0;if("fitData"===this.table.options.layout){if(this.table.columnManager.columnsByIndex.forEach((function(t){!t.definition.width&&t.visible&&(i=!0)})),i&&i&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window,this.table.options.groupBy?(t=this.table.modules.groupRows.getGroups(!1)[0],e=t.getRows(!1)[0]):e=this.table.rowManager.getDisplayRows()[0],e)){n=e.getElement(),e.generateCells(),this.element.appendChild(n);for(o=0;o<e.cells.length;o++){var a=e.cells[o];if(n.appendChild(a.getElement()),a.column.reinitializeWidth(),r+=a.column.getWidth(),r>this.vDomScrollPosRight)break}for(n.parentNode.removeChild(n),this.fitDataColAvg=Math.floor(r/(o+1)),o;o<this.table.columnManager.columnsByIndex.length;o++)this.table.columnManager.columnsByIndex[o].setWidth(this.fitDataColAvg);this.reinitialize(!1,!0)}}else"fitColumns"===this.table.options.layout&&(this.table.modules.layout.layout(),this.table.vdomHoz.reinitialize(!1,!0))},u.prototype.fitDataLayoutOverride=function(){for(var t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()},u.prototype.reinitialize=function(t,e){var n=this,i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!t||this.initialized){this.clear(),this.scrollLeft=this.holderEl.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window;var r=0;this.table.columnManager.columnsByIndex.forEach((function(t){var e={};if(t.visible){var i=t.getWidth();e.leftPos=r,e.rightPos=r+i,r+i>n.vDomScrollPosLeft&&r<n.vDomScrollPosRight?(-1==n.leftCol&&(n.leftCol=n.columns.length,n.vDomPadLeft=r),n.rightCol=n.columns.length):-1!==n.leftCol&&(n.vDomPadRight+=i),n.columns.push(t),t.modules.vdomHoz=e,r+=i}})),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.element.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||t&&!this.reinitChanged(i)||this.renitializeRows(),this.holderEl.scrollLeft=this.scrollLeft}},u.prototype.reinitChanged=function(t){var e=this,n=!0;return t.cols.length!==this.columns.length||t.leftCol!==this.leftCol||t.rightCol!==this.rightCol||(t.cols.forEach((function(t,i){t!==e.columns[i]&&(n=!1)})),!n)},u.prototype.renitializeRows=function(){var t=this,e=this.table.rowManager.getVisibleRows();e.forEach((function(e){t.reinitializeRow(e,!0)}))},u.prototype.scroll=function(t){this.vDomScrollPosLeft+=t,this.vDomScrollPosRight+=t,t>.8*this.holderEl.clientWidth?this.reinitialize():t>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())},u.prototype.colPositionAdjust=function(t,e,n){for(var i=t;i<e;i++){var r=this.columns[i];r.modules.vdomHoz.leftPos-=n,r.modules.vdomHoz.rightPos-=n}},u.prototype.addColRight=function(){var t,e,n,i=this.columns[this.rightCol+1];i&&i.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(t=this.table.rowManager.getVisibleRows(),t.forEach((function(t){if("group"!==t.type){var e=t.getCell(i);t.getElement().appendChild(e.getElement()),e.cellRendered()}})),this.fitDataColAvg&&(e=i.getWidth(),e===this.fitDataColAvg&&(i.reinitializeWidth(),n=e-i.getWidth(),n&&(i.modules.vdomHoz.rightPos-=n,this.colPositionAdjust(this.rightCol+1,this.columns.length,n)))),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=i.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.addColRight())},u.prototype.addColLeft=function(){var t=this.columns[this.leftCol-1];if(t&&t.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){var e=this.table.rowManager.getVisibleRows();e.forEach((function(e){if("group"!==e.type){var n=e.getCell(t);e.getElement().prepend(n.getElement()),n.cellRendered()}})),this.leftCol?this.vDomPadLeft-=t.getWidth():this.vDomPadLeft=0,this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft()}},u.prototype.removeColRight=function(t){var e;t=this.columns[this.rightCol];t&&t.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(e=this.table.rowManager.getVisibleRows(),t.modules.vdomHoz.visible=!1,e.forEach((function(e){if("group"!==e.type){var n=e.getCell(t);e.getElement().removeChild(n.getElement())}})),this.vDomPadRight+=t.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())},u.prototype.removeColLeft=function(){var t,e=this.columns[this.leftCol];e&&e.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(t=this.table.rowManager.getVisibleRows(),t.forEach((function(t){if("group"!==t.type){var n=t.getCell(e);t.getElement().removeChild(n.getElement())}})),this.vDomPadLeft+=e.getWidth(),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())},u.prototype.initializeRow=function(t){if("group"!==t.type){t.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(var e=this.leftCol;e<=this.rightCol;e++){var n=this.columns[e];if(n&&n.visible){var i=t.getCell(n);t.getElement().appendChild(i.getElement()),i.cellRendered()}}}},u.prototype.reinitializeRow=function(t,e){if("group"!==t.type&&(e||!t.modules.vdomHoz||t.modules.vdomHoz.leftCol!==this.leftCol||t.modules.vdomHoz.rightCol!==this.rightCol)){var n=t.getElement();while(n.firstChild)n.removeChild(n.firstChild);this.initializeRow(t)}};var h=function(t){this._row=t};h.prototype.getData=function(t){return this._row.getData(t)},h.prototype.getElement=function(){return this._row.getElement()},h.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},h.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},h.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},h.prototype.getPosition=function(t){return this._row.table.rowManager.getRowPosition(this._row,t)},h.prototype.delete=function(){return this._row.delete()},h.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},h.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},h.prototype.move=function(t,e){this._row.moveToRow(t,e)},h.prototype.update=function(t){return this._row.updateData(t)},h.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},h.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},h.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},h.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},h.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},h.prototype._getSelf=function(){return this._row},h.prototype.validate=function(){return this._row.validate()},h.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},h.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},h.prototype.isFrozen=function(){if(this._row.table.modExists("frozenRows",!0)){var t=this._row.table.modules.frozenRows.rows.indexOf(this._row);return t>-1}return!1},h.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},h.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},h.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},h.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},h.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row,!0)},h.prototype.addTreeChild=function(t,e,n){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.addTreeChildRow(this._row,t,e,n)},h.prototype.reformat=function(){return this._row.reinitialize()},h.prototype.getGroup=function(){return this._row.getGroup().getComponent()},h.prototype.getTable=function(){return this._row.table},h.prototype.getNextRow=function(){var t=this._row.nextRow();return t?t.getComponent():t},h.prototype.getPrevRow=function(){var t=this._row.prevRow();return t?t.getComponent():t};var d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"row";this.table=e.table,this.parent=e,this.data={},this.type=n,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(t)};d.prototype.create=function(){this.created||(this.created=!0,this.generateElement())},d.prototype.createElement=function(){var t=document.createElement("div");t.classList.add("tabulator-row"),t.setAttribute("role","row"),this.element=t},d.prototype.getElement=function(){return this.create(),this.element},d.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},d.prototype.generateElement=function(){var t,e,n,i=this;this.createElement(),!1!==i.table.options.selectable&&i.table.modExists("selectRow")&&i.table.modules.selectRow.initializeRow(this),!1!==i.table.options.movableRows&&i.table.modExists("moveRow")&&i.table.modules.moveRow.initializeRow(this),!1!==i.table.options.dataTree&&i.table.modExists("dataTree")&&i.table.modules.dataTree.initializeRow(this),"collapse"===i.table.options.responsiveLayout&&i.table.modExists("responsiveLayout")&&i.table.modules.responsiveLayout.initializeRow(this),(i.table.options.rowContextMenu||i.table.options.rowClickMenu)&&this.table.modExists("menu")&&i.table.modules.menu.initializeRow(this),i.table.options.rowClick&&i.element.addEventListener("click",(function(t){i.table.options.rowClick(t,i.getComponent())})),i.table.options.rowDblClick&&i.element.addEventListener("dblclick",(function(t){i.table.options.rowDblClick(t,i.getComponent())})),i.table.options.rowContext&&i.element.addEventListener("contextmenu",(function(t){i.table.options.rowContext(t,i.getComponent())})),i.table.options.rowMouseEnter&&i.element.addEventListener("mouseenter",(function(t){i.table.options.rowMouseEnter(t,i.getComponent())})),i.table.options.rowMouseLeave&&i.element.addEventListener("mouseleave",(function(t){i.table.options.rowMouseLeave(t,i.getComponent())})),i.table.options.rowMouseOver&&i.element.addEventListener("mouseover",(function(t){i.table.options.rowMouseOver(t,i.getComponent())})),i.table.options.rowMouseOut&&i.element.addEventListener("mouseout",(function(t){i.table.options.rowMouseOut(t,i.getComponent())})),i.table.options.rowMouseMove&&i.element.addEventListener("mousemove",(function(t){i.table.options.rowMouseMove(t,i.getComponent())})),i.table.options.rowTap&&(n=!1,i.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),i.element.addEventListener("touchend",(function(t){n&&i.table.options.rowTap(t,i.getComponent()),n=!1}))),i.table.options.rowDblTap&&(t=null,i.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,i.table.options.rowDblTap(e,i.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),i.table.options.rowTapHold&&(e=null,i.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,i.table.options.rowTapHold(t,i.getComponent())}),1e3)}),{passive:!0}),i.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null})))},d.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},d.prototype.initialize=function(t){var e=this;if(this.create(),!this.initialized||t){this.deleteCells();while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),this.table.options.virtualDomHoz&&this.table.vdomHoz.initialized?this.table.vdomHoz.initializeRow(this):this.cells.forEach((function(t){e.element.appendChild(t.getElement()),t.cellRendered()})),t&&this.normalizeHeight(),this.table.options.dataTree&&this.table.modExists("dataTree")&&this.table.modules.dataTree.layoutRow(this),"collapse"===this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout")&&this.table.modules.responsiveLayout.layoutRow(this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.table.options.resizableRows&&this.table.modExists("resizeRows")&&this.table.modules.resizeRows.initializeRow(this),this.initialized=!0}else this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitializeRow(this)},d.prototype.reinitializeHeight=function(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)},d.prototype.reinitialize=function(t){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.getTreeChildren(this,!1,!0).forEach((function(t){t.reinitialize(!0)}))},d.prototype.calcHeight=function(t){var e=0,n=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach((function(t){var n=t.getHeight();n>e&&(e=n)})),this.height=t?Math.max(e,n):this.manualHeight?this.height:Math.max(e,n),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},d.prototype.setCellHeight=function(){this.cells.forEach((function(t){t.setHeight()})),this.heightInitialized=!0},d.prototype.clearCellHeight=function(){this.cells.forEach((function(t){t.clearHeight()}))},d.prototype.normalizeHeight=function(t){t&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()},d.prototype.setHeight=function(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},d.prototype.getHeight=function(){return this.outerHeight},d.prototype.getWidth=function(){return this.element.offsetWidth},d.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},d.prototype.setData=function(t){this.table.modExists("mutator")&&(t=this.table.modules.mutator.transformRow(t,"data")),this.data=t,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},d.prototype.updateData=function(t){var e,n=this,i=this.element&&g.prototype.helpers.elVisible(this.element),r={};return new Promise((function(o,a){for(var s in"string"===typeof t&&(t=JSON.parse(t)),n.table.options.reactiveData&&n.table.modExists("reactiveData",!0)&&n.table.modules.reactiveData.block(),n.table.modExists("mutator")?(r=Object.assign(r,n.data),r=Object.assign(r,t),e=n.table.modules.mutator.transformRow(r,"data",t)):e=t,e)n.data[s]=e[s];for(var s in n.table.options.reactiveData&&n.table.modExists("reactiveData",!0)&&n.table.modules.reactiveData.unblock(),t){var l=n.table.columnManager.getColumnsByFieldRoot(s);l.forEach((function(t){var r=n.getCell(t.getField());if(r){var o=t.getFieldValue(e);r.getValue()!=o&&(r.setValueProcessData(o),i&&r.cellRendered())}}))}n.table.options.groupUpdateOnCellEdit&&n.table.options.groupBy&&n.table.modExists("groupRows")&&n.table.modules.groupRows.reassignRowToGroup(n.row),i?(n.normalizeHeight(!0),n.table.options.rowFormatter&&n.table.options.rowFormatter(n.getComponent())):(n.initialized=!1,n.height=0,n.heightStyled=""),!1!==n.table.options.dataTree&&n.table.modExists("dataTree")&&n.table.modules.dataTree.redrawNeeded(t)&&(n.table.modules.dataTree.initializeRow(n),i&&(n.table.modules.dataTree.layoutRow(n),n.table.rowManager.refreshActiveData("tree",!1,!0))),n.table.options.rowUpdated.call(n.table,n.getComponent()),n.table.options.dataChanged&&n.table.options.dataChanged.call(n.table,n.table.rowManager.getData()),o()}))},d.prototype.getData=function(t){return t&&this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this,t):this.data},d.prototype.getCell=function(t){var e=!1;return t=this.table.columnManager.findColumn(t),e=this.cells.find((function(e){return e.column===t})),e},d.prototype.getCellIndex=function(t){return this.cells.findIndex((function(e){return e===t}))},d.prototype.findNextEditableCell=function(t){var e=!1;if(t<this.cells.length-1)for(var n=t+1;n<this.cells.length;n++){var i=this.cells[n];if(i.column.modules.edit&&g.prototype.helpers.elVisible(i.getElement())){var r=!0;if("function"==typeof i.column.modules.edit.check&&(r=i.column.modules.edit.check(i.getComponent())),r){e=i;break}}}return e},d.prototype.findPrevEditableCell=function(t){var e=!1;if(t>0)for(var n=t-1;n>=0;n--){var i=this.cells[n],r=!0;if(i.column.modules.edit&&g.prototype.helpers.elVisible(i.getElement())&&("function"==typeof i.column.modules.edit.check&&(r=i.column.modules.edit.check(i.getComponent())),r)){e=i;break}}return e},d.prototype.getCells=function(){return this.cells},d.prototype.nextRow=function(){var t=this.table.rowManager.nextDisplayRow(this,!0);return t||!1},d.prototype.prevRow=function(){var t=this.table.rowManager.prevDisplayRow(this,!0);return t||!1},d.prototype.moveToRow=function(t,e){var n=this.table.rowManager.findRow(t);n?(this.table.rowManager.moveRowActual(this,n,!e),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",t)},d.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},d.prototype.delete=function(){var t=this;return new Promise((function(e,n){var i,r;t.table.options.history&&t.table.modExists("history")&&(t.table.options.groupBy&&t.table.modExists("groupRows")?(r=t.getGroup().rows,i=r.indexOf(t),i&&(i=r[i-1])):(i=t.table.rowManager.getRowIndex(t),i&&(i=t.table.rowManager.rows[i-1])),t.table.modules.history.action("rowDelete",t,{data:t.getData(),pos:!i,index:i})),t.deleteActual(),e()}))},d.prototype.deleteActual=function(t){this.table.rowManager.getRowIndex(this);this.detatchModules(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.rowDelete(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},d.prototype.detatchModules=function(){this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.modExists("edit")&&this.table.modules.edit.currentCell.row===this&&this.table.modules.edit.cancelEdit(),this.table.modExists("frozenRows")&&this.table.modules.frozenRows.detachRow(this)},d.prototype.deleteCells=function(){for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete()},d.prototype.wipe=function(){if(this.detatchModules(),this.deleteCells(),this.element){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}},d.prototype.getGroup=function(){return this.modules.group||!1},d.prototype.getComponent=function(){return this.component||(this.component=new h(this)),this.component};var f=function(t){this._cell=t};f.prototype.getValue=function(){return this._cell.getValue()},f.prototype.getOldValue=function(){return this._cell.getOldValue()},f.prototype.getInitialValue=function(){return this._cell.initialValue},f.prototype.getElement=function(){return this._cell.getElement()},f.prototype.getRow=function(){return this._cell.row.getComponent()},f.prototype.getData=function(){return this._cell.row.getData()},f.prototype.getField=function(){return this._cell.column.getField()},f.prototype.getColumn=function(){return this._cell.column.getComponent()},f.prototype.setValue=function(t,e){"undefined"==typeof e&&(e=!0),this._cell.setValue(t,e)},f.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},f.prototype.restoreInitialValue=function(){this._cell.setValueActual(this._cell.initialValue)},f.prototype.edit=function(t){return this._cell.edit(t)},f.prototype.cancelEdit=function(){this._cell.cancelEdit()},f.prototype.isEdited=function(){return!!this._cell.modules.edit&&this._cell.modules.edit.edited},f.prototype.clearEdited=function(){self.table.modExists("edit",!0)&&this._cell.table.modules.edit.clearEdited(this._cell)},f.prototype.isValid=function(){return!this._cell.modules.validate||!this._cell.modules.validate.invalid},f.prototype.validate=function(){return this._cell.validate()},f.prototype.clearValidation=function(){this._cell.table.modExists("validate",!0)&&this._cell.table.modules.validate.clearValidation(this._cell)},f.prototype.nav=function(){return this._cell.nav()},f.prototype.checkHeight=function(){this._cell.checkHeight()},f.prototype.getTable=function(){return this._cell.table},f.prototype._getSelf=function(){return this._cell};var p=function(t,e){this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()};p.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value},p.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},p.prototype._configureCell=function(){var t=this,e=t.column.cellEvents,n=t.element,i=this.column.getField(),r={top:"flex-start",bottom:"flex-end",middle:"center"},o={left:"flex-start",right:"flex-end",center:"center"};if(n.style.textAlign=t.column.hozAlign,t.column.vertAlign&&(n.style.display="inline-flex",n.style.alignItems=r[t.column.vertAlign]||"",t.column.hozAlign&&(n.style.justifyContent=o[t.column.hozAlign]||"")),i&&n.setAttribute("tabulator-field",i),t.column.definition.cssClass){var a=t.column.definition.cssClass.split(" ");a.forEach((function(t){n.classList.add(t)}))}"hover"===this.table.options.tooltipGenerationMode&&n.addEventListener("mouseenter",(function(e){t._generateTooltip()})),t._bindClickEvents(e),t._bindTouchEvents(e),t._bindMouseEvents(e),t.column.modules.edit&&t.table.modules.edit.bindEditor(t),t.column.definition.rowHandle&&!1!==t.table.options.movableRows&&t.table.modExists("moveRow")&&t.table.modules.moveRow.initializeCell(t),t.column.visible||t.hide()},p.prototype._bindClickEvents=function(t){var e=this,n=e.element;(t.cellClick||e.table.options.cellClick)&&n.addEventListener("click",(function(n){var i=e.getComponent();t.cellClick&&t.cellClick.call(e.table,n,i),e.table.options.cellClick&&e.table.options.cellClick.call(e.table,n,i)})),t.cellDblClick||this.table.options.cellDblClick?n.addEventListener("dblclick",(function(n){var i=e.getComponent();t.cellDblClick&&t.cellDblClick.call(e.table,n,i),e.table.options.cellDblClick&&e.table.options.cellDblClick.call(e.table,n,i)})):n.addEventListener("dblclick",(function(t){if(!e.table.modExists("edit")||e.table.modules.edit.currentCell!==e){t.preventDefault();try{if(document.selection){var n=document.body.createTextRange();n.moveToElementText(e.element),n.select()}else if(window.getSelection){n=document.createRange();n.selectNode(e.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}catch(t){}}})),(t.cellContext||this.table.options.cellContext)&&n.addEventListener("contextmenu",(function(n){var i=e.getComponent();t.cellContext&&t.cellContext.call(e.table,n,i),e.table.options.cellContext&&e.table.options.cellContext.call(e.table,n,i)}))},p.prototype._bindMouseEvents=function(t){var e=this,n=e.element;(t.cellMouseEnter||e.table.options.cellMouseEnter)&&n.addEventListener("mouseenter",(function(n){var i=e.getComponent();t.cellMouseEnter&&t.cellMouseEnter.call(e.table,n,i),e.table.options.cellMouseEnter&&e.table.options.cellMouseEnter.call(e.table,n,i)})),(t.cellMouseLeave||e.table.options.cellMouseLeave)&&n.addEventListener("mouseleave",(function(n){var i=e.getComponent();t.cellMouseLeave&&t.cellMouseLeave.call(e.table,n,i),e.table.options.cellMouseLeave&&e.table.options.cellMouseLeave.call(e.table,n,i)})),(t.cellMouseOver||e.table.options.cellMouseOver)&&n.addEventListener("mouseover",(function(n){var i=e.getComponent();t.cellMouseOver&&t.cellMouseOver.call(e.table,n,i),e.table.options.cellMouseOver&&e.table.options.cellMouseOver.call(e.table,n,i)})),(t.cellMouseOut||e.table.options.cellMouseOut)&&n.addEventListener("mouseout",(function(n){var i=e.getComponent();t.cellMouseOut&&t.cellMouseOut.call(e.table,n,i),e.table.options.cellMouseOut&&e.table.options.cellMouseOut.call(e.table,n,i)})),(t.cellMouseMove||e.table.options.cellMouseMove)&&n.addEventListener("mousemove",(function(n){var i=e.getComponent();t.cellMouseMove&&t.cellMouseMove.call(e.table,n,i),e.table.options.cellMouseMove&&e.table.options.cellMouseMove.call(e.table,n,i)}))},p.prototype._bindTouchEvents=function(t){var e,n,i,r=this,o=r.element;(t.cellTap||this.table.options.cellTap)&&(i=!1,o.addEventListener("touchstart",(function(t){i=!0}),{passive:!0}),o.addEventListener("touchend",(function(e){if(i){var n=r.getComponent();t.cellTap&&t.cellTap.call(r.table,e,n),r.table.options.cellTap&&r.table.options.cellTap.call(r.table,e,n)}i=!1}))),(t.cellDblTap||this.table.options.cellDblTap)&&(e=null,o.addEventListener("touchend",(function(n){if(e){clearTimeout(e),e=null;var i=r.getComponent();t.cellDblTap&&t.cellDblTap.call(r.table,n,i),r.table.options.cellDblTap&&r.table.options.cellDblTap.call(r.table,n,i)}else e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),(t.cellTapHold||this.table.options.cellTapHold)&&(n=null,o.addEventListener("touchstart",(function(e){clearTimeout(n),n=setTimeout((function(){clearTimeout(n),n=null,i=!1;var o=r.getComponent();t.cellTapHold&&t.cellTapHold.call(r.table,e,o),r.table.options.cellTapHold&&r.table.options.cellTapHold.call(r.table,e,o)}),1e3)}),{passive:!0}),o.addEventListener("touchend",(function(t){clearTimeout(n),n=null})))},p.prototype._generateContents=function(){var t;switch(t=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value,"undefined"===typeof t?"undefined":o(t)){case"object":if(t instanceof Node){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="",null!=t&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",t);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=t}},p.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},p.prototype._generateTooltip=function(){var t=this.column.tooltip;t?(!0===t?t=this.value:"function"==typeof t&&(t=t(this.getComponent()),!1===t&&(t="")),"undefined"===typeof t&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")},p.prototype.getElement=function(t){return this.loaded||(this.loaded=!0,t||this.layoutElement()),this.element},p.prototype.getValue=function(){return this.value},p.prototype.getOldValue=function(){return this.oldValue},p.prototype.setValue=function(t,e){var n,i=this.setValueProcessData(t,e);i&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),n=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,n),this.table.options.groupUpdateOnCellEdit&&this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.reassignRowToGroup(this.row),this.cellRendered(),this.table.options.cellEdited.call(this.table,n),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.table.rowManager.getData()))},p.prototype.setValueProcessData=function(t,e){var n=!1;return this.value!=t&&(n=!0,e&&this.column.modules.mutate&&(t=this.table.modules.mutator.transformCell(this,t))),this.setValueActual(t),n&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),"table"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.recalcRowGroup(this.row)):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),n},p.prototype.setValueActual=function(t){this.oldValue=this.value,this.value=t,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,t),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this.loaded&&this.layoutElement()},p.prototype.layoutElement=function(){this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&"row"===this.row.type&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),(this.column.definition.contextMenu||this.column.definition.clickMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeCell(this),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},p.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},p.prototype.clearWidth=function(){this.width="",this.element.style.width=""},p.prototype.getWidth=function(){return this.width||this.element.offsetWidth},p.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},p.prototype.setMaxWidth=function(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled},p.prototype.checkHeight=function(){this.row.reinitializeHeight()},p.prototype.clearHeight=function(){this.element.style.height="",this.height=null},p.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},p.prototype.getHeight=function(){return this.height||this.element.offsetHeight},p.prototype.show=function(){this.element.style.display=this.column.vertAlign?"inline-flex":""},p.prototype.hide=function(){this.element.style.display="none"},p.prototype.edit=function(t){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,t)},p.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var t=this.table.modules.edit.getCurrentCell();t&&t._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},p.prototype.validate=function(){if(this.column.modules.validate&&this.table.modExists("validate",!0)){var t=this.table.modules.validate.validate(this.column.modules.validate,this,this.getValue());return!0===t}return!0},p.prototype.delete=function(){!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.modules.validate&&this.modules.validate.invalid&&this.table.modules.validate.clearValidation(this),this.modules.edit&&this.modules.edit.edited&&this.table.modules.edit.clearEdited(this),this.table.options.history&&this.table.modules.history.clearComponentHistory(this),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},p.prototype.nav=function(){var t=this,e=!1,n=this.row.getCellIndex(this);return{next:function(){var e,n=this.right();return!!n||(e=t.table.rowManager.nextDisplayRow(t.row,!0),!(!e||(n=e.findNextEditableCell(-1),!n))&&(n.edit(),!0))},prev:function(){var e,n=this.left();return!!n||(e=t.table.rowManager.prevDisplayRow(t.row,!0),!(!e||(n=e.findPrevEditableCell(e.cells.length),!n))&&(n.edit(),!0))},left:function(){return e=t.row.findPrevEditableCell(n),!!e&&(e.edit(),!0)},right:function(){return e=t.row.findNextEditableCell(n),!!e&&(e.edit(),!0)},up:function(){var e=t.table.rowManager.prevDisplayRow(t.row,!0);e&&e.cells[n].edit()},down:function(){var e=t.table.rowManager.nextDisplayRow(t.row,!0);e&&e.cells[n].edit()}}},p.prototype.getIndex=function(){this.row.getCellIndex(this)},p.prototype.getComponent=function(){return this.component||(this.component=new f(this)),this.component};var m=function(t){this.table=t,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};m.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t},m.prototype._initialize=function(t){if(this.table.options.footerElement)switch(o(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}},m.prototype.getElement=function(){return this.element},m.prototype.append=function(t,e){this.activate(e),this.element.appendChild(t),this.table.rowManager.adjustTableSize()},m.prototype.prepend=function(t,e){this.activate(e),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()},m.prototype.remove=function(t){t.parentNode.removeChild(t),this.deactivate()},m.prototype.deactivate=function(t){this.element.firstChild&&!t||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},m.prototype.activate=function(t){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),t&&this.links.push(t)},m.prototype.redraw=function(){this.links.forEach((function(t){t.footerRedraw()}))};var g=function t(e,n){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.modules={},this.initializeElement(e)&&(this.initializeOptions(n||{}),this._create()),t.prototype.comms.register(this)};g.prototype.defaultOptions={height:!1,minHeight:!1,maxHeight:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnMaxWidth:!1,columnHeaderVertAlign:"top",columnVertAlign:!1,resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],cellHozAlign:"",cellVertAlign:"",headerHozAlign:"",data:[],autoColumns:!1,autoColumnsDefinitions:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,headerSort:!0,headerSortTristate:!1,headerSortElement:"<div class='tabulator-arrow'></div>",footerElement:!1,index:"id",textDirection:"auto",keybindings:[],tabEndNewRow:!1,invalidOptionWarnings:!0,clipboard:!1,clipboardCopyStyled:!0,clipboardCopyConfig:!1,clipboardCopyFormatter:!1,clipboardCopyRowRange:"active",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(t,e){return e},downloadComplete:!1,downloadConfig:{},downloadRowRange:"active",dataTree:!1,dataTreeFilter:!0,dataTreeSort:!0,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},dataTreeChildColumnCalcs:!1,dataTreeSelectPropagate:!1,printAsHtml:!1,printFormatter:!1,printHeader:!1,printFooter:!1,printCopyStyle:!0,printStyled:!0,printVisibleRows:!0,printRowRange:"visible",printConfig:{},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(t,e){return!0},headerFilterLiveFilterDelay:300,headerFilterPlaceholder:!1,headerVisible:!0,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,virtualDomHoz:!1,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistenceReaderFunc:!1,persistenceWriterFunc:!1,persistence:!1,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationInitialPage:1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupUpdateOnCellEdit:!1,groupHeader:!1,groupHeaderPrint:null,groupHeaderClipboard:null,groupHeaderHtmlOutput:null,groupHeaderDownload:null,htmlOutputConfig:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsConnectedElements:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},movableRowsElementDrop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowContextMenu:!1,rowClickMenu:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:!1,dataChanged:!1,ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupContextMenu:!1,groupClickMenu:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationMode:"blocking",validationFailed:function(){},historyUndo:function(){},historyRedo:function(){},scrollHorizontal:function(){},scrollVertical:function(){}},g.prototype.initializeOptions=function(t){if(!1!==t.invalidOptionWarnings)for(var e in t)"undefined"===typeof this.defaultOptions[e]&&console.warn("Invalid table constructor option:",e);for(var e in this.defaultOptions)e in t?this.options[e]=t[e]:Array.isArray(this.defaultOptions[e])?this.options[e]=Object.assign([],this.defaultOptions[e]):"object"===o(this.defaultOptions[e])&&null!==this.defaultOptions[e]?this.options[e]=Object.assign({},this.defaultOptions[e]):this.options[e]=this.defaultOptions[e]},g.prototype.initializeElement=function(t){return"undefined"!==typeof HTMLElement&&t instanceof HTMLElement?(this.element=t,!0):"string"===typeof t?(this.element=document.querySelector(t),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",t),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",t),!1)},g.prototype.rtlCheck=function(){var t=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==t.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}},g.prototype._mapDepricatedFunctionality=function(){(this.options.persistentLayout||this.options.persistentSort||this.options.persistentFilter)&&(this.options.persistence||(this.options.persistence={})),this.options.dataEdited&&(console.warn("DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead"),this.options.dataChanged=this.options.dataEdited),this.options.downloadDataFormatter&&console.warn("DEPRECATION WARNING - downloadDataFormatter option has been deprecated"),"undefined"!==typeof this.options.clipboardCopyHeader&&(this.options.columnHeaders=this.options.clipboardCopyHeader,console.warn("DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option")),!0!==this.options.printVisibleRows&&(console.warn("printVisibleRows option is deprecated, you should now use the printRowRange option"),this.options.persistence.printRowRange="active"),!0!==this.options.printCopyStyle&&(console.warn("printCopyStyle option is deprecated, you should now use the printStyled option"),this.options.persistence.printStyled=this.options.printCopyStyle),this.options.persistentLayout&&(console.warn("persistentLayout option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&"undefined"===typeof this.options.persistence.columns&&(this.options.persistence.columns=!0)),this.options.persistentSort&&(console.warn("persistentSort option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&"undefined"===typeof this.options.persistence.sort&&(this.options.persistence.sort=!0)),this.options.persistentFilter&&(console.warn("persistentFilter option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&"undefined"===typeof this.options.persistence.filter&&(this.options.persistence.filter=!0)),this.options.columnVertAlign&&(console.warn("columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option"),this.options.columnHeaderVertAlign=this.options.columnVertAlign)},g.prototype._clearSelection=function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")},g.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),this.rtlCheck(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new a(this),this.rowManager=new c(this),this.footerManager=new m(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this.options.virtualDomHoz&&(this.vdomHoz=new u(this)),this._buildElement(),this._loadInitialData()},g.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},g.prototype._buildElement=function(){var t=this,e=this.element,n=this.modules,i=this.options;i.tableBuilding.call(this),e.classList.add("tabulator"),e.setAttribute("role","grid");while(e.firstChild)e.removeChild(e.firstChild);for(var r in i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",e.style.height=i.height),!1!==i.minHeight&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",e.style.minHeight=i.minHeight),!1!==i.maxHeight&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",e.style.maxHeight=i.maxHeight),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&n.layout.initialize(i.layout),n.localize.initialize(),!1!==i.headerFilterPlaceholder&&n.localize.setHeaderFilterPlaceholder(i.headerFilterPlaceholder),i.langs)n.localize.installLang(r,i.langs[r]);if(n.localize.setLocale(i.locale),"string"==typeof i.placeholder){var o=document.createElement("div");o.classList.add("tabulator-placeholder");var a=document.createElement("span");a.innerHTML=i.placeholder,o.appendChild(a),i.placeholder=o}if(e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.persistence&&this.modExists("persistence",!0)&&n.persistence.initialize(),i.movableRows&&this.modExists("moveRow")&&n.moveRow.initialize(),i.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&n.columnCalcs.initialize(),this.columnManager.setColumns(i.columns),i.dataTree&&this.modExists("dataTree",!0)&&n.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(i.persistence&&this.modExists("persistence",!0)&&n.persistence.config.sort||i.initialSort)&&this.modExists("sort",!0)){var s=[];i.persistence&&this.modExists("persistence",!0)&&n.persistence.config.sort?(s=n.persistence.load("sort"),!1===s&&i.initialSort&&(s=i.initialSort)):i.initialSort&&(s=i.initialSort),n.sort.setSort(s)}if((i.persistence&&this.modExists("persistence",!0)&&n.persistence.config.filter||i.initialFilter)&&this.modExists("filter",!0)){var l=[];i.persistence&&this.modExists("persistence",!0)&&n.persistence.config.filter?(l=n.persistence.load("filter"),!1===l&&i.initialFilter&&(l=i.initialFilter)):i.initialFilter&&(l=i.initialFilter),n.filter.setFilter(l)}i.initialHeaderFilter&&this.modExists("filter",!0)&&i.initialHeaderFilter.forEach((function(e){var i=t.columnManager.findColumn(e.field);if(!i)return console.warn("Column Filter Error - No matching column found:",e.field),!1;n.filter.setHeaderFilterValue(i,e.value)})),this.modExists("ajax")&&n.ajax.initialize(),i.pagination&&this.modExists("page",!0)&&n.page.initialize(),i.groupBy&&this.modExists("groupRows",!0)&&n.groupRows.initialize(),this.modExists("keybindings")&&n.keybindings.initialize(),this.modExists("selectRow")&&n.selectRow.clearSelectionData(!0),i.autoResize&&this.modExists("resizeTable")&&n.resizeTable.initialize(),this.modExists("clipboard")&&n.clipboard.initialize(),i.printAsHtml&&this.modExists("print")&&n.print.initialize(),i.tableBuilt.call(this)},g.prototype._loadInitialData=function(){var t=this;if(t.options.pagination&&t.modExists("page"))if(t.modules.page.reset(!0,!0),"local"==t.options.pagination){if(t.options.data.length)t.rowManager.setData(t.options.data,!1,!0);else{if((t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax"))return void t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}));t.rowManager.setData(t.options.data,!1,!0)}t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}else t.options.ajaxURL?t.modules.page.setPage(t.options.paginationInitialPage).then((function(){})).catch((function(){})):t.rowManager.setData([],!1,!0);else t.options.data.length?t.rowManager.setData(t.options.data):(t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax")?t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){})):t.rowManager.setData(t.options.data,!1,!0)},g.prototype.destroy=function(){var t=this.element;g.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach((function(t){t.wipe()})),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();while(t.firstChild)t.removeChild(t.firstChild);t.classList.remove("tabulator")},g.prototype._detectBrowser=function(){var t=navigator.userAgent||navigator.vendor||window.opera;t.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):t.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):t.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))},g.prototype.blockRedraw=function(){return this.rowManager.blockRedraw()},g.prototype.restoreRedraw=function(){return this.rowManager.restoreRedraw()},g.prototype.setDataFromLocalFile=function(t){var e=this;return new Promise((function(n,i){var r=document.createElement("input");r.type="file",r.accept=t||".json,application/json",r.addEventListener("change",(function(t){var o,a=r.files[0],s=new FileReader;s.readAsText(a),s.onload=function(t){try{o=JSON.parse(s.result)}catch(t){return console.warn("File Load Error - File contents is invalid JSON",t),void i(t)}e.setData(o).then((function(t){n(t)})).catch((function(t){n(t)}))},s.onerror=function(t){console.warn("File Load Error - Unable to read file"),i()}})),r.click()}))},g.prototype.setData=function(t,e,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,n,!1,!0)},g.prototype._setData=function(t,e,n,i,r){var o=this;return"string"!==typeof t?t?o.rowManager.setData(t,i,r):o.modExists("ajax")&&(o.modules.ajax.getUrl||o.options.ajaxURLGenerator)?"remote"==o.options.pagination&&o.modExists("page",!0)?(o.modules.page.reset(!0,!0),o.modules.page.setPage(1)):o.modules.ajax.loadData(i,r):o.rowManager.setData([],i,r):0==t.indexOf("{")||0==t.indexOf("[")?o.rowManager.setData(JSON.parse(t),i,r):o.modExists("ajax",!0)?(e&&o.modules.ajax.setParams(e),n&&o.modules.ajax.setConfig(n),o.modules.ajax.setUrl(t),"remote"==o.options.pagination&&o.modExists("page",!0)?(o.modules.page.reset(!0,!0),o.modules.page.setPage(1)):o.modules.ajax.loadData(i,r)):void 0},g.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},g.prototype.getData=function(t){return!0===t&&(console.warn("passing a boolean to the getData function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getData(t)},g.prototype.getDataCount=function(t){return!0===t&&(console.warn("passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getDataCount(t)},g.prototype.searchRows=function(t,e,n){if(this.modExists("filter",!0))return this.modules.filter.search("rows",t,e,n)},g.prototype.searchData=function(t,e,n){if(this.modExists("filter",!0))return this.modules.filter.search("data",t,e,n)},g.prototype.getHtml=function(t,e,n){if(this.modExists("export",!0))return this.modules.export.getHtml(t,e,n)},g.prototype.print=function(t,e,n){if(this.modExists("print",!0))return this.modules.print.printFullscreen(t,e,n)},g.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},g.prototype.replaceData=function(t,e,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,n,!0)},g.prototype.updateData=function(t){var e=this,n=this,i=0;return new Promise((function(r,o){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"===typeof t&&(t=JSON.parse(t)),t?t.forEach((function(t){var e=n.rowManager.findRow(t[n.options.index]);e&&(i++,e.updateData(t).then((function(){i--,i||r()})))})):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))}))},g.prototype.addData=function(t,e,n){var i=this;return new Promise((function(r,o){i.modExists("ajax")&&i.modules.ajax.blockActiveRequest(),"string"===typeof t&&(t=JSON.parse(t)),t?i.rowManager.addRows(t,e,n).then((function(t){var e=[];t.forEach((function(t){e.push(t.getComponent())})),r(e)})):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))}))},g.prototype.updateOrAddData=function(t){var e=this,n=this,i=[],r=0;return new Promise((function(o,a){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"===typeof t&&(t=JSON.parse(t)),t?t.forEach((function(t){var e=n.rowManager.findRow(t[n.options.index]);r++,e?e.updateData(t).then((function(){r--,i.push(e.getComponent()),r||o(i)})):n.rowManager.addRows(t).then((function(t){r--,i.push(t[0].getComponent()),r||o(i)}))})):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))}))},g.prototype.getRow=function(t){var e=this.rowManager.findRow(t);return e?e.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},g.prototype.getRowFromPosition=function(t,e){var n=this.rowManager.getRowFromPosition(t,e);return n?n.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},g.prototype.deleteRow=function(t){var e=this;return new Promise((function(n,i){var r=e,o=0,a=0,s=[];function l(){o++,o==t.length&&a&&(r.rowManager.reRenderInPosition(),n())}Array.isArray(t)||(t=[t]),t.forEach((function(t){var n=e.rowManager.findRow(t,!0);n?s.push(n):(console.warn("Delete Error - No matching row found:",t),i("Delete Error - No matching row found"),l())})),s.sort((function(t,n){return e.rowManager.rows.indexOf(t)>e.rowManager.rows.indexOf(n)?1:-1})),s.forEach((function(t){t.delete().then((function(){a++,l()})).catch((function(t){l(),i(t)}))}))}))},g.prototype.addRow=function(t,e,n){var i=this;return new Promise((function(r,o){"string"===typeof t&&(t=JSON.parse(t)),i.rowManager.addRows(t,e,n).then((function(t){i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(i.rowManager.activeRows),r(t[0].getComponent())}))}))},g.prototype.updateOrAddRow=function(t,e){var n=this;return new Promise((function(i,r){var o=n.rowManager.findRow(t);"string"===typeof e&&(e=JSON.parse(e)),o?o.updateData(e).then((function(){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),i(o.getComponent())})).catch((function(t){r(t)})):o=n.rowManager.addRows(e).then((function(t){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),i(t[0].getComponent())})).catch((function(t){r(t)}))}))},g.prototype.updateRow=function(t,e){var n=this;return new Promise((function(i,r){var o=n.rowManager.findRow(t);"string"===typeof e&&(e=JSON.parse(e)),o?o.updateData(e).then((function(){i(o.getComponent())})).catch((function(t){r(t)})):(console.warn("Update Error - No matching row found:",t),r("Update Error - No matching row found"))}))},g.prototype.scrollToRow=function(t,e,n){var i=this;return new Promise((function(r,o){var a=i.rowManager.findRow(t);a?i.rowManager.scrollToRow(a,e,n).then((function(){r()})).catch((function(t){o(t)})):(console.warn("Scroll Error - No matching row found:",t),o("Scroll Error - No matching row found"))}))},g.prototype.moveRow=function(t,e,n){var i=this.rowManager.findRow(t);i?i.moveToRow(e,n):console.warn("Move Error - No matching row found:",t)},g.prototype.getRows=function(t){return!0===t&&(console.warn("passing a boolean to the getRows function is deprecated, you should now pass the string 'active'"),t="active"),this.rowManager.getComponents(t)},g.prototype.getRowPosition=function(t,e){var n=this.rowManager.findRow(t);return n?this.rowManager.getRowPosition(n,e):(console.warn("Position Error - No matching row found:",t),!1)},g.prototype.copyToClipboard=function(t){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(t)},g.prototype.setColumns=function(t){this.columnManager.setColumns(t)},g.prototype.getColumns=function(t){return this.columnManager.getComponents(t)},g.prototype.getColumn=function(t){var e=this.columnManager.findColumn(t);return e?e.getComponent():(console.warn("Find Error - No matching column found:",t),!1)},g.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},g.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},g.prototype.setColumnLayout=function(t){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,t)),!0)},g.prototype.showColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Show Error - No matching column found:",t),!1;e.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},g.prototype.hideColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Hide Error - No matching column found:",t),!1;e.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},g.prototype.toggleColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Visibility Toggle Error - No matching column found:",t),!1;e.visible?e.hide():e.show()},g.prototype.addColumn=function(t,e,n){var i=this;return new Promise((function(r,o){var a=i.columnManager.findColumn(n);i.columnManager.addColumn(t,e,a).then((function(t){r(t.getComponent())})).catch((function(t){o(t)}))}))},g.prototype.deleteColumn=function(t){var e=this;return new Promise((function(n,i){var r=e.columnManager.findColumn(t);r?r.delete().then((function(){n()})).catch((function(t){i(t)})):(console.warn("Column Delete Error - No matching column found:",t),i())}))},g.prototype.updateColumnDefinition=function(t,e){var n=this;return new Promise((function(i,r){var o=n.columnManager.findColumn(t);o?o.updateDefinition(e).then((function(t){i(t)})).catch((function(t){r(t)})):(console.warn("Column Update Error - No matching column found:",t),r())}))},g.prototype.moveColumn=function(t,e,n){var i=this.columnManager.findColumn(t),r=this.columnManager.findColumn(e);i?r?this.columnManager.moveColumn(i,r,n):console.warn("Move Error - No matching column found:",r):console.warn("Move Error - No matching column found:",t)},g.prototype.scrollToColumn=function(t,e,n){var i=this;return new Promise((function(r,o){var a=i.columnManager.findColumn(t);a?i.columnManager.scrollToColumn(a,e,n).then((function(){r()})).catch((function(t){o(t)})):(console.warn("Scroll Error - No matching column found:",t),o("Scroll Error - No matching column found"))}))},g.prototype.setLocale=function(t){this.modules.localize.setLocale(t)},g.prototype.getLocale=function(){return this.modules.localize.getLocale()},g.prototype.getLang=function(t){return this.modules.localize.getLang(t)},g.prototype.redraw=function(t){this.columnManager.redraw(t),this.rowManager.redraw(t)},g.prototype.setHeight=function(t){"classic"!==this.rowManager.renderMode?(this.options.height=isNaN(t)?t:t+"px",this.element.style.height=this.options.height,this.rowManager.setRenderMode(),this.rowManager.redraw()):console.warn("setHeight function is not available in classic render mode")},g.prototype.setSort=function(t,e){this.modExists("sort",!0)&&(this.modules.sort.setSort(t,e),this.rowManager.sorterRefresh())},g.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},g.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},g.prototype.setFilter=function(t,e,n,i){this.modExists("filter",!0)&&(this.modules.filter.setFilter(t,e,n,i),this.rowManager.filterRefresh())},g.prototype.refreshFilter=function(){this.modExists("filter",!0)&&this.rowManager.filterRefresh()},g.prototype.addFilter=function(t,e,n,i){this.modExists("filter",!0)&&(this.modules.filter.addFilter(t,e,n,i),this.rowManager.filterRefresh())},g.prototype.getFilters=function(t){if(this.modExists("filter",!0))return this.modules.filter.getFilters(t)},g.prototype.setHeaderFilterFocus=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Filter Focus Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterFocus(e)}},g.prototype.getHeaderFilterValue=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(e)return this.modules.filter.getHeaderFilterValue(e);console.warn("Column Filter Error - No matching column found:",t)}},g.prototype.setHeaderFilterValue=function(t,e){if(this.modExists("filter",!0)){var n=this.columnManager.findColumn(t);if(!n)return console.warn("Column Filter Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterValue(n,e)}},g.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},g.prototype.removeFilter=function(t,e,n){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(t,e,n),this.rowManager.filterRefresh())},g.prototype.clearFilter=function(t){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(t),this.rowManager.filterRefresh())},g.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},g.prototype.selectRow=function(t){this.modExists("selectRow",!0)&&(!0===t&&(console.warn("passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'"),t="active"),this.modules.selectRow.selectRows(t))},g.prototype.deselectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(t)},g.prototype.toggleSelectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(t)},g.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},g.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},g.prototype.getInvalidCells=function(){if(this.modExists("validate",!0))return this.modules.validate.getInvalidCells()},g.prototype.clearCellValidation=function(t){var e=this;this.modExists("validate",!0)&&(t||(t=this.modules.validate.getInvalidCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.validate.clearValidation(t._getSelf())})))},g.prototype.validate=function(t){var e=[];return this.rowManager.rows.forEach((function(t){var n=t.validate();!0!==n&&(e=e.concat(n))})),!e.length||e},g.prototype.setMaxPage=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(t)},g.prototype.setPage=function(t){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(t):new Promise((function(t,e){e()}))},g.prototype.setPageToRow=function(t){var e=this;return new Promise((function(n,i){e.options.pagination&&e.modExists("page")?(t=e.rowManager.findRow(t),t?e.modules.page.setPageToRow(t).then((function(){n()})).catch((function(){i()})):i()):i()}))},g.prototype.setPageSize=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(t),this.modules.page.setPage(1).then((function(){})).catch((function(){}))},g.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},g.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},g.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},g.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},g.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},g.prototype.setGroupBy=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},g.prototype.setGroupValues=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupValues=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},g.prototype.setGroupStartOpen=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=t,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},g.prototype.setGroupHeader=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=t,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},g.prototype.getGroups=function(t){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},g.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},g.prototype.getEditedCells=function(){if(this.modExists("edit",!0))return this.modules.edit.getEditedCells()},g.prototype.clearCellEdited=function(t){var e=this;this.modExists("edit",!0)&&(t||(t=this.modules.edit.getEditedCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.edit.clearEdited(t._getSelf())})))},g.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},g.prototype.recalc=function(){this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.recalcAll(this.rowManager.activeRows)},g.prototype.navigatePrev=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&t.nav().prev()},g.prototype.navigateNext=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&t.nav().next()},g.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&(e.preventDefault(),t.nav().left())},g.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&(e.preventDefault(),t.nav().right())},g.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&(e.preventDefault(),t.nav().up())},g.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||(t=this.modules.edit.currentCell,!t))&&(e.preventDefault(),t.nav().down())},g.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},g.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},g.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},g.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},g.prototype.clearHistory=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.clear()},g.prototype.download=function(t,e,n,i){this.modExists("download",!0)&&this.modules.download.download(t,e,n,i)},g.prototype.downloadToTab=function(t,e,n,i){this.modExists("download",!0)&&this.modules.download.download(t,e,n,i,!0)},g.prototype.tableComms=function(t,e,n,i){this.modules.comms.receive(t,e,n,i)},g.prototype.moduleBindings={},g.prototype.extendModule=function(t,e,n){if(g.prototype.moduleBindings[t]){var i=g.prototype.moduleBindings[t].prototype[e];if(i)if("object"==("undefined"===typeof n?"undefined":o(n)))for(var r in n)i[r]=n[r];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",e)}else console.warn("Module Error - module does not exist:",t)},g.prototype.registerModule=function(t,e){g.prototype.moduleBindings[t]=e},g.prototype.bindModules=function(){for(var t in this.modules={},g.prototype.moduleBindings)this.modules[t]=new g.prototype.moduleBindings[t](this)},g.prototype.modExists=function(t,e){return!!this.modules[t]||(e&&console.error("Tabulator Module Not Installed: "+t),!1)},g.prototype.helpers={elVisible:function(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)},elOffset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(t){var e=Object.assign(Array.isArray(t)?[]:{},t);for(var n in t)null!=t[n]&&"object"===o(t[n])&&(t[n]instanceof Date?e[n]=new Date(t[n]):e[n]=this.deepClone(t[n]));return e}},g.prototype.comms={tables:[],register:function(t){g.prototype.comms.tables.push(t)},deregister:function(t){var e=g.prototype.comms.tables.indexOf(t);e>-1&&g.prototype.comms.tables.splice(e,1)},lookupTable:function(t,e){var n,i,r=[];if("string"===typeof t){if(n=document.querySelectorAll(t),n.length)for(var o=0;o<n.length;o++)i=g.prototype.comms.matchElement(n[o]),i&&r.push(i)}else"undefined"!==typeof HTMLElement&&t instanceof HTMLElement||t instanceof g?(i=g.prototype.comms.matchElement(t),i&&r.push(i)):Array.isArray(t)?t.forEach((function(t){r=r.concat(g.prototype.comms.lookupTable(t))})):e||console.warn("Table Connection Error - Invalid Selector",t);return r},matchElement:function(t){return g.prototype.comms.tables.find((function(e){return t instanceof g?e===t:e.element===t}))}},g.prototype.findTable=function(t){var e=g.prototype.comms.lookupTable(t,!0);return!(Array.isArray(e)&&!e.length)&&e};var b=function(t){this.table=t,this.mode=null};b.prototype.initialize=function(t){this.modes[t]?this.mode=t:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+t),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},b.prototype.getMode=function(){return this.mode},b.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),0===this.mode.indexOf("fitData")&&this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},b.prototype.modes={fitData:function(t){this.table.options.virtualDomHoz?this.table.vdomHoz.fitDataLayoutOverride():t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataTable:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataStretch:function(t){var e=this,n=0,i=this.table.rowManager.element.clientWidth,r=0,o=!1;t.forEach((function(t,i){t.widthFixed||t.reinitializeWidth(),(e.table.options.responsiveLayout?t.modules.responsive.visible:t.visible)&&(o=t),t.visible&&(n+=t.getWidth())})),o?(r=i-n+o.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(o.setWidth(0),this.table.modules.responsiveLayout.update()),r>0?o.setWidth(r):o.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(t){var e=this,n=e.table.element.clientWidth,i=0,r=0,o=0,a=0,s=[],l=[],c=0,u=0,h=0;function d(t){var e;return e="string"==typeof t?t.indexOf("%")>-1?n/100*parseInt(t):parseInt(t):t,e}function f(t,e,n,i){var r=[],a=0,s=0,l=0,c=o,u=0,h=0,p=[];function m(t){return n*(t.column.definition.widthGrow||1)}function g(t){return d(t.width)-n*(t.column.definition.widthShrink||0)}return t.forEach((function(t,o){var a=i?g(t):m(t);t.column.minWidth>=a?r.push(t):t.column.maxWidth&&t.column.maxWidth<a?(t.width=t.column.maxWidth,e-=t.column.maxWidth,c-=i?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1,c&&(n=Math.floor(e/c))):(p.push(t),h+=i?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)})),r.length?(r.forEach((function(t){a+=i?t.width-t.column.minWidth:t.column.minWidth,t.width=t.column.minWidth})),s=e-a,l=h?Math.floor(s/h):s,u=s-l*h,u+=f(p,s,l,i)):(u=h?e-Math.floor(e/h)*h:e,p.forEach((function(t){t.width=i?g(t):m(t)}))),u}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(n-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach((function(t){var e,n,r;t.visible&&(e=t.definition.width,n=parseInt(t.minWidth),e?(r=d(e),i+=r>n?r:n,t.definition.widthShrink&&(l.push({column:t,width:r>n?r:n}),c+=t.definition.widthShrink)):(s.push({column:t,width:0}),o+=t.definition.widthGrow||1))})),r=n-i,a=Math.floor(r/o);h=f(s,r,a,!1);s.length&&h>0&&(s[s.length-1].width+=+h),s.forEach((function(t){r-=t.width})),u=Math.abs(h)+r,u>0&&c&&(h=f(l,u,Math.floor(u/c),!0)),l.length&&(l[l.length-1].width-=h),s.forEach((function(t){t.column.setWidth(t.width)})),l.forEach((function(t){t.column.setWidth(t.width)}))}},g.prototype.registerModule("layout",b);var v=function(t){this.table=t,this.locale="default",this.lang=!1,this.bindings={},this.langList={}};v.prototype.initialize=function(){this.langList=g.prototype.helpers.deepClone(this.langs)},v.prototype.setHeaderFilterPlaceholder=function(t){this.langList.default.headerFilters.default=t},v.prototype.setHeaderFilterColumnPlaceholder=function(t,e){this.langList.default.headerFilters.columns[t]=e,this.lang&&!this.lang.headerFilters.columns[t]&&(this.lang.headerFilters.columns[t]=e)},v.prototype.installLang=function(t,e){this.langList[t]?this._setLangProp(this.langList[t],e):this.langList[t]=e},v.prototype._setLangProp=function(t,e){for(var n in e)t[n]&&"object"==o(t[n])?this._setLangProp(t[n],e[n]):t[n]=e[n]},v.prototype.setLocale=function(t){var e=this;function n(t,e){for(var i in t)"object"==o(t[i])?(e[i]||(e[i]={}),n(t[i],e[i])):e[i]=t[i]}if(t=t||"default",!0===t&&navigator.language&&(t=navigator.language.toLowerCase()),t&&!e.langList[t]){var i=t.split("-")[0];e.langList[i]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",t,i),t=i):(console.warn("Localization Error - Matching locale not found, using default: ",t),t="default")}e.locale=t,e.lang=g.prototype.helpers.deepClone(e.langList.default||{}),"default"!=t&&n(e.langList[t],e.lang),e.table.options.localized.call(e.table,e.locale,e.lang),e._executeBindings()},v.prototype.getLocale=function(t){return self.locale},v.prototype.getLang=function(t){return t?this.langList[t]:this.lang},v.prototype.getText=function(t,e){t=e?t+"|"+e:t;var n=t.split("|"),i=this._getLangElement(n,this.locale);return i||""},v.prototype._getLangElement=function(t,e){var n=this,i=n.lang;return t.forEach((function(t){var e;i&&(e=i[t],i="undefined"!=typeof e&&e)})),i},v.prototype.bind=function(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)},v.prototype._executeBindings=function(){var t=this,e=function(e){t.bindings[e].forEach((function(n){n(t.getText(e),t.lang)}))};for(var n in t.bindings)e(n)},v.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},g.prototype.registerModule("localize",v);var y=function(t){this.table=t};y.prototype.getConnections=function(t){var e,n=this,i=[];return e=g.prototype.comms.lookupTable(t),e.forEach((function(t){n.table!==t&&i.push(t)})),i},y.prototype.send=function(t,e,n,i){var r=this,o=this.getConnections(t);o.forEach((function(t){t.tableComms(r.table.element,e,n,i)})),!o.length&&t&&console.warn("Table Connection Error - No tables matching selector found",t)},y.prototype.receive=function(t,e,n,i){if(this.table.modExists(e))return this.table.modules[e].commsReceived(t,n,i);console.warn("Inter-table Comms Error - no such module:",e)},g.prototype.registerModule("comms",y);var _=function(t){this.table=t,this.allowedTypes=["","data","download","clipboard","print","htmlOutput"]};_.prototype.initializeColumn=function(t){var e=this,n=!1,i={};this.allowedTypes.forEach((function(r){var o,a="accessor"+(r.charAt(0).toUpperCase()+r.slice(1));t.definition[a]&&(o=e.lookupAccessor(t.definition[a]),o&&(n=!0,i[a]={accessor:o,params:t.definition[a+"Params"]||{}}))})),n&&(t.modules.accessor=i)},_.prototype.lookupAccessor=function(t){var e=!1;switch("undefined"===typeof t?"undefined":o(t)){case"string":this.accessors[t]?e=this.accessors[t]:console.warn("Accessor Error - No such accessor found, ignoring: ",t);break;case"function":e=t;break}return e},_.prototype.transformRow=function(t,e){var n="accessor"+(e.charAt(0).toUpperCase()+e.slice(1)),i=t.getComponent(),r=g.prototype.helpers.deepClone(t.data||{});return this.table.columnManager.traverse((function(t){var o,a,s,l;t.modules.accessor&&(a=t.modules.accessor[n]||t.modules.accessor.accessor||!1,a&&(o=t.getFieldValue(r),"undefined"!=o&&(l=t.getComponent(),s="function"===typeof a.params?a.params(o,r,e,l,i):a.params,t.setFieldValue(r,a.accessor(o,r,e,s,l,i)))))})),r},_.prototype.accessors={},g.prototype.registerModule("accessor",_);var w=function(t){this.table=t,this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=!1,this.errorElement=!1,this.loaderPromise=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};w.prototype.initialize=function(){var t;this.loaderElement.appendChild(this.msgElement),this.table.options.ajaxLoaderLoading&&("string"==typeof this.table.options.ajaxLoaderLoading?(t=document.createElement("template"),t.innerHTML=this.table.options.ajaxLoaderLoading.trim(),this.loadingElement=t.content.firstChild):this.loadingElement=this.table.options.ajaxLoaderLoading),this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator,this.table.options.ajaxLoaderError&&("string"==typeof this.table.options.ajaxLoaderError?(t=document.createElement("template"),t.innerHTML=this.table.options.ajaxLoaderError.trim(),this.errorElement=t.content.firstChild):this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.modExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.modules.page.initializeProgressive(this.progressiveLoad)):console.error("Pagination plugin is required for progressive ajax loading"))},w.prototype.createLoaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader"),t},w.prototype.createMsgElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader-msg"),t.setAttribute("role","alert"),t},w.prototype.setParams=function(t,e){if(e)for(var n in this.params=this.params||{},t)this.params[n]=t[n];else this.params=t},w.prototype.getParams=function(){return this.params||{}},w.prototype.setConfig=function(t){if(this._loadDefaultConfig(),"string"==typeof t)this.config.method=t;else for(var e in t)this.config[e]=t[e]},w.prototype._loadDefaultConfig=function(t){var e=this;if(!e.config||t)for(var n in e.config={},e.defaultConfig)e.config[n]=e.defaultConfig[n]},w.prototype.setUrl=function(t){this.url=t},w.prototype.getUrl=function(){return this.url},w.prototype.loadData=function(t,e){return this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(t,e)},w.prototype.nextPage=function(t){var e;this.loading||(e=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.getElement().clientHeight,t<e&&this.table.modules.page.nextPage().then((function(){})).catch((function(){})))},w.prototype.blockActiveRequest=function(){this.requestOrder++},w.prototype._loadDataProgressive=function(){return this.table.rowManager.setData([]),this.table.modules.page.setPage(1)},w.prototype._loadDataStandard=function(t,e){var n=this;return new Promise((function(i,r){n.sendRequest(t).then((function(o){n.table.rowManager.setData(o,t,e).then((function(){i()})).catch((function(t){r(t)}))})).catch((function(t){r(t)}))}))},w.prototype.generateParamsList=function(t,e){var n=this,i=[];if(e=e||"",Array.isArray(t))t.forEach((function(t,r){i=i.concat(n.generateParamsList(t,e?e+"["+r+"]":r))}));else if("object"===("undefined"===typeof t?"undefined":o(t)))for(var r in t)i=i.concat(n.generateParamsList(t[r],e?e+"["+r+"]":r));else i.push({key:e,value:t});return i},w.prototype.serializeParams=function(t){var e=this.generateParamsList(t),n=[];return e.forEach((function(t){n.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))})),n.join("&")},w.prototype.sendRequest=function(t){var e,n=this,i=this,r=i.url;return i.requestOrder++,e=i.requestOrder,i._loadDefaultConfig(),new Promise((function(o,a){!1!==i.table.options.ajaxRequesting.call(n.table,i.url,i.params)?(i.loading=!0,t||i.showLoader(),n.loaderPromise(r,i.config,i.params).then((function(t){e===i.requestOrder?(i.table.options.ajaxResponse&&(t=i.table.options.ajaxResponse.call(i.table,i.url,i.params,t)),o(t),i.hideLoader(),i.loading=!1):console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made")})).catch((function(t){console.error("Ajax Load Error: ",t),i.table.options.ajaxError.call(i.table,t),i.showError(),setTimeout((function(){i.hideLoader()}),3e3),i.loading=!1,a(t)}))):a()}))},w.prototype.showLoader=function(){var t="function"===typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader;if(t){this.hideLoader();while(this.msgElement.firstChild)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading"),this.table.element.appendChild(this.loaderElement)}},w.prototype.showError=function(){this.hideLoader();while(this.msgElement.firstChild)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error"),this.table.element.appendChild(this.loaderElement)},w.prototype.hideLoader=function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)},w.prototype.defaultConfig={method:"GET"},w.prototype.defaultURLGenerator=function(t,e,n){return t&&n&&Object.keys(n).length&&(e.method&&"get"!=e.method.toLowerCase()||(e.method="get",t+=(t.includes("?")?"&":"?")+this.modules.ajax.serializeParams(n))),t},w.prototype.defaultLoaderPromise=function(t,e,n){var i,r=this;return new Promise((function(a,s){if(t=r.urlGenerator.call(r.table,t,e,n),"GET"!=e.method.toUpperCase())if(i="object"===o(r.table.options.ajaxContentType)?r.table.options.ajaxContentType:r.contentTypeFormatters[r.table.options.ajaxContentType],i){for(var l in i.headers)e.headers||(e.headers={}),"undefined"===typeof e.headers[l]&&(e.headers[l]=i.headers[l]);e.body=i.body.call(r,t,e,n)}else console.warn("Ajax Error - Invalid ajaxContentType value:",r.table.options.ajaxContentType);t?("undefined"===typeof e.headers&&(e.headers={}),"undefined"===typeof e.headers.Accept&&(e.headers.Accept="application/json"),"undefined"===typeof e.headers["X-Requested-With"]&&(e.headers["X-Requested-With"]="XMLHttpRequest"),"undefined"===typeof e.mode&&(e.mode="cors"),"cors"==e.mode?("undefined"===typeof e.headers["Access-Control-Allow-Origin"]&&(e.headers["Access-Control-Allow-Origin"]=window.location.origin),"undefined"===typeof e.credentials&&(e.credentials="same-origin")):"undefined"===typeof e.credentials&&(e.credentials="include"),fetch(t,e).then((function(t){t.ok?t.json().then((function(t){a(t)})).catch((function(t){s(t),console.warn("Ajax Load Error - Invalid JSON returned",t)})):(console.error("Ajax Load Error - Connection Error: "+t.status,t.statusText),s(t))})).catch((function(t){console.error("Ajax Load Error - Connection Error: ",t),s(t)}))):(console.warn("Ajax Load Error - No URL Set"),a([]))}))},w.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function(t,e,n){return JSON.stringify(n)}},form:{headers:{},body:function(t,e,n){var i=this.generateParamsList(n),r=new FormData;return i.forEach((function(t){r.append(t.key,t.value)})),r}}},g.prototype.registerModule("ajax",w);var x=function(t){this._row=t};x.prototype.getData=function(t){return this._row.getData(t)},x.prototype.getElement=function(){return this._row.getElement()},x.prototype.getTable=function(){return this._row.table},x.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},x.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},x.prototype._getSelf=function(){return this._row};var E=function(t){this.table=t,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};E.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-calcs-holder"),t},E.prototype.initialize=function(){this.genColumn=new l({field:"value"},this)},E.prototype.registerColumnField=function(){},E.prototype.initializeColumn=function(t){var e=t.definition,n={topCalcParams:e.topCalcParams||{},botCalcParams:e.bottomCalcParams||{}};if(e.topCalc){switch(o(e.topCalc)){case"string":this.calculations[e.topCalc]?n.topCalc=this.calculations[e.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.topCalc);break;case"function":n.topCalc=e.topCalc;break}n.topCalc&&(t.modules.columnCalcs=n,this.topCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(e.bottomCalc){switch(o(e.bottomCalc)){case"string":this.calculations[e.bottomCalc]?n.botCalc=this.calculations[e.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.bottomCalc);break;case"function":n.botCalc=e.bottomCalc;break}n.botCalc&&(t.modules.columnCalcs=n,this.botCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},E.prototype.removeCalcs=function(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),t=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()},E.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)},E.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},E.prototype.scrollHorizontal=function(t){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-t+"px")},E.prototype.recalc=function(t){var e;if(this.topInitialized||this.botInitialized){if(this.rowsToData(t),this.topInitialized){this.topRow&&this.topRow.deleteCells(),e=this.generateRow("top",this.rowsToData(t)),this.topRow=e;while(this.topElement.firstChild)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(e.getElement()),e.initialize(!0)}if(this.botInitialized){this.botRow&&this.botRow.deleteCells(),e=this.generateRow("bottom",this.rowsToData(t)),this.botRow=e;while(this.botElement.firstChild)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(e.getElement()),e.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}},E.prototype.recalcRowGroup=function(t){this.recalcGroup(this.table.modules.groupRows.getRowGroup(t))},E.prototype.recalcAll=function(){var t=this;if((this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalc(this.table.rowManager.activeRows),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)){var e=table.modules.groupRows.getChildGroups();e.forEach((function(e){t.recalcGroup(e)}))}},E.prototype.recalcGroup=function(t){var e,n;t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),n=this.generateRowData("bottom",e),t.calcs.bottom.updateData(n),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),n=this.generateRowData("top",e),t.calcs.top.updateData(n),t.calcs.top.reinitialize()))},E.prototype.generateTopRow=function(t){return this.generateRow("top",this.rowsToData(t))},E.prototype.generateBottomRow=function(t){return this.generateRow("bottom",this.rowsToData(t))},E.prototype.rowsToData=function(t){var e=this,n=[];return t.forEach((function(t){if(n.push(t.getData()),e.table.options.dataTree&&e.table.options.dataTreeChildColumnCalcs&&t.modules.dataTree.open){var i=e.rowsToData(e.table.modules.dataTree.getFilteredTreeChildren(t));n=n.concat(i)}})),n},E.prototype.generateRow=function(t,e){var n,i=this,r=this.generateRowData(t,e);return i.table.modExists("mutator")&&i.table.modules.mutator.disable(),n=new d(r,this,"calc"),i.table.modExists("mutator")&&i.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+t),n.component=!1,n.getComponent=function(){return this.component||(this.component=new x(this)),this.component},n.generateCells=function(){var e=[];i.table.columnManager.columnsByIndex.forEach((function(r){i.genColumn.setField(r.getField()),i.genColumn.hozAlign=r.hozAlign,r.definition[t+"CalcFormatter"]&&i.table.modExists("format")?i.genColumn.modules.format={formatter:i.table.modules.format.getFormatter(r.definition[t+"CalcFormatter"]),params:r.definition[t+"CalcFormatterParams"]||{}}:i.genColumn.modules.format={formatter:i.table.modules.format.getFormatter("plaintext"),params:{}},i.genColumn.definition.cssClass=r.definition.cssClass;var o=new p(i.genColumn,n);o.getElement(),o.column=r,o.setWidth(),r.cells.push(o),e.push(o),r.visible||o.hide()})),this.cells=e},n},E.prototype.generateRowData=function(t,e){var n,i,r={},o="top"==t?this.topCalcs:this.botCalcs,a="top"==t?"topCalc":"botCalc";return o.forEach((function(t){var o=[];t.modules.columnCalcs&&t.modules.columnCalcs[a]&&(e.forEach((function(e){o.push(t.getFieldValue(e))})),i=a+"Params",n="function"===typeof t.modules.columnCalcs[i]?t.modules.columnCalcs[i](o,e):t.modules.columnCalcs[i],t.setFieldValue(r,t.modules.columnCalcs[a](o,e,n)))})),r},E.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},E.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},E.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},E.prototype.getResults=function(){var t,e=this,n={};return this.table.options.groupBy&&this.table.modExists("groupRows")?(t=this.table.modules.groupRows.getGroups(!0),t.forEach((function(t){n[t.getKey()]=e.getGroupResults(t)}))):n={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},n},E.prototype.getGroupResults=function(t){var e=this,n=t._getSelf(),i=t.getSubGroups(),r={},o={};return i.forEach((function(t){r[t.getKey()]=e.getGroupResults(t)})),o={top:n.calcs.top?n.calcs.top.getData():{},bottom:n.calcs.bottom?n.calcs.bottom.getData():{},groups:r},o},E.prototype.calculations={avg:function(t,e,n){var i=0,r="undefined"!==typeof n.precision?n.precision:2;return t.length&&(i=t.reduce((function(t,e){return Number(t)+Number(e)})),i/=t.length,i=!1!==r?i.toFixed(r):i),parseFloat(i).toString()},max:function(t,e,n){var i=null,r="undefined"!==typeof n.precision&&n.precision;return t.forEach((function(t){t=Number(t),(t>i||null===i)&&(i=t)})),null!==i?!1!==r?i.toFixed(r):i:""},min:function(t,e,n){var i=null,r="undefined"!==typeof n.precision&&n.precision;return t.forEach((function(t){t=Number(t),(t<i||null===i)&&(i=t)})),null!==i?!1!==r?i.toFixed(r):i:""},sum:function(t,e,n){var i=0,r="undefined"!==typeof n.precision&&n.precision;return t.length&&t.forEach((function(t){t=Number(t),i+=isNaN(t)?0:Number(t)})),!1!==r?i.toFixed(r):i},concat:function(t,e,n){var i=0;return t.length&&(i=t.reduce((function(t,e){return String(t)+String(e)}))),i},count:function(t,e,n){var i=0;return t.length&&t.forEach((function(t){t&&i++})),i}},g.prototype.registerModule("columnCalcs",E);var C=function(t){this.table=t,this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0};C.prototype.initialize=function(){var t=this;this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(function(e){var n,i;if(!t.blocked){if(e.preventDefault(),t.customSelection)n=t.customSelection,t.table.options.clipboardCopyFormatter&&(n=t.table.options.clipboardCopyFormatter("plain",n));else{var r=t.table.modules.export.generateExportList(t.table.options.clipboardCopyConfig,t.table.options.clipboardCopyStyled,t.rowRange,"clipboard");i=t.table.modules.export.genereateHTMLTable(r),n=i?t.generatePlainContent(r):"",t.table.options.clipboardCopyFormatter&&(n=t.table.options.clipboardCopyFormatter("plain",n),i=t.table.options.clipboardCopyFormatter("html",i))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",n):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",n),i&&e.clipboardData.setData("text/html",i)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",n),i&&e.originalEvent.clipboardData.setData("text/html",i)),t.table.options.clipboardCopied.call(t.table,n,i),t.reset()}})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(function(e){t.paste(e)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},C.prototype.reset=function(){this.blocked=!0,this.customSelection=!1},C.prototype.generatePlainContent=function(t){var e=[];return t.forEach((function(t){var n=[];t.columns.forEach((function(e){var i="";if(e)if("group"===t.type&&(e.value=e.component.getKey()),null===e.value)i="";else switch(o(e.value)){case"object":i=JSON.stringify(e.value);break;case"undefined":i="";break;default:i=e.value}n.push(i)})),e.push(n.join("\t"))})),e.join("\n")},C.prototype.copy=function(t,e){var n,i;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=t||this.table.options.clipboardCopyRowRange,"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange?(t=document.createRange(),t.selectNodeContents(this.table.element),n=window.getSelection(),n.toString()&&e&&(this.customSelection=n.toString()),n.removeAllRanges(),n.addRange(t)):"undefined"!=typeof document.selection&&"undefined"!=typeof document.body.createTextRange&&(i=document.body.createTextRange(),i.moveToElementText(this.table.element),i.select()),document.execCommand("copy"),n&&n.removeAllRanges())},C.prototype.setPasteAction=function(t){switch("undefined"===typeof t?"undefined":o(t)){case"string":this.pasteAction=this.pasteActions[t],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",t);break;case"function":this.pasteAction=t;break}},C.prototype.setPasteParser=function(t){switch("undefined"===typeof t?"undefined":o(t)){case"string":this.pasteParser=this.pasteParsers[t],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",t);break;case"function":this.pasteParser=t;break}},C.prototype.paste=function(t){var e,n,i;this.checkPaseOrigin(t)&&(e=this.getPasteData(t),n=this.pasteParser.call(this,e),n?(t.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),i=this.pasteAction.call(this,n),this.table.options.clipboardPasted.call(this.table,e,n,i)):this.table.options.clipboardPasteError.call(this.table,e))},C.prototype.mutateData=function(t){var e=this,n=[];return Array.isArray(t)?t.forEach((function(t){n.push(e.table.modules.mutator.transformRow(t,"clipboard"))})):n=t,n},C.prototype.checkPaseOrigin=function(t){var e=!0;return("DIV"!=t.target.tagName||this.table.modules.edit.currentCell)&&(e=!1),e},C.prototype.getPasteData=function(t){var e;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e},C.prototype.pasteParsers={table:function(t){var e=[],n=!0,i=this.table.columnManager.columns,r=[],o=[];return t=t.split("\n"),t.forEach((function(t){e.push(t.split("\t"))})),!(!e.length||1===e.length&&e[0].length<2)&&(!0,e[0].forEach((function(t){var e=i.find((function(e){return t&&e.definition.title&&t.trim()&&e.definition.title.trim()===t.trim()}));e?r.push(e):n=!1})),n||(n=!0,r=[],e[0].forEach((function(t){var e=i.find((function(e){return t&&e.field&&t.trim()&&e.field.trim()===t.trim()}));e?r.push(e):n=!1})),n||(r=this.table.columnManager.columnsByIndex)),n&&e.shift(),e.forEach((function(t){var e={};t.forEach((function(t,n){r[n]&&(e[r[n].field]=t)})),o.push(e)})),o)}},C.prototype.pasteActions={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},g.prototype.registerModule("clipboard",C);var k=function(t){this.table=t,this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0};k.prototype.initialize=function(){var t=null,e=this.table.columnManager.getFirstVisibileColumn(),n=this.table.options;switch(this.field=n.dataTreeChildField,this.indent=n.dataTreeChildIndent,this.elementField=n.dataTreeElementColumn||!!e&&e.field,n.dataTreeBranchElement&&(!0===n.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"===typeof n.dataTreeBranchElement?(t=document.createElement("div"),t.innerHTML=n.dataTreeBranchElement,this.branchEl=t.firstChild):this.branchEl=n.dataTreeBranchElement),n.dataTreeCollapseElement?"string"===typeof n.dataTreeCollapseElement?(t=document.createElement("div"),t.innerHTML=n.dataTreeCollapseElement,this.collapseEl=t.firstChild):this.collapseEl=n.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),n.dataTreeExpandElement?"string"===typeof n.dataTreeExpandElement?(t=document.createElement("div"),t.innerHTML=n.dataTreeExpandElement,this.expandEl=t.firstChild):this.expandEl=n.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),o(n.dataTreeStartExpanded)){case"boolean":this.startOpen=function(t,e){return n.dataTreeStartExpanded};break;case"function":this.startOpen=n.dataTreeStartExpanded;break;default:this.startOpen=function(t,e){return n.dataTreeStartExpanded[e]};break}},k.prototype.initializeRow=function(t){var e=t.getData()[this.field],n=Array.isArray(e),i=n||!n&&"object"===("undefined"===typeof e?"undefined":o(e))&&null!==e;!i&&t.modules.dataTree&&t.modules.dataTree.branchEl&&t.modules.dataTree.branchEl.parentNode.removeChild(t.modules.dataTree.branchEl),!i&&t.modules.dataTree&&t.modules.dataTree.controlEl&&t.modules.dataTree.controlEl.parentNode.removeChild(t.modules.dataTree.controlEl),t.modules.dataTree={index:t.modules.dataTree?t.modules.dataTree.index:0,open:!!i&&(t.modules.dataTree?t.modules.dataTree.open:this.startOpen(t.getComponent(),0)),controlEl:!(!t.modules.dataTree||!i)&&t.modules.dataTree.controlEl,branchEl:!(!t.modules.dataTree||!i)&&t.modules.dataTree.branchEl,parent:!!t.modules.dataTree&&t.modules.dataTree.parent,children:i}},k.prototype.layoutRow=function(t){var e=this.elementField?t.getCell(this.elementField):t.getCells()[0],n=e.getElement(),i=t.modules.dataTree;i.branchEl&&(i.branchEl.parentNode&&i.branchEl.parentNode.removeChild(i.branchEl),i.branchEl=!1),i.controlEl&&(i.controlEl.parentNode&&i.controlEl.parentNode.removeChild(i.controlEl),i.controlEl=!1),this.generateControlElement(t,n),t.getElement().classList.add("tabulator-tree-level-"+i.index),i.index&&(this.branchEl?(i.branchEl=this.branchEl.cloneNode(!0),n.insertBefore(i.branchEl,n.firstChild),this.table.rtl?i.branchEl.style.marginRight=(i.branchEl.offsetWidth+i.branchEl.style.marginLeft)*(i.index-1)+i.index*this.indent+"px":i.branchEl.style.marginLeft=(i.branchEl.offsetWidth+i.branchEl.style.marginRight)*(i.index-1)+i.index*this.indent+"px"):this.table.rtl?n.style.paddingRight=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-right"))+i.index*this.indent+"px":n.style.paddingLeft=parseInt(window.getComputedStyle(n,null).getPropertyValue("padding-left"))+i.index*this.indent+"px")},k.prototype.generateControlElement=function(t,e){var n=this,i=t.modules.dataTree,r=(e=e||t.getCells()[0].getElement(),i.controlEl);!1!==i.children&&(i.open?(i.controlEl=this.collapseEl.cloneNode(!0),i.controlEl.addEventListener("click",(function(e){e.stopPropagation(),n.collapseRow(t)}))):(i.controlEl=this.expandEl.cloneNode(!0),i.controlEl.addEventListener("click",(function(e){e.stopPropagation(),n.expandRow(t)}))),i.controlEl.addEventListener("mousedown",(function(t){t.stopPropagation()})),r&&r.parentNode===e?r.parentNode.replaceChild(i.controlEl,r):e.insertBefore(i.controlEl,e.firstChild))},k.prototype.setDisplayIndex=function(t){this.displayIndex=t},k.prototype.getDisplayIndex=function(){return this.displayIndex},k.prototype.getRows=function(t){var e=this,n=[];return t.forEach((function(t,i){var r,o;n.push(t),t instanceof d&&(t.create(),r=t.modules.dataTree.children,r.index||!1===r.children||(o=e.getChildren(t),o.forEach((function(t){t.create(),n.push(t)}))))})),n},k.prototype.getChildren=function(t,e){var n=this,i=t.modules.dataTree,r=[],o=[];return!1!==i.children&&(i.open||e)&&(Array.isArray(i.children)||(i.children=this.generateChildren(t)),r=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(i.children):i.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(r),r.forEach((function(t){o.push(t);var e=n.getChildren(t);e.forEach((function(t){o.push(t)}))}))),o},k.prototype.generateChildren=function(t){var e=this,n=[],i=t.getData()[this.field];return Array.isArray(i)||(i=[i]),i.forEach((function(i){var r=new d(i||{},e.table.rowManager);r.create(),r.modules.dataTree.index=t.modules.dataTree.index+1,r.modules.dataTree.parent=t,r.modules.dataTree.children&&(r.modules.dataTree.open=e.startOpen(r.getComponent(),r.modules.dataTree.index)),n.push(r)})),n},k.prototype.expandRow=function(t,e){var n=t.modules.dataTree;!1!==n.children&&(n.open=!0,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowExpanded(t.getComponent(),t.modules.dataTree.index))},k.prototype.collapseRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open=!1,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowCollapsed(t.getComponent(),t.modules.dataTree.index))},k.prototype.toggleRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open?this.collapseRow(t):this.expandRow(t))},k.prototype.getTreeParent=function(t){return!!t.modules.dataTree.parent&&t.modules.dataTree.parent.getComponent()},k.prototype.getFilteredTreeChildren=function(t){var e,n=t.modules.dataTree,i=[];return n.children&&(Array.isArray(n.children)||(n.children=this.generateChildren(t)),e=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(n.children):n.children,e.forEach((function(t){t instanceof d&&i.push(t)}))),i},k.prototype.rowDelete=function(t){var e,n=t.modules.dataTree.parent;n&&(e=this.findChildIndex(t,n),!1!==e&&n.data[this.field].splice(e,1),n.data[this.field].length||delete n.data[this.field],this.initializeRow(n),this.layoutRow(n)),this.table.rowManager.refreshActiveData("tree",!1,!0)},k.prototype.addTreeChildRow=function(t,e,n,i){var r=!1;"string"===typeof e&&(e=JSON.parse(e)),Array.isArray(t.data[this.field])||(t.data[this.field]=[],t.modules.dataTree.open=this.startOpen(t.getComponent(),t.modules.dataTree.index)),"undefined"!==typeof i&&(r=this.findChildIndex(i,t),!1!==r&&t.data[this.field].splice(n?r:r+1,0,e)),!1===r&&(n?t.data[this.field].unshift(e):t.data[this.field].push(e)),this.initializeRow(t),this.layoutRow(t),this.table.rowManager.refreshActiveData("tree",!1,!0)},k.prototype.findChildIndex=function(t,e){var n=this,i=!1;return"object"==("undefined"===typeof t?"undefined":o(t))?t instanceof d?i=t.data:t instanceof h?i=t._getSelf().data:"undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&e.modules.dataTree&&(i=e.modules.dataTree.children.find((function(e){return e instanceof d&&e.element===t})),i&&(i=i.data)):i="undefined"!=typeof t&&null!==t&&e.data[this.field].find((function(e){return e.data[n.table.options.index]==t})),i&&(Array.isArray(e.data[this.field])&&(i=e.data[this.field].indexOf(i)),-1==i&&(i=!1)),i},k.prototype.getTreeChildren=function(t,e,n){var i=this,r=t.modules.dataTree,o=[];return r.children&&(Array.isArray(r.children)||(r.children=this.generateChildren(t)),r.children.forEach((function(t){t instanceof d&&(o.push(e?t.getComponent():t),n&&(o=o.concat(i.getTreeChildren(t,e,n))))}))),o},k.prototype.checkForRestyle=function(t){t.row.cells.indexOf(t)||t.row.reinitialize()},k.prototype.getChildField=function(){return this.field},k.prototype.redrawNeeded=function(t){return!!this.field&&"undefined"!==typeof t[this.field]||!!this.elementField&&"undefined"!==typeof t[this.elementField]},g.prototype.registerModule("dataTree",k);var M=function(t){this.table=t};M.prototype.download=function(t,e,n,i,r){var o=this,a=!1;function s(n,i){r?!0===r?o.triggerDownload(n,i,t,e,!0):r(n):o.triggerDownload(n,i,t,e)}if("function"==typeof t?a=t:o.downloaders[t]?a=o.downloaders[t]:console.warn("Download Error - No such download type found: ",t),a){var l=this.generateExportList(i);a.call(this.table,l,n||{},s)}},M.prototype.generateExportList=function(t){var e=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,t||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),e.forEach((function(t){var e;"group"===t.type&&(e=t.columns[0],n&&n[t.indent]&&(e.value=n[t.indent](e.value,t.component._group.getRowCount(),t.component._group.getData(),t.component)))})),e},M.prototype.triggerDownload=function(t,e,n,i,r){var o=document.createElement("a"),a=new Blob([t],{type:e});i=i||"Tabulator."+("function"===typeof n?"txt":n);a=this.table.options.downloadReady.call(this.table,t,a),a&&(r?window.open(window.URL.createObjectURL(a)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,i):(o.setAttribute("href",window.URL.createObjectURL(a)),o.setAttribute("download",i),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},M.prototype.commsReceived=function(t,e,n){switch(e){case"intercept":this.download(n.type,"",n.options,n.active,n.intercept);break}},M.prototype.downloaders={csv:function(t,e,n){var i=e&&e.delimiter?e.delimiter:",",r=[],a=[];t.forEach((function(t){var e=[];switch(t.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":t.columns.forEach((function(t,e){t&&1===t.depth&&(a[e]="undefined"==typeof t.value||null===t.value?"":'"'+String(t.value).split('"').join('""')+'"')}));break;case"row":t.columns.forEach((function(t){if(t){switch(o(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value="";break}e.push('"'+String(t.value).split('"').join('""')+'"')}})),r.push(e.join(i));break}})),a.length&&r.unshift(a.join(i)),r=r.join("\n"),e.bom&&(r="\ufeff"+r),n(r,"text/csv")},json:function(t,e,n){var i=[];t.forEach((function(t){var e={};switch(t.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":t.columns.forEach((function(t){t&&(e[t.component.getField()]=t.value)})),i.push(e);break}})),i=JSON.stringify(i,null,"\t"),n(i,"application/json")},pdf:function(t,e,n){var i=[],r=[],a={},s=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},l=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},c=e.jsPDF||{},u=e&&e.title?e.title:"";function h(t,e){var n=[];return t.columns.forEach((function(t){var i;if(t){switch(o(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value="";break}i={content:t.value,colSpan:t.width,rowSpan:t.height},e&&(i.styles=e),n.push(i)}else n.push("")})),n}c.orientation||(c.orientation=e.orientation||"landscape"),c.unit||(c.unit="pt"),t.forEach((function(t){switch(t.type){case"header":i.push(h(t));break;case"group":r.push(h(t,s));break;case"calc":r.push(h(t,l));break;case"row":r.push(h(t));break}}));var d=new jsPDF(c);e&&e.autoTable&&(a="function"===typeof e.autoTable?e.autoTable(d)||{}:e.autoTable),u&&(a.addPageContent=function(t){d.text(u,40,30)}),a.head=i,a.body=r,d.autoTable(a),e&&e.documentProcessing&&e.documentProcessing(d),n(d.output("arraybuffer"),"application/pdf")},xlsx:function(t,e,n){var i,r=this,a=e.sheetName||"Sheet1",s=XLSX.utils.book_new();function l(){var e=[],n=[],i={},r={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce((function(t,e){return t+(e&&e.width?e.width:1)}),0):0,r:t.length}};return t.forEach((function(t,i){var r=[];t.columns.forEach((function(t,e){t?(r.push(t.value instanceof Date||"object"!==o(t.value)?t.value:JSON.stringify(t.value)),(t.width>1||t.height>-1)&&n.push({s:{r:i,c:e},e:{r:i+t.height-1,c:e+t.width-1}})):r.push("")})),e.push(r)})),XLSX.utils.sheet_add_aoa(i,e),i["!ref"]=XLSX.utils.encode_range(r),n.length&&(i["!merges"]=n),i}if(s.SheetNames=[],s.Sheets={},e.sheetOnly)n(l());else{if(e.sheets)for(var c in e.sheets)!0===e.sheets[c]?(s.SheetNames.push(c),s.Sheets[c]=l()):(s.SheetNames.push(c),this.modules.comms.send(e.sheets[c],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:r.active,intercept:function(t){s.Sheets[c]=t}}));else s.SheetNames.push(a),s.Sheets[a]=l();e.documentProcessing&&(s=e.documentProcessing(s)),i=XLSX.write(s,{bookType:"xlsx",bookSST:!0,type:"binary"}),n(u(i),"application/octet-stream")}function u(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),i=0;i!=t.length;++i)n[i]=255&t.charCodeAt(i);return e}},html:function(t,e,n){this.modExists("export",!0)&&n(this.modules.export.genereateHTMLTable(t),"text/html")}},g.prototype.registerModule("download",M);var O=function(t){this.table=t,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[]};O.prototype.initializeColumn=function(t){var e=this,n={editor:!1,blocked:!1,check:t.definition.editable,params:t.definition.editorParams||{}};switch(o(t.definition.editor)){case"string":"tick"===t.definition.editor&&(t.definition.editor="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),e.editors[t.definition.editor]?n.editor=e.editors[t.definition.editor]:console.warn("Editor Error - No such editor found: ",t.definition.editor);break;case"function":n.editor=t.definition.editor;break;case"boolean":!0===t.definition.editor&&("function"!==typeof t.definition.formatter?("tick"===t.definition.formatter&&(t.definition.formatter="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),e.editors[t.definition.formatter]?n.editor=e.editors[t.definition.formatter]:n.editor=e.editors["input"]):console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",t.definition.formatter));break}n.editor&&(t.modules.edit=n)},O.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},O.prototype.clearEditor=function(t){var e,n=this.currentCell;if(this.invalidEdit=!1,n){this.currentCell=!1,e=n.getElement(),t?n.validate():e.classList.remove("tabulator-validation-fail"),e.classList.remove("tabulator-editing");while(e.firstChild)e.removeChild(e.firstChild);n.row.getElement().classList.remove("tabulator-row-editing")}},O.prototype.cancelEdit=function(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(!0),t.setValueActual(t.getValue()),t.cellRendered(),("textarea"==t.column.definition.editor||t.column.definition.variableHeight)&&t.row.normalizeHeight(!0),t.column.cellEvents.cellEditCancelled&&t.column.cellEvents.cellEditCancelled.call(this.table,e),this.table.options.cellEditCancelled.call(this.table,e)}},O.prototype.bindEditor=function(t){var e=this,n=t.getElement(!0);n.setAttribute("tabindex",0),n.addEventListener("click",(function(t){n.classList.contains("tabulator-editing")||n.focus({preventScroll:!0})})),n.addEventListener("mousedown",(function(t){2===t.button?t.preventDefault():e.mouseClick=!0})),n.addEventListener("focus",(function(n){e.recursionBlock||e.edit(t,n,!1)}))},O.prototype.focusCellNoEvent=function(t,e){this.recursionBlock=!0,e&&"ie"===this.table.browser||t.getElement().focus({preventScroll:!0}),this.recursionBlock=!1},O.prototype.editCell=function(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)},O.prototype.focusScrollAdjust=function(t){if("virtual"==this.table.rowManager.getRenderMode()){var e=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,i=t.row.getElement();i.offsetTop;i.offsetTop<e?this.table.rowManager.element.scrollTop-=e-i.offsetTop:i.offsetTop+i.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=i.offsetTop+i.offsetHeight-n);var r=this.table.rowManager.element.scrollLeft,o=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,a=t.getElement();a.offsetLeft;this.table.modExists("frozenColumns")&&(r+=parseInt(this.table.modules.frozenColumns.leftMargin),o-=parseInt(this.table.modules.frozenColumns.rightMargin)),this.table.options.virtualDomHoz&&(r-=parseInt(this.table.vdomHoz.vDomPadLeft),o-=parseInt(this.table.vdomHoz.vDomPadLeft)),a.offsetLeft<r?this.table.rowManager.element.scrollLeft-=r-a.offsetLeft:a.offsetLeft+a.offsetWidth>o&&(this.table.rowManager.element.scrollLeft+=a.offsetLeft+a.offsetWidth-o)}},O.prototype.edit=function(t,e,n){var i,r,a,s=this,l=!0,c=function(){},u=t.getElement();if(!this.currentCell){if(t.column.modules.edit.blocked)return this.mouseClick=!1,u.blur(),!1;switch(e&&e.stopPropagation(),o(t.column.modules.edit.check)){case"function":l=t.column.modules.edit.check(t.getComponent());break;case"boolean":l=t.column.modules.edit.check;break}if(l||n){if(s.cancelEdit(),s.currentCell=t,this.focusScrollAdjust(t),r=t.getComponent(),this.mouseClick&&(this.mouseClick=!1,t.column.cellEvents.cellClick&&t.column.cellEvents.cellClick.call(this.table,e,r)),t.column.cellEvents.cellEditing&&t.column.cellEvents.cellEditing.call(this.table,r),s.table.options.cellEditing.call(this.table,r),a="function"===typeof t.column.modules.edit.params?t.column.modules.edit.params(r):t.column.modules.edit.params,i=t.column.modules.edit.editor.call(s,r,m,f,p,a),!1===i)return u.blur(),!1;if(!(i instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",i),u.blur(),!1;u.classList.add("tabulator-editing"),t.row.getElement().classList.add("tabulator-row-editing");while(u.firstChild)u.removeChild(u.firstChild);u.appendChild(i),c();for(var h=u.children,d=0;d<h.length;d++)h[d].addEventListener("click",(function(t){t.stopPropagation()}));return!0}return this.mouseClick=!1,u.blur(),!1}function f(e){if(s.currentCell===t){var n=!0;return t.column.modules.validate&&s.table.modExists("validate")&&"manual"!=s.table.options.validationMode&&(n=s.table.modules.validate.validate(t.column.modules.validate,t,e)),!0===n||"highlight"===s.table.options.validationMode?(s.clearEditor(),t.modules.edit||(t.modules.edit={}),t.modules.edit.edited=!0,-1==s.editedCells.indexOf(t)&&s.editedCells.push(t),t.setValue(e,!0),s.table.options.dataTree&&s.table.modExists("dataTree")&&s.table.modules.dataTree.checkForRestyle(t),!0===n||(u.classList.add("tabulator-validation-fail"),s.table.options.validationFailed.call(s.table,t.getComponent(),e,n),!1)):(s.invalidEdit=!0,u.classList.add("tabulator-validation-fail"),s.focusCellNoEvent(t,!0),c(),s.table.options.validationFailed.call(s.table,t.getComponent(),e,n),!1)}}function p(){s.currentCell===t&&(s.cancelEdit(),s.table.options.dataTree&&s.table.modExists("dataTree")&&s.table.modules.dataTree.checkForRestyle(t))}function m(t){c=t}this.invalidEdit||this.cancelEdit()},O.prototype.maskInput=function(t,e){var n=e.mask,i="undefined"!==typeof e.maskLetterChar?e.maskLetterChar:"A",r="undefined"!==typeof e.maskNumberChar?e.maskNumberChar:"9",o="undefined"!==typeof e.maskWildcardChar?e.maskWildcardChar:"*";function a(e){var s=n[e];"undefined"!==typeof s&&s!==o&&s!==i&&s!==r&&(t.value=t.value+""+s,a(e+1))}t.addEventListener("keydown",(function(e){var a=t.value.length,s=e.key;if(e.keyCode>46){if(a>=n.length)return e.preventDefault(),e.stopPropagation(),!1,!1;switch(n[a]){case i:if(s.toUpperCase()==s.toLowerCase())return e.preventDefault(),e.stopPropagation(),!1,!1;break;case r:if(isNaN(s))return e.preventDefault(),e.stopPropagation(),!1,!1;break;case o:break;default:if(s!==n[a])return e.preventDefault(),e.stopPropagation(),!1,!1}!0}})),t.addEventListener("keyup",(function(n){n.keyCode>46&&e.maskAutoFill&&a(t.value.length)})),t.placeholder||(t.placeholder=n),e.maskAutoFill&&a(t.value.length)},O.prototype.getEditedCells=function(){var t=[];return this.editedCells.forEach((function(e){t.push(e.getComponent())})),t},O.prototype.clearEdited=function(t){var e;t.modules.edit&&t.modules.edit.edited&&(t.modules.edit.edited=!1,t.modules.validate&&(t.modules.validate.invalid=!1)),e=this.editedCells.indexOf(t),e>-1&&this.editedCells.splice(e,1)},O.prototype.editors={input:function(t,e,n,i,r){var a=t.getValue(),s=document.createElement("input");if(s.setAttribute("type",r.search?"search":"text"),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var l in r.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),s.setAttribute(l,s.getAttribute(l)+r.elementAttributes["+"+l])):s.setAttribute(l,r.elementAttributes[l]);function c(t){(null===a||"undefined"===typeof a)&&""!==s.value||s.value!==a?n(s.value)&&(a=s.value):i()}return s.value="undefined"!==typeof a?a:"",e((function(){s.focus({preventScroll:!0}),s.style.height="100%"})),s.addEventListener("change",c),s.addEventListener("blur",c),s.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c(t);break;case 27:i();break;case 35:case 36:t.stopPropagation();break}})),r.mask&&this.table.modules.edit.maskInput(s,r),s},textarea:function(t,e,n,i,r){var a=t.getValue(),s=r.verticalNavigation||"hybrid",l=String(null!==a&&"undefined"!==typeof a?a:""),c=((l.match(/(?:\r\n|\r|\n)/g)||[]).length,document.createElement("textarea")),u=0;if(c.style.display="block",c.style.padding="2px",c.style.height="100%",c.style.width="100%",c.style.boxSizing="border-box",c.style.whiteSpace="pre-wrap",c.style.resize="none",r.elementAttributes&&"object"==o(r.elementAttributes))for(var h in r.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),c.setAttribute(h,c.getAttribute(h)+r.elementAttributes["+"+h])):c.setAttribute(h,r.elementAttributes[h]);function d(e){(null===a||"undefined"===typeof a)&&""!==c.value||c.value!==a?(n(c.value)&&(a=c.value),setTimeout((function(){t.getRow().normalizeHeight()}),300)):i()}return c.value=l,e((function(){c.focus({preventScroll:!0}),c.style.height="100%",c.scrollHeight,c.style.height=c.scrollHeight+"px",t.getRow().normalizeHeight()})),c.addEventListener("change",d),c.addEventListener("blur",d),c.addEventListener("keyup",(function(){c.style.height="";var e=c.scrollHeight;c.style.height=e+"px",e!=u&&(u=e,t.getRow().normalizeHeight())})),c.addEventListener("keydown",(function(t){switch(t.keyCode){case 27:i();break;case 38:("editor"==s||"hybrid"==s&&c.selectionStart)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 40:("editor"==s||"hybrid"==s&&c.selectionStart!==c.value.length)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation();break}})),r.mask&&this.table.modules.edit.maskInput(c,r),c},number:function(t,e,n,i,r){var a=t.getValue(),s=r.verticalNavigation||"editor",l=document.createElement("input");if(l.setAttribute("type","number"),"undefined"!=typeof r.max&&l.setAttribute("max",r.max),"undefined"!=typeof r.min&&l.setAttribute("min",r.min),"undefined"!=typeof r.step&&l.setAttribute("step",r.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var c in r.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),l.setAttribute(c,l.getAttribute(c)+r.elementAttributes["+"+c])):l.setAttribute(c,r.elementAttributes[c]);l.value=a;var u=function(t){h()};function h(){var t=l.value;isNaN(t)||""===t||(t=Number(t)),t!==a?n(t)&&(a=t):i()}return e((function(){l.removeEventListener("blur",u),l.focus({preventScroll:!0}),l.style.height="100%",l.addEventListener("blur",u)})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:h();break;case 27:i();break;case 38:case 40:"editor"==s&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation();break}})),r.mask&&this.table.modules.edit.maskInput(l,r),l},range:function(t,e,n,i,r){var a=t.getValue(),s=document.createElement("input");if(s.setAttribute("type","range"),"undefined"!=typeof r.max&&s.setAttribute("max",r.max),"undefined"!=typeof r.min&&s.setAttribute("min",r.min),"undefined"!=typeof r.step&&s.setAttribute("step",r.step),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var l in r.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),s.setAttribute(l,s.getAttribute(l)+r.elementAttributes["+"+l])):s.setAttribute(l,r.elementAttributes[l]);function c(){var t=s.value;isNaN(t)||""===t||(t=Number(t)),t!=a?n(t)&&(a=t):i()}return s.value=a,e((function(){s.focus({preventScroll:!0}),s.style.height="100%"})),s.addEventListener("blur",(function(t){c()})),s.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c();break;case 27:i();break}})),s},select:function(t,e,n,i,r){var a=this,s=this,l=t.getElement(),c=t.getValue(),u=r.verticalNavigation||"editor",h="undefined"!==typeof c||null===c?Array.isArray(c)?c:[c]:"undefined"!==typeof r.defaultValue?r.defaultValue:[],d=document.createElement("input"),f=document.createElement("div"),p=r.multiselect,m=[],b={},v=[],y=[],_=!0,w=!1,x="",E=null;function C(e){var n,i={},r=s.table.getData();return n=e?s.table.columnManager.getColumnByField(e):t.getColumn()._getSelf(),n?r.forEach((function(t){var e=n.getFieldValue(t);null!==e&&"undefined"!==typeof e&&""!==e&&(i[e]=!0)})):console.warn("unable to find matching column to create select lookup list:",e),Object.keys(i)}function k(e,n){var i=[],a=[];function s(t){t={label:t.label,value:t.value,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1};return n.indexOf(t.value)>-1&&T(t),i.push(t),a.push(t),t}if("function"==typeof e&&(e=e(t)),Array.isArray(e))e.forEach((function(t){var e;"object"===("undefined"===typeof t?"undefined":o(t))?t.options?(e={label:t.label,group:!0,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1},a.push(e),t.options.forEach((function(t){s(t)}))):s(t):(e={label:t,value:t,element:!1},n.indexOf(e.value)>-1&&T(e),i.push(e),a.push(e))}));else for(var l in e){var c={label:e[l],value:l,element:!1};n.indexOf(c.value)>-1&&T(c),i.push(c),a.push(c)}r.sortValuesList&&(i.sort((function(t,e){return t.label<e.label?-1:t.label>e.label?1:0})),a.sort((function(t,e){return t.label<e.label?-1:t.label>e.label?1:0})),"asc"!==r.sortValuesList&&(i.reverse(),a.reverse())),m=i,v=a,M()}function M(){while(f.firstChild)f.removeChild(f.firstChild);v.forEach((function(e){var n=e.element;if(!n){if(n=document.createElement("div"),e.label=r.listItemFormatter?r.listItemFormatter(e.value,e.label,t,n,e.itemParams):e.label,e.group?(n.classList.add("tabulator-edit-select-list-group"),n.tabIndex=0,n.innerHTML=""===e.label?"&nbsp;":e.label):(n.classList.add("tabulator-edit-select-list-item"),n.tabIndex=0,n.innerHTML=""===e.label?"&nbsp;":e.label,n.addEventListener("click",(function(){w=!0,setTimeout((function(){w=!1}),10),p?(R(e),d.focus()):j(e)})),y.indexOf(e)>-1&&n.classList.add("active")),e.elementAttributes&&"object"==o(e.elementAttributes))for(var i in e.elementAttributes)"+"==i.charAt(0)?(i=i.slice(1),n.setAttribute(i,d.getAttribute(i)+e.elementAttributes["+"+i])):n.setAttribute(i,e.elementAttributes[i]);n.addEventListener("mousedown",(function(){_=!1,setTimeout((function(){_=!0}),10)})),e.element=n}f.appendChild(n)}))}function O(t,e){!p&&b&&b.element&&b.element.classList.remove("active"),b&&b.element&&b.element.classList.remove("focused"),b=t,t.element&&(t.element.classList.add("focused"),e&&t.element.classList.add("active")),t&&t.element&&t.element.scrollIntoView&&t.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function T(t){var e=y.indexOf(t);-1==e&&(y.push(t),O(t,!0)),A()}function S(t){var e=y[t];t>-1&&(y.splice(t,1),e.element&&e.element.classList.remove("active"))}function R(t){t||(t=b);var e=y.indexOf(t);e>-1?S(e):(!0!==p&&y.length>=p&&S(0),T(t)),A()}function j(t){N(),t||(t=b),t&&(d.value=t.label,n(t.value)),h=[t.value]}function L(t){t||N();var e=[];y.forEach((function(t){e.push(t.value)})),h=e,n(e)}function A(){var t=[];y.forEach((function(e){t.push(e.label)})),d.value=t.join(", "),!1===s.currentCell&&L(!0)}function D(){for(var t=y.length,e=0;e<t;e++)S(0)}function z(){N(),i()}function P(){if(y=[],!f.parentNode){!0===r.values?k(C(),h):"string"===typeof r.values?k(C(r.values),h):k(r.values||[],h);var t=g.prototype.helpers.elOffset(l);f.style.minWidth=l.offsetWidth+"px",f.style.top=t.top+l.offsetHeight+"px",f.style.left=t.left+"px",f.addEventListener("mousedown",(function(t){_=!1,setTimeout((function(){_=!0}),10)})),document.body.appendChild(f)}}function N(){f.parentNode&&f.parentNode.removeChild(f),F()}function F(){s.table.rowManager.element.removeEventListener("scroll",z)}function I(t){clearTimeout(E);var e=String.fromCharCode(event.keyCode).toLowerCase();x+=e.toLowerCase();var n=m.find((function(t){return"undefined"!==typeof t.label&&t.label.toLowerCase().startsWith(x)}));n&&O(n,!p),E=setTimeout((function(){x=""}),800)}if((Array.isArray(r)||!Array.isArray(r)&&"object"===("undefined"===typeof r?"undefined":o(r))&&!r.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),r={values:r}),d.setAttribute("type","text"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",d.style.cursor="default",d.readOnly=0!=this.currentCell,r.elementAttributes&&"object"==o(r.elementAttributes))for(var H in r.elementAttributes)"+"==H.charAt(0)?(H=H.slice(1),d.setAttribute(H,d.getAttribute(H)+r.elementAttributes["+"+H])):d.setAttribute(H,r.elementAttributes[H]);return d.value="undefined"!==typeof c||null===c?c:"",d.addEventListener("search",(function(t){d.value||(D(),L())})),d.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=m.indexOf(b),("editor"==u||"hybrid"==u&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e>0&&O(m[e-1],!p));break;case 40:e=m.indexOf(b),("editor"==u||"hybrid"==u&&e<m.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<m.length-1&&O(-1==e?m[0]:m[e+1],!p));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault();break;case 13:p?R():j();break;case 27:z();break;case 9:break;default:!1===s.currentCell&&t.preventDefault(),t.keyCode>=38&&t.keyCode<=90&&I(t.keyCode)}})),d.addEventListener("blur",(function(t){_&&(p?L():z())})),d.addEventListener("focus",(function(t){w||P()})),f=document.createElement("div"),f.classList.add("tabulator-edit-select-list"),e((function(){d.style.height="100%",d.focus({preventScroll:!0})})),setTimeout((function(){a.table.rowManager.element.addEventListener("scroll",z)}),10),d},autocomplete:function(t,e,n,i,r){var a=this,s=this,l=t.getElement(),c=t.getValue(),u=r.verticalNavigation||"editor",h="undefined"!==typeof c||null===c?c:"undefined"!==typeof r.defaultValue?r.defaultValue:"",d=document.createElement("input"),f=document.createElement("div"),p=[],m=!1,b=!0,v=!1;if(d.setAttribute("type","search"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var y in r.elementAttributes)"+"==y.charAt(0)?(y=y.slice(1),d.setAttribute(y,d.getAttribute(y)+r.elementAttributes["+"+y])):d.setAttribute(y,r.elementAttributes[y]);function _(){!0===r.values?v=w():"string"===typeof r.values&&(v=w(r.values))}function w(e){var n,i={},o=s.table.getData();return n=e?s.table.columnManager.getColumnByField(e):t.getColumn()._getSelf(),n?(o.forEach((function(t){var e=n.getFieldValue(t);null!==e&&"undefined"!==typeof e&&""!==e&&(i[e]=!0)})),i=r.sortValuesList?"asc"==r.sortValuesList?Object.keys(i).sort():Object.keys(i).sort().reverse():Object.keys(i)):console.warn("unable to find matching column to create autocomplete lookup list:",e),i}function x(t,e){var n,i,o=[];n=v||(r.values||[]),r.searchFunc?(o=r.searchFunc(t,n),o instanceof Promise?(E("undefined"!==typeof r.searchingPlaceholder?r.searchingPlaceholder:"Searching..."),o.then((function(t){M(C(t),e)})).catch((function(t){console.err("error in autocomplete search promise:",t)}))):M(C(o),e)):(i=C(n),""===t?r.showListOnEmpty&&(o=i):i.forEach((function(e){null===e.value&&"undefined"===typeof e.value||(String(e.value).toLowerCase().indexOf(String(t).toLowerCase())>-1||String(e.title).toLowerCase().indexOf(String(t).toLowerCase())>-1)&&o.push(e)})),M(o,e))}function E(t){var e=document.createElement("div");k(),!1!==t&&(e.classList.add("tabulator-edit-select-list-notice"),e.tabIndex=0,t instanceof Node?e.appendChild(t):e.innerHTML=t,f.appendChild(e))}function C(t){var e=[];if(Array.isArray(t))t.forEach((function(t){var n={};"object"===("undefined"===typeof t?"undefined":o(t))?(n.title=r.listItemFormatter?r.listItemFormatter(t.value,t.label):t.label,n.value=t.value):(n.title=r.listItemFormatter?r.listItemFormatter(t,t):t,n.value=t),e.push(n)}));else for(var n in t){var i={title:r.listItemFormatter?r.listItemFormatter(n,t[n]):t[n],value:n};e.push(i)}return e}function k(){while(f.firstChild)f.removeChild(f.firstChild)}function M(t,e){t.length?O(t,e):r.emptyPlaceholder&&E(r.emptyPlaceholder)}function O(t,e){var n=!1;k(),p=t,p.forEach((function(t){var i=t.element;i||(i=document.createElement("div"),i.classList.add("tabulator-edit-select-list-item"),i.tabIndex=0,i.innerHTML=t.title,i.addEventListener("click",(function(e){R(t),T()})),i.addEventListener("mousedown",(function(t){b=!1,setTimeout((function(){b=!0}),10)})),t.element=i,e&&t.value==c&&(d.value=t.title,t.element.classList.add("active"),n=!0),t===m&&(t.element.classList.add("active"),n=!0)),f.appendChild(i)})),n||R(!1)}function T(){j(),m?c!==m.value?(c=m.value,d.value=m.title,n(m.value)):i():r.freetext||r.allowEmpty&&""===d.value?(c=d.value,n(d.value)):i()}function S(){if(!f.parentNode){console.log("show",h);while(f.firstChild)f.removeChild(f.firstChild);var t=g.prototype.helpers.elOffset(l);f.style.minWidth=l.offsetWidth+"px",f.style.top=t.top+l.offsetHeight+"px",f.style.left=t.left+"px",document.body.appendChild(f)}}function R(t,e){m&&m.element&&m.element.classList.remove("active"),m=t,t&&t.element&&t.element.classList.add("active"),t&&t.element&&t.element.scrollIntoView&&t.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function j(){f.parentNode&&f.parentNode.removeChild(f),A()}function L(){j(),i()}function A(){s.table.rowManager.element.removeEventListener("scroll",L)}return f.classList.add("tabulator-edit-select-list"),f.addEventListener("mousedown",(function(t){b=!1,setTimeout((function(){b=!0}),10)})),d.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=p.indexOf(m),("editor"==u||"hybrid"==u&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),R(e>0&&p[e-1]));break;case 40:e=p.indexOf(m),("editor"==u||"hybrid"==u&&e<p.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<p.length-1&&R(-1==e?p[0]:p[e+1]));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation();break;case 13:T();break;case 27:L();break;case 36:case 35:t.stopImmediatePropagation();break}})),d.addEventListener("keyup",(function(t){switch(t.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:x(d.value)}})),d.addEventListener("search",(function(t){x(d.value)})),d.addEventListener("blur",(function(t){b&&T()})),d.addEventListener("focus",(function(t){var e=h;_(),S(),d.value=e,x(e,!0)})),e((function(){d.style.height="100%",d.focus({preventScroll:!0})})),r.mask&&this.table.modules.edit.maskInput(d,r),setTimeout((function(){a.table.rowManager.element.addEventListener("scroll",L)}),10),_(),d.value=h,x(h,!0),d},star:function(t,e,n,i,r){var a=this,s=t.getElement(),l=t.getValue(),c=s.getElementsByTagName("svg").length||5,u=s.getElementsByTagName("svg")[0]?s.getElementsByTagName("svg")[0].getAttribute("width"):14,h=[],d=document.createElement("div"),f=document.createElementNS("http://www.w3.org/2000/svg","svg");function p(t){h.forEach((function(e,n){n<t?("ie"==a.table.browser?e.setAttribute("class","tabulator-star-active"):e.classList.replace("tabulator-star-inactive","tabulator-star-active"),e.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==a.table.browser?e.setAttribute("class","tabulator-star-inactive"):e.classList.replace("tabulator-star-active","tabulator-star-inactive"),e.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function m(t){var e=document.createElement("span"),i=f.cloneNode(!0);h.push(i),e.addEventListener("mouseenter",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),p(t)})),e.addEventListener("mousemove",(function(t){t.stopPropagation(),t.stopImmediatePropagation()})),e.addEventListener("click",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),n(t),s.blur()})),e.appendChild(i),d.appendChild(e)}function g(t){l=t,p(t)}if(s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",d.style.verticalAlign="middle",d.style.display="inline-block",d.style.padding="4px",f.setAttribute("width",u),f.setAttribute("height",u),f.setAttribute("viewBox","0 0 512 512"),f.setAttribute("xml:space","preserve"),f.style.padding="0 1px",r.elementAttributes&&"object"==o(r.elementAttributes))for(var b in r.elementAttributes)"+"==b.charAt(0)?(b=b.slice(1),d.setAttribute(b,d.getAttribute(b)+r.elementAttributes["+"+b])):d.setAttribute(b,r.elementAttributes[b]);for(var v=1;v<=c;v++)m(v);return l=Math.min(parseInt(l),c),p(l),d.addEventListener("mousemove",(function(t){p(0)})),d.addEventListener("click",(function(t){n(0)})),s.addEventListener("blur",(function(t){i()})),s.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:g(l+1);break;case 37:g(l-1);break;case 13:n(l);break;case 27:i();break}})),d},progress:function(t,e,n,i,r){var a,s,l=t.getElement(),c="undefined"===typeof r.max?l.getElementsByTagName("div")[0].getAttribute("max")||100:r.max,u="undefined"===typeof r.min?l.getElementsByTagName("div")[0].getAttribute("min")||0:r.min,h=(c-u)/100,d=t.getValue()||0,f=document.createElement("div"),p=document.createElement("div");function m(){var t=window.getComputedStyle(l,null),e=h*Math.round(p.offsetWidth/((l.clientWidth-parseInt(t.getPropertyValue("padding-left"))-parseInt(t.getPropertyValue("padding-right")))/100))+u;n(e),l.setAttribute("aria-valuenow",e),l.setAttribute("aria-label",d)}if(f.style.position="absolute",f.style.right="0",f.style.top="0",f.style.bottom="0",f.style.width="5px",f.classList.add("tabulator-progress-handle"),p.style.display="inline-block",p.style.position="relative",p.style.height="100%",p.style.backgroundColor="#488CE9",p.style.maxWidth="100%",p.style.minWidth="0%",r.elementAttributes&&"object"==o(r.elementAttributes))for(var g in r.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),p.setAttribute(g,p.getAttribute(g)+r.elementAttributes["+"+g])):p.setAttribute(g,r.elementAttributes[g]);return l.style.padding="4px 4px",d=Math.min(parseFloat(d),c),d=Math.max(parseFloat(d),u),d=Math.round((d-u)/h),p.style.width=d+"%",l.setAttribute("aria-valuemin",u),l.setAttribute("aria-valuemax",c),p.appendChild(f),f.addEventListener("mousedown",(function(t){a=t.screenX,s=p.offsetWidth})),f.addEventListener("mouseover",(function(){f.style.cursor="ew-resize"})),l.addEventListener("mousemove",(function(t){a&&(p.style.width=s+t.screenX-a+"px")})),l.addEventListener("mouseup",(function(t){a&&(t.stopPropagation(),t.stopImmediatePropagation(),a=!1,s=!1,m())})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:t.preventDefault(),p.style.width=p.clientWidth+l.clientWidth/100+"px";break;case 37:t.preventDefault(),p.style.width=p.clientWidth-l.clientWidth/100+"px";break;case 9:case 13:m();break;case 27:i();break}})),l.addEventListener("blur",(function(){i()})),p},tickCross:function(t,e,n,i,r){var a=t.getValue(),s=document.createElement("input"),l=r.tristate,c="undefined"===typeof r.indeterminateValue?null:r.indeterminateValue,u=!1;if(s.setAttribute("type","checkbox"),s.style.marginTop="5px",s.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var h in r.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),s.setAttribute(h,s.getAttribute(h)+r.elementAttributes["+"+h])):s.setAttribute(h,r.elementAttributes[h]);function d(t){return l?t?u?c:s.checked:s.checked&&!u?(s.checked=!1,s.indeterminate=!0,u=!0,c):(u=!1,s.checked):s.checked}return s.value=a,!l||"undefined"!==typeof a&&a!==c&&""!==a||(u=!0,s.indeterminate=!0),"firefox"!=this.table.browser&&e((function(){s.focus({preventScroll:!0})})),s.checked=!0===a||"true"===a||"True"===a||1===a,e((function(){s.focus()})),s.addEventListener("change",(function(t){n(d())})),s.addEventListener("blur",(function(t){n(d(!0))})),s.addEventListener("keydown",(function(t){13==t.keyCode&&n(d()),27==t.keyCode&&i()})),s}},g.prototype.registerModule("edit",O);var T=function(t,e,n,i){this.type=t,this.columns=e,this.component=n||!1,this.indent=i||0},S=function(t,e,n,i,r){this.value=t,this.component=e||!1,this.width=n,this.height=i,this.depth=r},R=function(t){this.table=t,this.config={},this.cloneTableStyle=!0,this.colVisProp=""};R.prototype.generateExportList=function(t,e,n,i){this.cloneTableStyle=e,this.config=t||{},this.colVisProp=i;var r=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],o=this.bodyToExportRows(this.rowLookup(n));return r.concat(o)},R.prototype.genereateTable=function(t,e,n,i){var r=this.generateExportList(t,e,n,i);return this.genereateTableElement(r)},R.prototype.rowLookup=function(t){var e=this,n=[];if("function"==typeof t)t.call(this.table).forEach((function(t){t=e.table.rowManager.findRow(t),t&&n.push(t)}));else switch(t){case!0:case"visible":n=this.table.rowManager.getVisibleRows(!0);break;case"all":n=this.table.rowManager.rows;break;case"selected":n=this.table.modules.selectRow.selectedRows;break;case"active":default:n=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],n)},R.prototype.generateColumnGroupHeaders=function(){var t=this,e=[],n=!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex;return n.forEach((function(n){var i=t.processColumnGroup(n);i&&e.push(i)})),e},R.prototype.processColumnGroup=function(t){var e=this,n=t.columns,i=0,r=t.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||t.definition.title,o={title:r,column:t,depth:1};if(n.length){if(o.subGroups=[],o.width=0,n.forEach((function(t){var n=e.processColumnGroup(t);n&&(o.width+=n.width,o.subGroups.push(n),n.depth>i&&(i=n.depth))})),o.depth+=i,!o.width)return!1}else{if(!this.columnVisCheck(t))return!1;o.width=1}return o},R.prototype.columnVisCheck=function(t){return!1!==t.definition[this.colVisProp]&&(t.visible||!t.visible&&t.definition[this.colVisProp])},R.prototype.headersToExportRows=function(t){var e=[],n=0,i=[];function r(t,i){var o=n-i;if("undefined"===typeof e[i]&&(e[i]=[]),t.height=t.subGroups?1:o-t.depth+1,e[i].push(t),t.height>1)for(var a=1;a<t.height;a++)"undefined"===typeof e[i+a]&&(e[i+a]=[]),e[i+a].push(!1);if(t.width>1)for(var s=1;s<t.width;s++)e[i].push(!1);t.subGroups&&t.subGroups.forEach((function(t){r(t,i+1)}))}return t.forEach((function(t){t.depth>n&&(n=t.depth)})),t.forEach((function(t){r(t,0)})),e.forEach((function(t){var e=[];t.forEach((function(t){t?e.push(new S(t.title,t.column.getComponent(),t.width,t.height,t.depth)):e.push(null)})),i.push(new T("header",e))})),i},R.prototype.bodyToExportRows=function(t){var e=this,n=[],i=[];return this.table.columnManager.columnsByIndex.forEach((function(t){e.columnVisCheck(t)&&n.push(t.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&t.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&t.push(this.table.modules.columnCalcs.botRow)),t=t.filter((function(t){switch(t.type){case"group":return!1!==e.config.rowGroups;case"calc":return!1!==e.config.columnCalcs;case"row":return!(e.table.options.dataTree&&!1===e.config.dataTree&&t.modules.dataTree.parent)}return!0})),t.forEach((function(t,r){var o=t.getData(e.colVisProp),a=[],s=0;switch(t.type){case"group":s=t.level,a.push(new S(t.key,t.getComponent(),n.length,1));break;case"calc":case"row":n.forEach((function(t){a.push(new S(t._column.getFieldValue(o),t,1,1))})),e.table.options.dataTree&&!1!==e.config.dataTree&&(s=t.modules.dataTree.index);break}i.push(new T(t.type,a,t.getComponent(),s))})),i},R.prototype.genereateTableElement=function(t){var e=this,n=document.createElement("table"),i=document.createElement("thead"),r=document.createElement("tbody"),o=this.lookupTableStyles(),a=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],s={};return s.rowFormatter=null!==a?a:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(s.treeElementField=this.table.modules.dataTree.elementField),s.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],s.groupHeader&&!Array.isArray(s.groupHeader)&&(s.groupHeader=[s.groupHeader]),n.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),i,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),t.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),t.forEach((function(t,n){switch(t.type){case"header":i.appendChild(e.genereateHeaderElement(t,s,o));break;case"group":r.appendChild(e.genereateGroupElement(t,s,o));break;case"calc":r.appendChild(e.genereateCalcElement(t,s,o));break;case"row":var a=e.genereateRowElement(t,s,o);e.mapElementStyles(n%2&&o.evenRow?o.evenRow:o.oddRow,a,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r.appendChild(a);break}})),i.innerHTML&&n.appendChild(i),n.appendChild(r),this.mapElementStyles(this.table.element,n,["border-top","border-left","border-right","border-bottom"]),n},R.prototype.lookupTableStyles=function(){var t={};return this.cloneTableStyle&&window.getComputedStyle&&(t.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),t.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),t.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),t.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),t.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],t.firstRow&&(t.styleCells=t.firstRow.getElementsByClassName("tabulator-cell"),t.firstCell=t.styleCells[0],t.lastCell=t.styleCells[t.styleCells.length-1])),t},R.prototype.genereateHeaderElement=function(t,e,n){var i=this,r=document.createElement("tr");return t.columns.forEach((function(t){if(t){var e=document.createElement("th"),n=t.component._column.definition.cssClass?t.component._column.definition.cssClass.split(" "):[];e.colSpan=t.width,e.rowSpan=t.height,e.innerHTML=t.value,i.cloneTableStyle&&(e.style.boxSizing="border-box"),n.forEach((function(t){e.classList.add(t)})),i.mapElementStyles(t.component.getElement(),e,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),i.mapElementStyles(t.component._column.contentElement,e,["padding-top","padding-left","padding-right","padding-bottom"]),t.component._column.visible?i.mapElementStyles(t.component.getElement(),e,["width"]):t.component._column.definition.width&&(e.style.width=t.component._column.definition.width+"px"),t.component._column.parent&&i.mapElementStyles(t.component._column.parent.groupElement,e,["border-top"]),r.appendChild(e)}})),r},R.prototype.genereateGroupElement=function(t,e,n){var i=document.createElement("tr"),r=document.createElement("td"),o=t.columns[0];return i.classList.add("tabulator-print-table-row"),e.groupHeader&&e.groupHeader[t.indent]?o.value=e.groupHeader[t.indent](o.value,t.component._group.getRowCount(),t.component._group.getData(),t.component):!1===e.groupHeader?o.value=o.value:o.value=t.component._group.generator(o.value,t.component._group.getRowCount(),t.component._group.getData(),t.component),r.colSpan=o.width,r.innerHTML=o.value,i.classList.add("tabulator-print-table-group"),i.classList.add("tabulator-group-level-"+t.indent),o.component.isVisible()&&i.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,r,["padding-top","padding-left","padding-right","padding-bottom"]),i.appendChild(r),i},R.prototype.genereateCalcElement=function(t,e,n){var i=this.genereateRowElement(t,e,n);return i.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),i},R.prototype.genereateRowElement=function(t,e,n){var r=this,a=document.createElement("tr");return a.classList.add("tabulator-print-table-row"),t.columns.forEach((function(s){if(s){var l=document.createElement("td"),c=s.component._column,u=s.value,h={modules:{},getValue:function(){return u},getField:function(){return c.definition.field},getElement:function(){return l},getColumn:function(){return c.getComponent()},getData:function(){return t.component.getData()},getRow:function(){return t.component},getComponent:function(){return h},column:c},d=c.definition.cssClass?c.definition.cssClass.split(" "):[];if(d.forEach((function(t){l.classList.add(t)})),r.table.modExists("format")&&!1!==r.config.formatCells)u=r.table.modules.format.formatExportValue(h,r.colVisProp);else switch("undefined"===typeof u?"undefined":o(u)){case"object":u=JSON.stringify(u);break;case"undefined":case"null":u="";break;default:u=u}u instanceof Node?l.appendChild(u):l.innerHTML=u,n.firstCell&&(r.mapElementStyles(n.firstCell,l,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),c.definition.align&&(l.style.textAlign=c.definition.align)),r.table.options.dataTree&&!1!==r.config.dataTree&&(e.treeElementField&&e.treeElementField==c.field||!e.treeElementField&&0==i)&&(t.component._row.modules.dataTree.controlEl&&l.insertBefore(t.component._row.modules.dataTree.controlEl.cloneNode(!0),l.firstChild),t.component._row.modules.dataTree.branchEl&&l.insertBefore(t.component._row.modules.dataTree.branchEl.cloneNode(!0),l.firstChild)),a.appendChild(l),h.modules.format&&h.modules.format.renderedCallback&&h.modules.format.renderedCallback(),e.rowFormatter&&!1!==r.config.formatCells&&e.rowFormatter(t.component)}})),a},R.prototype.genereateHTMLTable=function(t){var e=document.createElement("div");return e.appendChild(this.genereateTableElement(t)),e.innerHTML},R.prototype.getHtml=function(t,e,n,i){var r=this.generateExportList(n||this.table.options.htmlOutputConfig,e,t,i||"htmlOutput");return this.genereateHTMLTable(r)},R.prototype.mapElementStyles=function(t,e,n){if(this.cloneTableStyle&&t&&e){var i={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var r=window.getComputedStyle(t);n.forEach((function(t){e.style[i[t]]=r.getPropertyValue(t)}))}}},g.prototype.registerModule("export",R);var j=function(t){this.table=t,this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1};j.prototype.initializeColumn=function(t,e){var n,i=this,r=t.getField();function a(e){var a,s="input"==t.modules.filter.tagType&&"text"==t.modules.filter.attrType||"textarea"==t.modules.filter.tagType?"partial":"match",l="",c="";if("undefined"===typeof t.modules.filter.prevSuccess||t.modules.filter.prevSuccess!==e){if(t.modules.filter.prevSuccess=e,t.modules.filter.emptyFunc(e))delete i.headerFilters[r];else{switch(t.modules.filter.value=e,o(t.definition.headerFilterFunc)){case"string":i.filters[t.definition.headerFilterFunc]?(l=t.definition.headerFilterFunc,a=function(n){var r=t.definition.headerFilterFuncParams||{},o=t.getFieldValue(n);return r="function"===typeof r?r(e,o,n):r,i.filters[t.definition.headerFilterFunc](e,o,n,r)}):console.warn("Header Filter Error - Matching filter function not found: ",t.definition.headerFilterFunc);break;case"function":a=function(n){var i=t.definition.headerFilterFuncParams||{},r=t.getFieldValue(n);return i="function"===typeof i?i(e,r,n):i,t.definition.headerFilterFunc(e,r,n,i)},l=a;break}if(!a)switch(s){case"partial":a=function(n){var i=t.getFieldValue(n);return"undefined"!==typeof i&&null!==i&&String(i).toLowerCase().indexOf(String(e).toLowerCase())>-1},l="like";break;default:a=function(n){return t.getFieldValue(n)==e},l="="}i.headerFilters[r]={value:e,func:a,type:l,params:n||{}}}c=JSON.stringify(i.headerFilters),i.prevHeaderFilterChangeCheck!==c&&(i.prevHeaderFilterChangeCheck=c,i.changed=!0,i.table.rowManager.filterRefresh())}return!0}t.modules.filter={success:a,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(t)},j.prototype.generateHeaderFilterElement=function(t,e,n){var i,r,a,s,l,c,u,h=this,d=this,f=t.modules.filter.success,p=t.getField();function m(){}if(t.modules.filter.headerElement&&t.modules.filter.headerElement.parentNode&&t.contentElement.removeChild(t.modules.filter.headerElement.parentNode),p){switch(t.modules.filter.emptyFunc=t.definition.headerFilterEmptyCheck||function(t){return!t&&"0"!==t&&0!==t},i=document.createElement("div"),i.classList.add("tabulator-header-filter"),o(t.definition.headerFilter)){case"string":d.table.modules.edit.editors[t.definition.headerFilter]?(r=d.table.modules.edit.editors[t.definition.headerFilter],"tick"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",t.definition.editor);break;case"function":r=t.definition.headerFilter;break;case"boolean":t.modules.edit&&t.modules.edit.editor?r=t.modules.edit.editor:t.definition.formatter&&d.table.modules.edit.editors[t.definition.formatter]?(r=d.table.modules.edit.editors[t.definition.formatter],"tick"!==t.definition.formatter&&"tickCross"!==t.definition.formatter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):r=d.table.modules.edit.editors["input"];break}if(r){if(s={getValue:function(){return"undefined"!==typeof e?e:""},getField:function(){return t.definition.field},getElement:function(){return i},getColumn:function(){return t.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},u=t.definition.headerFilterParams||{},u="function"===typeof u?u.call(d.table):u,a=r.call(this.table.modules.edit,s,(function(){}),f,m,u),!a)return void console.warn("Filter Error - Cannot add filter to "+p+" column, editor returned a value of false");if(!(a instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+p+" column, editor should return an instance of Node, the editor returned:",a);p?d.table.modules.localize.bind("headerFilters|columns|"+t.definition.field,(function(t){a.setAttribute("placeholder","undefined"!==typeof t&&t?t:d.table.modules.localize.getText("headerFilters|default"))})):d.table.modules.localize.bind("headerFilters|default",(function(t){a.setAttribute("placeholder","undefined"!==typeof d.column.definition.headerFilterPlaceholder&&d.column.definition.headerFilterPlaceholder?d.column.definition.headerFilterPlaceholder:t)})),a.addEventListener("click",(function(t){t.stopPropagation(),a.focus()})),a.addEventListener("focus",(function(t){var e=h.table.columnManager.element.scrollLeft;e!==h.table.rowManager.element.scrollLeft&&(h.table.rowManager.scrollHorizontal(e),h.table.columnManager.scrollHorizontal(e))})),l=!1,c=function(t){l&&clearTimeout(l),l=setTimeout((function(){f(a.value)}),d.table.options.headerFilterLiveFilterDelay)},t.modules.filter.headerElement=a,t.modules.filter.attrType=a.hasAttribute("type")?a.getAttribute("type").toLowerCase():"",t.modules.filter.tagType=a.tagName.toLowerCase(),!1!==t.definition.headerFilterLiveFilter&&("autocomplete"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter&&("autocomplete"!==t.definition.editor&&"tickCross"!==t.definition.editor||!0!==t.definition.headerFilter)&&(a.addEventListener("keyup",c),a.addEventListener("search",c),"number"==t.modules.filter.attrType&&a.addEventListener("change",(function(t){f(a.value)})),"text"==t.modules.filter.attrType&&"ie"!==this.table.browser&&a.setAttribute("type","search")),"input"!=t.modules.filter.tagType&&"select"!=t.modules.filter.tagType&&"textarea"!=t.modules.filter.tagType||a.addEventListener("mousedown",(function(t){t.stopPropagation()}))),i.appendChild(a),t.contentElement.appendChild(i),n||d.headerFilterColumns.push(t)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",t.definition.title)},j.prototype.hideHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="none")}))},j.prototype.showHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="")}))},j.prototype.setHeaderFilterFocus=function(t){t.modules.filter&&t.modules.filter.headerElement?t.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",t.getField())},j.prototype.getHeaderFilterValue=function(t){if(t.modules.filter&&t.modules.filter.headerElement)return t.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",t.getField())},j.prototype.setHeaderFilterValue=function(t,e){t&&(t.modules.filter&&t.modules.filter.headerElement?(this.generateHeaderFilterElement(t,e,!0),t.modules.filter.success(e)):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},j.prototype.reloadHeaderFilter=function(t){t&&(t.modules.filter&&t.modules.filter.headerElement?this.generateHeaderFilterElement(t,t.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},j.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},j.prototype.setFilter=function(t,e,n,i){var r=this;r.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:n,params:i}]),r.addFilter(t)},j.prototype.addFilter=function(t,e,n,i){var r=this;Array.isArray(t)||(t=[{field:t,type:e,value:n,params:i}]),t.forEach((function(t){t=r.findFilter(t),t&&(r.filterList.push(t),r.changed=!0)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},j.prototype.findFilter=function(t){var e,n=this;if(Array.isArray(t))return this.findSubFilters(t);var i=!1;return"function"==typeof t.field?i=function(e){return t.field(e,t.type||{})}:n.filters[t.type]?(e=n.table.columnManager.getColumnByField(t.field),i=e?function(i){return n.filters[t.type](t.value,e.getFieldValue(i),i,t.params||{})}:function(e){return n.filters[t.type](t.value,e[t.field],e,t.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",t.type),t.func=i,!!t.func&&t},j.prototype.findSubFilters=function(t){var e=this,n=[];return t.forEach((function(t){t=e.findFilter(t),t&&n.push(t)})),!!n.length&&n},j.prototype.getFilters=function(t,e){var n=[];return t&&(n=this.getHeaderFilters()),e&&n.forEach((function(t){"function"==typeof t.type&&(t.type="function")})),n=n.concat(this.filtersToArray(this.filterList,e)),n},j.prototype.filtersToArray=function(t,e){var n=this,i=[];return t.forEach((function(t){var r;Array.isArray(t)?i.push(n.filtersToArray(t,e)):(r={field:t.field,type:t.type,value:t.value},e&&"function"==typeof r.type&&(r.type="function"),i.push(r))})),i},j.prototype.getHeaderFilters=function(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t},j.prototype.removeFilter=function(t,e,n){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:n}]),t.forEach((function(t){var e=-1;e="object"==o(t.field)?i.filterList.findIndex((function(e){return t===e})):i.filterList.findIndex((function(e){return t.field===e.field&&t.type===e.type&&t.value===e.value})),e>-1?(i.filterList.splice(e,1),i.changed=!0):console.warn("Filter Error - No matching filter type found, ignoring: ",t.type)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},j.prototype.clearFilter=function(t){this.filterList=[],t&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},j.prototype.clearHeaderFilter=function(){var t=this;this.headerFilters={},t.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((function(e){"undefined"!==typeof e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,t.reloadHeaderFilter(e)})),this.changed=!0},j.prototype.search=function(t,e,n,i){var r=this,o=[],a=[];return Array.isArray(e)||(e=[{field:e,type:n,value:i}]),e.forEach((function(t){t=r.findFilter(t),t&&a.push(t)})),this.table.rowManager.rows.forEach((function(e){var n=!0;a.forEach((function(t){r.filterRecurse(t,e.getData())||(n=!1)})),n&&o.push("data"===t?e.getData("data"):e.getComponent())})),o},j.prototype.filter=function(t,e){var n=this,i=[],r=[];return n.table.options.dataFiltering&&n.table.options.dataFiltering.call(n.table,n.getFilters()),n.table.options.ajaxFiltering||!n.filterList.length&&!Object.keys(n.headerFilters).length?i=t.slice(0):t.forEach((function(t){n.filterRow(t)&&i.push(t)})),n.table.options.dataFiltered&&(i.forEach((function(t){r.push(t.getComponent())})),n.table.options.dataFiltered.call(n.table,n.getFilters(),r)),i},j.prototype.filterRow=function(t,e){var n=this,i=!0,r=t.getData();for(var o in n.filterList.forEach((function(t){n.filterRecurse(t,r)||(i=!1)})),n.headerFilters)n.headerFilters[o].func(r)||(i=!1);return i},j.prototype.filterRecurse=function(t,e){var n=this,i=!1;return Array.isArray(t)?t.forEach((function(t){n.filterRecurse(t,e)&&(i=!0)})):i=t.func(e),i},j.prototype.filters={"=":function(t,e,n,i){return e==t},"<":function(t,e,n,i){return e<t},"<=":function(t,e,n,i){return e<=t},">":function(t,e,n,i){return e>t},">=":function(t,e,n,i){return e>=t},"!=":function(t,e,n,i){return e!=t},regex:function(t,e,n,i){return"string"==typeof t&&(t=new RegExp(t)),t.test(e)},like:function(t,e,n,i){return null===t||"undefined"===typeof t?e===t:"undefined"!==typeof e&&null!==e&&String(e).toLowerCase().indexOf(t.toLowerCase())>-1},keywords:function(t,e,n,i){var r=t.toLowerCase().split("undefined"===typeof i.separator?" ":i.separator),o=String(null===e||"undefined"===typeof e?"":e).toLowerCase(),a=[];return r.forEach((function(t){o.includes(t)&&a.push(!0)})),i.matchAll?a.length===r.length:!!a.length},starts:function(t,e,n,i){return null===t||"undefined"===typeof t?e===t:"undefined"!==typeof e&&null!==e&&String(e).toLowerCase().startsWith(t.toLowerCase())},ends:function(t,e,n,i){return null===t||"undefined"===typeof t?e===t:"undefined"!==typeof e&&null!==e&&String(e).toLowerCase().endsWith(t.toLowerCase())},in:function(t,e,n,i){return Array.isArray(t)?!t.length||t.indexOf(e)>-1:(console.warn("Filter Error - filter value is not an array:",t),!1)}},g.prototype.registerModule("filter",j);var L=function(t){this.table=t};L.prototype.initializeColumn=function(t){t.modules.format=this.lookupFormatter(t,""),"undefined"!==typeof t.definition.formatterPrint&&(t.modules.format.print=this.lookupFormatter(t,"Print")),"undefined"!==typeof t.definition.formatterClipboard&&(t.modules.format.clipboard=this.lookupFormatter(t,"Clipboard")),"undefined"!==typeof t.definition.formatterHtmlOutput&&(t.modules.format.htmlOutput=this.lookupFormatter(t,"HtmlOutput"))},L.prototype.lookupFormatter=function(t,e){var n={params:t.definition["formatter"+e+"Params"]||{}},i=t.definition["formatter"+e];switch("undefined"===typeof i?"undefined":o(i)){case"string":"tick"===i&&(i="tickCross","undefined"==typeof n.params.crossElement&&(n.params.crossElement=!1),console.warn("DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[i]?n.formatter=this.formatters[i]:(console.warn("Formatter Error - No such formatter found: ",i),n.formatter=this.formatters.plaintext);break;case"function":n.formatter=i;break;default:n.formatter=this.formatters.plaintext;break}return n},L.prototype.cellRendered=function(t){t.modules.format&&t.modules.format.renderedCallback&&!t.modules.format.rendered&&(t.modules.format.renderedCallback(),t.modules.format.rendered=!0)},L.prototype.formatValue=function(t){var e=t.getComponent(),n="function"===typeof t.column.modules.format.params?t.column.modules.format.params(e):t.column.modules.format.params;function i(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}return t.column.modules.format.formatter.call(this,e,n,i)},L.prototype.formatExportValue=function(t,e){var n,i=t.column.modules.format[e];if(i){var r=function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1};return n="function"===typeof i.params?i.params(component):i.params,i.formatter.call(this,t.getComponent(),n,r)}return this.formatValue(t)},L.prototype.sanitizeHTML=function(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,(function(t){return e[t]}))}return t},L.prototype.emptyToSpace=function(t){return null===t||"undefined"===typeof t||""===t?"&nbsp;":t},L.prototype.getFormatter=function(t){switch("undefined"===typeof t?"undefined":o(t)){case"string":this.formatters[t]?t=this.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=this.formatters.plaintext);break;case"function":t=t;break;default:t=this.formatters.plaintext;break}return t},L.prototype.formatters={plaintext:function(t,e,n){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function(t,e,n){return t.getValue()},textarea:function(t,e,n){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function(t,e,n){var i,r,o,a,s=parseFloat(t.getValue()),l=e.decimal||".",c=e.thousand||",",u=e.symbol||"",h=!!e.symbolAfter,d="undefined"!==typeof e.precision?e.precision:2;if(isNaN(s))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));i=!1!==d?s.toFixed(d):s,i=String(i).split("."),r=i[0],o=i.length>1?l+i[1]:"",a=/(\d+)(\d{3})/;while(a.test(r))r=r.replace(a,"$1"+c+"$2");return h?r+o+u:u+r+o},link:function(t,e,n){var i,r=t.getValue(),a=e.urlPrefix||"",s=e.download,l=r,c=document.createElement("a");if(e.labelField&&(i=t.getData(),l=i[e.labelField]),e.label)switch(o(e.label)){case"string":l=e.label;break;case"function":l=e.label(t);break}if(l){if(e.urlField&&(i=t.getData(),r=i[e.urlField]),e.url)switch(o(e.url)){case"string":r=e.url;break;case"function":r=e.url(t);break}return c.setAttribute("href",a+r),e.target&&c.setAttribute("target",e.target),e.download&&(s="function"==typeof s?s(t):!0===s?"":s,c.setAttribute("download",s)),c.innerHTML=this.emptyToSpace(this.sanitizeHTML(l)),c}return"&nbsp;"},image:function(t,e,n){var i=document.createElement("img"),r=t.getValue();switch(e.urlPrefix&&(r=e.urlPrefix+t.getValue()),e.urlSuffix&&(r+=e.urlSuffix),i.setAttribute("src",r),o(e.height)){case"number":i.style.height=e.height+"px";break;case"string":i.style.height=e.height;break}switch(o(e.width)){case"number":i.style.width=e.width+"px";break;case"string":i.style.width=e.width;break}return i.addEventListener("load",(function(){t.getRow().normalizeHeight()})),i},tickCross:function(t,e,n){var i=t.getValue(),r=t.getElement(),o=e.allowEmpty,a=e.allowTruthy,s="undefined"!==typeof e.tickElement?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l="undefined"!==typeof e.crossElement?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&i||!0===i||"true"===i||"True"===i||1===i||"1"===i?(r.setAttribute("aria-checked",!0),s||""):!o||"null"!==i&&""!==i&&null!==i&&"undefined"!==typeof i?(r.setAttribute("aria-checked",!1),l||""):(r.setAttribute("aria-checked","mixed"),"")},datetime:function(t,e,n){var i=e.inputFormat||"YYYY-MM-DD hh:mm:ss",r=e.outputFormat||"DD/MM/YYYY hh:mm:ss",o="undefined"!==typeof e.invalidPlaceholder?e.invalidPlaceholder:"",a=t.getValue(),s=moment(a,i);return s.isValid()?e.timezone?s.tz(e.timezone).format(r):s.format(r):!0===o?a:"function"===typeof o?o(a):o},datetimediff:function(t,e,n){var i=e.inputFormat||"YYYY-MM-DD hh:mm:ss",r="undefined"!==typeof e.invalidPlaceholder?e.invalidPlaceholder:"",o="undefined"!==typeof e.suffix&&e.suffix,a="undefined"!==typeof e.unit?e.unit:void 0,s="undefined"!==typeof e.humanize&&e.humanize,l="undefined"!==typeof e.date?e.date:moment(),c=t.getValue(),u=moment(c,i);return u.isValid()?s?moment.duration(u.diff(l)).humanize(o):u.diff(l,a)+(o?" "+o:""):!0===r?c:"function"===typeof r?r(c):r},lookup:function(t,e,n){var i=t.getValue();return"undefined"===typeof e[i]?(console.warn("Missing display value for "+i),i):e[i]},star:function(t,e,n){var i=t.getValue(),r=t.getElement(),o=e&&e.stars?e.stars:5,a=document.createElement("span"),s=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',c='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';a.style.verticalAlign="middle",s.setAttribute("width","14"),s.setAttribute("height","14"),s.setAttribute("viewBox","0 0 512 512"),s.setAttribute("xml:space","preserve"),s.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,o));for(var u=1;u<=o;u++){var h=s.cloneNode(!0);h.innerHTML=u<=i?l:c,a.appendChild(h)}return r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.setAttribute("aria-label",i),a},traffic:function(t,e,n){var i,r,a=this.sanitizeHTML(t.getValue())||0,s=document.createElement("span"),l=e&&e.max?e.max:100,c=e&&e.min?e.min:0,u=e&&"undefined"!==typeof e.color?e.color:["red","orange","green"],h="#666666";if(!isNaN(a)&&"undefined"!==typeof t.getValue()){switch(s.classList.add("tabulator-traffic-light"),r=parseFloat(a)<=l?parseFloat(a):l,r=parseFloat(r)>=c?parseFloat(r):c,i=(l-c)/100,r=Math.round((r-c)/i),"undefined"===typeof u?"undefined":o(u)){case"string":h=u;break;case"function":h=u(a);break;case"object":if(Array.isArray(u)){var d=100/u.length,f=Math.floor(r/d);f=Math.min(f,u.length-1),f=Math.max(f,0),h=u[f];break}}return s.style.backgroundColor=h,s}},progress:function(t,e,n){var i,r,a,s,l,c=this.sanitizeHTML(t.getValue())||0,u=t.getElement(),h=e&&e.max?e.max:100,d=e&&e.min?e.min:0,p=e&&e.legendAlign?e.legendAlign:"center";switch(r=parseFloat(c)<=h?parseFloat(c):h,r=parseFloat(r)>=d?parseFloat(r):d,i=(h-d)/100,r=Math.round((r-d)/i),o(e.color)){case"string":a=e.color;break;case"function":a=e.color(c);break;case"object":if(Array.isArray(e.color)){var m=100/e.color.length,g=Math.floor(r/m);g=Math.min(g,e.color.length-1),g=Math.max(g,0),a=e.color[g];break}default:a="#2DC214"}switch(o(e.legend)){case"string":s=e.legend;break;case"function":s=e.legend(c);break;case"boolean":s=c;break;default:s=!1}switch(o(e.legendColor)){case"string":l=e.legendColor;break;case"function":l=e.legendColor(c);break;case"object":if(Array.isArray(e.legendColor)){m=100/e.legendColor.length,g=Math.floor(r/m);g=Math.min(g,e.legendColor.length-1),g=Math.max(g,0),l=e.legendColor[g]}break;default:l="#000"}u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",r);var b=document.createElement("div");if(b.style.display="inline-block",b.style.position="relative",b.style.width=r+"%",b.style.backgroundColor=a,b.style.height="100%",b.setAttribute("data-max",h),b.setAttribute("data-min",d),s){var v=document.createElement("div");v.style.position="absolute",v.style.top="4px",v.style.left=0,v.style.textAlign=p,v.style.width="100%",v.style.color=l,v.innerHTML=s}return n((function(){if(!(t instanceof f)){var e=document.createElement("div");e.style.position="absolute",e.style.top="4px",e.style.bottom="4px",e.style.left="4px",e.style.right="4px",u.appendChild(e),u=e}u.appendChild(b),s&&u.appendChild(v)})),""},color:function(t,e,n){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""},buttonTick:function(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(t,e,n){return this.table.rowManager.activeRows.indexOf(t.getRow()._getSelf())+1},handle:function(t,e,n){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(t,e,n){var i=document.createElement("div"),r=t.getRow()._row.modules.responsiveLayout;function o(t){var e=r.element;r.open=t,e&&(r.open?(i.classList.add("open"),e.style.display=""):(i.classList.remove("open"),e.style.display="none"))}return i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",t.getElement().classList.add("tabulator-row-handle"),i.addEventListener("click",(function(t){t.stopImmediatePropagation(),o(!r.open)})),o(r.open),i},rowSelection:function(t,e,n){var i=this,r=document.createElement("input");if(r.type="checkbox",this.table.modExists("selectRow",!0))if(r.addEventListener("click",(function(t){t.stopPropagation()})),"function"==typeof t.getRow){var o=t.getRow();o instanceof h?(r.addEventListener("change",(function(t){o.toggleSelect()})),r.checked=o.isSelected&&o.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(o,r)):r=""}else r.addEventListener("change",(function(t){i.table.modules.selectRow.selectedRows.length?i.table.deselectRow():i.table.selectRow(e.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(r);return r}},g.prototype.registerModule("format",L);var A=function(t){this.table=t,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1};A.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0},A.prototype.initializeColumn=function(t){var e={margin:0,edge:!1};t.isGroup||(this.frozenCheck(t)?(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(t):this.rightColumns.unshift(t),this.active=!0,t.modules.frozen=e):this.initializationMode="right")},A.prototype.frozenCheck=function(t){return t.parent.isGroup&&t.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),t.parent.isGroup?this.frozenCheck(t.parent):t.definition.frozen},A.prototype.scrollHorizontal=function(){var t,e=this;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout((function(){e.layout()}),100),t=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),t.forEach((function(t){"row"===t.type&&e.layoutRow(t)})),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},A.prototype.calcMargins=function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft},A.prototype.layoutCalcRows=function(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow))},A.prototype.layoutColumnPosition=function(t){var e=this,n=[];this.leftColumns.forEach((function(i,r){if(i.modules.frozen.margin=e._calcSpace(e.leftColumns,r)+e.table.columnManager.scrollLeft+"px",r==e.leftColumns.length-1?i.modules.frozen.edge=!0:i.modules.frozen.edge=!1,i.parent.isGroup){var o=e.getColGroupParentElement(i);n.includes(o)||(e.layoutElement(o,i),n.push(o)),i.modules.frozen.edge&&o.classList.add("tabulator-frozen-"+i.modules.frozen.position)}else e.layoutElement(i.getElement(),i);t&&i.cells.forEach((function(t){e.layoutElement(t.getElement(!0),i)}))})),this.rightColumns.forEach((function(n,i){n.modules.frozen.margin=e.rightPadding-e._calcSpace(e.rightColumns,i+1)+"px",i==e.rightColumns.length-1?n.modules.frozen.edge=!0:n.modules.frozen.edge=!1,n.parent.isGroup?e.layoutElement(e.getColGroupParentElement(n),n):e.layoutElement(n.getElement(),n),t&&n.cells.forEach((function(t){e.layoutElement(t.getElement(!0),n)}))}))},A.prototype.getColGroupParentElement=function(t){return t.parent.isGroup?this.getColGroupParentElement(t.parent):t.getElement()},A.prototype.layout=function(){var t=this;t.active&&(this.calcMargins(),t.table.rowManager.getDisplayRows().forEach((function(e){"row"===e.type&&t.layoutRow(e)})),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},A.prototype.layoutRow=function(t){var e=this,n=t.getElement();n.style.paddingLeft=this.leftMargin,this.leftColumns.forEach((function(n){var i=t.getCell(n);i&&e.layoutElement(i.getElement(!0),n)})),this.rightColumns.forEach((function(n){var i=t.getCell(n);i&&e.layoutElement(i.getElement(!0),n)}))},A.prototype.layoutElement=function(t,e){e.modules.frozen&&(t.style.position="absolute",t.style.left=e.modules.frozen.margin,t.classList.add("tabulator-frozen"),e.modules.frozen.edge&&t.classList.add("tabulator-frozen-"+e.modules.frozen.position))},A.prototype._calcSpace=function(t,e){for(var n=0,i=0;i<e;i++)t[i].visible&&(n+=t[i].getWidth());return n},g.prototype.registerModule("frozenColumns",A);var D=function(t){this.table=t,this.topElement=document.createElement("div"),this.rows=[],this.displayIndex=0};D.prototype.initialize=function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)},D.prototype.setDisplayIndex=function(t){this.displayIndex=t},D.prototype.getDisplayIndex=function(){return this.displayIndex},D.prototype.isFrozen=function(){return!!this.rows.length},D.prototype.getRows=function(t){var e=t.slice(0);return this.rows.forEach((function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)})),e},D.prototype.freezeRow=function(t){t.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(t.modules.frozen=!0,this.topElement.appendChild(t.getElement()),t.initialize(),t.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(t),this.table.rowManager.refreshActiveData("display"),this.styleRows())},D.prototype.unfreezeRow=function(t){this.rows.indexOf(t);t.modules.frozen?(t.modules.frozen=!1,this.detachRow(t),this.table.rowManager.adjustTableSize(),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")},D.prototype.detachRow=function(t){var e=this.rows.indexOf(t);if(e>-1){var n=t.getElement();n.parentNode.removeChild(n),this.rows.splice(e,1)}},D.prototype.styleRows=function(t){var e=this;this.rows.forEach((function(t,n){e.table.rowManager.styleRow(t,n)}))},g.prototype.registerModule("frozenRows",D);var z=function(t){this._group=t,this.type="GroupComponent"};z.prototype.getKey=function(){return this._group.key},z.prototype.getField=function(){return this._group.field},z.prototype.getElement=function(){return this._group.element},z.prototype.getRows=function(){return this._group.getRows(!0)},z.prototype.getSubGroups=function(){return this._group.getSubGroups(!0)},z.prototype.getParentGroup=function(){return!!this._group.parent&&this._group.parent.getComponent()},z.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._group.visible},z.prototype.isVisible=function(){return this._group.visible},z.prototype.show=function(){this._group.show()},z.prototype.hide=function(){this._group.hide()},z.prototype.toggle=function(){this._group.toggleVisibility()},z.prototype._getSelf=function(){return this._group},z.prototype.getTable=function(){return this._group.groupManager.table};var P=function(t,e,n,i,r,o,a){this.groupManager=t,this.parent=e,this.key=i,this.level=n,this.field=r,this.hasSubGroups=n<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=o,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:"undefined"!==typeof t.startOpen[n]?t.startOpen[n]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()};P.prototype.wipe=function(){this.groupList.length?this.groupList.forEach((function(t){t.wipe()})):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)},P.prototype.createElements=function(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)},P.prototype.createValueGroups=function(){var t=this,e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach((function(n){t._createGroup(n,e)}))},P.prototype.addBindings=function(){var t,e,n,i,r=this;r.groupManager.table.options.groupClick&&r.element.addEventListener("click",(function(t){r.groupManager.table.options.groupClick.call(r.groupManager.table,t,r.getComponent())})),r.groupManager.table.options.groupDblClick&&r.element.addEventListener("dblclick",(function(t){r.groupManager.table.options.groupDblClick.call(r.groupManager.table,t,r.getComponent())})),r.groupManager.table.options.groupContext&&r.element.addEventListener("contextmenu",(function(t){r.groupManager.table.options.groupContext.call(r.groupManager.table,t,r.getComponent())})),(r.groupManager.table.options.groupContextMenu||r.groupManager.table.options.groupClickMenu)&&r.groupManager.table.modExists("menu")&&r.groupManager.table.modules.menu.initializeGroup.call(r.groupManager.table.modules.menu,r),r.groupManager.table.options.groupTap&&(n=!1,r.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),r.element.addEventListener("touchend",(function(t){n&&r.groupManager.table.options.groupTap(t,r.getComponent()),n=!1}))),r.groupManager.table.options.groupDblTap&&(t=null,r.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,r.groupManager.table.options.groupDblTap(e,r.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),r.groupManager.table.options.groupTapHold&&(e=null,r.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,r.groupManager.table.options.groupTapHold(t,r.getComponent())}),1e3)}),{passive:!0}),r.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),r.groupManager.table.options.groupToggleElement&&(i="arrow"==r.groupManager.table.options.groupToggleElement?r.arrowElement:r.element,i.addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),r.toggleVisibility()})))},P.prototype._createGroup=function(t,e){var n=e+"_"+t,i=new P(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[n]);this.groups[n]=i,this.groupList.push(i)},P.prototype._addRowToGroup=function(t){var e=this.level+1;if(this.hasSubGroups){var n=this.groupManager.groupIDLookups[e].func(t.getData()),i=e+"_"+n;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[i]&&this.groups[i].addRow(t):(this.groups[i]||this._createGroup(n,e),this.groups[i].addRow(t))}},P.prototype._addRow=function(t){this.rows.push(t),t.modules.group=this},P.prototype.insertRow=function(t,e,n){var i=this.conformRowData({});t.updateData(i);var r=this.rows.indexOf(e);r>-1?n?this.rows.splice(r+1,0,t):this.rows.splice(r,0,t):n?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)},P.prototype.scrollHeader=function(t){this.arrowElement.style.marginLeft=t,this.groupList.forEach((function(e){e.scrollHeader(t)}))},P.prototype.getRowIndex=function(t){},P.prototype.conformRowData=function(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t},P.prototype.removeRow=function(t){var e=this.rows.indexOf(t),n=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(n.parentNode&&n.parentNode.removeChild(n),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))},P.prototype.removeGroup=function(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],e=this.groupList.indexOf(t),e>-1&&this.groupList.splice(e,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))},P.prototype.getHeadersAndRows=function(t){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach((function(n){e=e.concat(n.getHeadersAndRows(t))})):(!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(!t&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!t&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e},P.prototype.getData=function(t,e){var n=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach((function(t){n.push(t.getData(e||"data"))})),n},P.prototype.getRowCount=function(){var t=0;return this.groupList.length?this.groupList.forEach((function(e){t+=e.getRowCount()})):t=this.rows.length,t},P.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},P.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((function(t){var e=t.getHeadersAndRows();e.forEach((function(t){t.detachElement()}))})):this.rows.forEach((function(t){var e=t.getElement();e.parentNode.removeChild(e)})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!1)},P.prototype.show=function(){var t=this;if(t.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var e=t.getElement();this.groupList.length?this.groupList.forEach((function(t){var n=t.getHeadersAndRows();n.forEach((function(t){var n=t.getElement();e.parentNode.insertBefore(n,e.nextSibling),t.initialize(),e=n}))})):t.rows.forEach((function(t){var n=t.getElement();e.parentNode.insertBefore(n,e.nextSibling),t.initialize(),e=n})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!0)},P.prototype._visSet=function(){var t=[];"function"==typeof this.visible&&(this.rows.forEach((function(e){t.push(e.getData())})),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))},P.prototype.getRowGroup=function(t){var e=!1;return this.groupList.length?this.groupList.forEach((function(n){var i=n.getRowGroup(t);i&&(e=i)})):this.rows.find((function(e){return e===t}))&&(e=this),e},P.prototype.getSubGroups=function(t){var e=[];return this.groupList.forEach((function(n){e.push(t?n.getComponent():n)})),e},P.prototype.getRows=function(t){var e=[];return this.rows.forEach((function(n){e.push(t?n.getComponent():n)})),e},P.prototype.generateGroupHeaderContents=function(){var t=[];this.rows.forEach((function(e){t.push(e.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());while(this.element.firstChild)this.element.removeChild(this.element.firstChild);"string"===typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)},P.prototype.getPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.unshift(this.key),this.parent&&this.parent.getPath(t),t},P.prototype.getElement=function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element},P.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},P.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)},P.prototype.initialize=function(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)},P.prototype.reinitialize=function(){this.initialized=!1,this.height=0,g.prototype.helpers.elVisible(this.element)&&this.initialize(!0)},P.prototype.setHeight=function(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)},P.prototype.getHeight=function(){return this.outerHeight},P.prototype.getGroup=function(){return this},P.prototype.reinitializeHeight=function(){},P.prototype.calcHeight=function(){},P.prototype.setCellHeight=function(){},P.prototype.clearCellHeight=function(){},P.prototype.getComponent=function(){return this.component||(this.component=new z(this)),this.component};var N=function(t){this.table=t,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0};N.prototype.initialize=function(){var t=this,e=t.table.options.groupBy,n=t.table.options.groupStartOpen,i=t.table.options.groupHeader;if(this.allowedValues=t.table.options.groupValues,Array.isArray(e)&&Array.isArray(i)&&e.length>i.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),t.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],t.table.modules.localize.bind("groups|item",(function(e,n){t.headerGenerator[0]=function(t,i,r){return("undefined"===typeof t?"":t)+"<span>("+i+" "+(1===i?e:n.groups.items)+")</span>"}})),this.groupIDLookups=[],Array.isArray(e)||e)this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs){var r=this.table.columnManager.getRealColumns();r.forEach((function(e){e.definition.topCalc&&t.table.modules.columnCalcs.initializeTopRow(),e.definition.bottomCalc&&t.table.modules.columnCalcs.initializeBottomRow()}))}Array.isArray(e)||(e=[e]),e.forEach((function(e,n){var i,r;"function"==typeof e?i=e:(r=t.table.columnManager.getColumnByField(e),i=r?function(t){return r.getFieldValue(t)}:function(t){return t[e]}),t.groupIDLookups.push({field:"function"!==typeof e&&e,func:i,values:!!t.allowedValues&&t.allowedValues[n]})})),n&&(Array.isArray(n)||(n=[n]),n.forEach((function(t){t="function"==typeof t?t:function(){return!0}})),t.startOpen=n),i&&(t.headerGenerator=Array.isArray(i)?i:[i]),this.initialized=!0},N.prototype.setDisplayIndex=function(t){this.displayIndex=t},N.prototype.getDisplayIndex=function(){return this.displayIndex},N.prototype.getRows=function(t){return this.groupIDLookups.length?(this.table.options.dataGrouping.call(this.table),this.generateGroups(t),this.table.options.dataGrouped&&this.table.options.dataGrouped.call(this.table,this.getGroups(!0)),this.updateGroupRows()):t.slice(0)},N.prototype.getGroups=function(t){var e=[];return this.groupList.forEach((function(n){e.push(t?n.getComponent():n)})),e},N.prototype.getChildGroups=function(t){var e=this,n=[];return t||(t=this),t.groupList.forEach((function(t){t.groupList.length?n=n.concat(e.getChildGroups(t)):n.push(t)})),n},N.prototype.wipe=function(){this.groupList.forEach((function(t){t.wipe()}))},N.prototype.pullGroupListData=function(t){var e=this,n=[];return t.forEach((function(t){var i={level:0,rowCount:0,headerContent:""},r=[];t.hasSubGroups?(r=e.pullGroupListData(t.groupList),i.level=t.level,i.rowCount=r.length-t.groupList.length,i.headerContent=t.generator(t.key,i.rowCount,t.rows,t),n.push(i),n=n.concat(r)):(i.level=t.level,i.headerContent=t.generator(t.key,t.rows.length,t.rows,t),i.rowCount=t.getRows().length,n.push(i),t.getRows().forEach((function(t){n.push(t.getData("data"))})))})),n},N.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)},N.prototype.getRowGroup=function(t){var e=!1;return this.groupList.forEach((function(n){var i=n.getRowGroup(t);i&&(e=i)})),e},N.prototype.countGroups=function(){return this.groupList.length},N.prototype.generateGroups=function(t){var e=this,n=e.groups;e.groups={},e.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((function(t){e.createGroup(t,0,n)})),t.forEach((function(t){e.assignRowToExistingGroup(t,n)}))):t.forEach((function(t){e.assignRowToGroup(t,n)}))},N.prototype.createGroup=function(t,e,n){var i,r=e+"_"+t;n=n||[],i=new P(this,!1,e,t,this.groupIDLookups[0].field,this.headerGenerator[0],n[r]),this.groups[r]=i,this.groupList.push(i)},N.prototype.assignRowToExistingGroup=function(t,e){var n=this.groupIDLookups[0].func(t.getData()),i="0_"+n;this.groups[i]&&this.groups[i].addRow(t)},N.prototype.assignRowToGroup=function(t,e){var n=this.groupIDLookups[0].func(t.getData()),i=!this.groups["0_"+n];return i&&this.createGroup(n,0,e),this.groups["0_"+n].addRow(t),!i},N.prototype.reassignRowToGroup=function(t){var e=t.getGroup(),n=e.getPath(),i=this.getExpectedPath(t),r=!0;r=n.length==i.length&&n.every((function(t,e){return t===i[e]}));r||(e.removeRow(t),this.assignRowToGroup(t,self.groups),this.table.rowManager.refreshActiveData("group",!1,!0))},N.prototype.getExpectedPath=function(t){var e=[],n=t.getData();return this.groupIDLookups.forEach((function(t){e.push(t.func(n))})),e},N.prototype.updateGroupRows=function(t){var e=this,n=[];if(e.groupList.forEach((function(t){n=n.concat(t.getHeadersAndRows())})),t){var i=e.table.rowManager.setDisplayRows(n,this.getDisplayIndex());!0!==i&&this.setDisplayIndex(i),e.table.rowManager.refreshActiveData("group",!0,!0)}return n},N.prototype.scrollHeaders=function(t){this.table.options.virtualDomHoz&&(t-=this.table.vdomHoz.vDomPadLeft),t+="px",this.groupList.forEach((function(e){e.scrollHeader(t)}))},N.prototype.removeGroup=function(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],e=this.groupList.indexOf(t),e>-1&&this.groupList.splice(e,1))},g.prototype.registerModule("groupRows",N);var F=function(t){this.table=t,this.history=[],this.index=-1};F.prototype.clear=function(){this.history=[],this.index=-1},F.prototype.action=function(t,e,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:n}),this.index++},F.prototype.getHistoryUndoSize=function(){return this.index+1},F.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)},F.prototype.clearComponentHistory=function(t){var e=this.history.findIndex((function(e){return e.component===t}));e>-1&&(this.history.splice(e,1),e<=this.index&&this.index--,this.clearComponentHistory(t))},F.prototype.undo=function(){if(this.index>-1){var t=this.history[this.index];return this.undoers[t.type].call(this,t),this.index--,this.table.options.historyUndo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Undo Error - No more history to undo"),!1},F.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var t=this.history[this.index];return this.redoers[t.type].call(this,t),this.table.options.historyRedo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Redo Error - No more history to redo"),!1},F.prototype.undoers={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue)},rowAdd:function(t){t.component.deleteActual()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posFrom],!t.data.after),this.table.rowManager.redraw()}},F.prototype.redoers={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue)},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowDelete:function(t){t.component.deleteActual()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posTo],t.data.after),this.table.rowManager.redraw()}},F.prototype._rebindRow=function(t,e){this.history.forEach((function(n){if(n.component instanceof d)n.component===t&&(n.component=e);else if(n.component instanceof p&&n.component.row===t){var i=n.component.column.getField();i&&(n.component=e.getCell(i))}}))},g.prototype.registerModule("history",F);var I=function(t){this.table=t,this.fieldIndex=[],this.hasIndex=!1};I.prototype.parseTable=function(){var t=this,e=t.table.element,n=t.table.options,i=(n.columns,e.getElementsByTagName("th")),r=e.getElementsByTagName("tbody")[0],a=[];t.hasIndex=!1,t.table.options.htmlImporting.call(this.table),r=r?r.getElementsByTagName("tr"):[],t._extractOptions(e,n),i.length?t._extractHeaders(i,r):t._generateBlankHeaders(i,r);for(var s=0;s<r.length;s++){var l=r[s],c=l.getElementsByTagName("td"),u={};t.hasIndex||(u[n.index]=s);for(var h=0;h<c.length;h++){var d=c[h];"undefined"!==typeof this.fieldIndex[h]&&(u[this.fieldIndex[h]]=d.innerHTML)}a.push(u)}var f=document.createElement("div"),p=e.attributes;for(var h in p)"object"==o(p[h])&&f.setAttribute(p[h].name,p[h].value);e.parentNode.replaceChild(f,e),n.data=a,t.table.options.htmlImported.call(this.table),this.table.element=f},I.prototype._extractOptions=function(t,e,n){var i=t.attributes,r=n?Object.assign([],n):Object.keys(e),a={};for(var s in r.forEach((function(t){a[t.toLowerCase()]=t})),i){var l,c=i[s];c&&"object"==("undefined"===typeof c?"undefined":o(c))&&c.name&&0===c.name.indexOf("tabulator-")&&(l=c.name.replace("tabulator-",""),"undefined"!==typeof a[l]&&(e[a[l]]=this._attribValue(c.value)))}},I.prototype._attribValue=function(t){return"true"===t||"false"!==t&&t},I.prototype._findCol=function(t){var e=this.table.options.columns.find((function(e){return e.title===t}));return e||!1},I.prototype._extractHeaders=function(t,e){for(var n=0;n<t.length;n++){var i,r=t[n],o=!1,a=this._findCol(r.textContent);a?o=!0:a={title:r.textContent.trim()},a.field||(a.field=r.textContent.trim().toLowerCase().replace(" ","_")),i=r.getAttribute("width"),i&&!a.width&&(a.width=i),r.attributes,this._extractOptions(r,a,l.prototype.defaultOptionList),this.fieldIndex[n]=a.field,a.field==this.table.options.index&&(this.hasIndex=!0),o||this.table.options.columns.push(a)}},I.prototype._generateBlankHeaders=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r={title:"",field:"col"+n};this.fieldIndex[n]=r.field;var o=i.getAttribute("width");o&&(r.width=o),this.table.options.columns.push(r)}},g.prototype.registerModule("htmlTableImport",I);var H=function(t){this.table=t,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};H.prototype.initialize=function(){var t=this.table.options.keybindings,e={};if(this.watchKeys={},this.pressedKeys=[],!1!==t){for(var n in this.bindings)e[n]=this.bindings[n];if(Object.keys(t).length)for(var i in t)e[i]=t[i];this.mapBindings(e),this.bindEvents()}},H.prototype.mapBindings=function(t){var e=this,n=this,i=function(i){e.actions[i]?t[i]&&("object"!==o(t[i])&&(t[i]=[t[i]]),t[i].forEach((function(t){n.mapBinding(i,t)}))):console.warn("Key Binding Error - no such action:",i)};for(var r in t)i(r)},H.prototype.mapBinding=function(t,e){var n=this,i={action:this.actions[t],keys:[],ctrl:!1,shift:!1,meta:!1},r=e.toString().toLowerCase().split(" ").join("").split("+");r.forEach((function(t){switch(t){case"ctrl":i.ctrl=!0;break;case"shift":i.shift=!0;break;case"meta":i.meta=!0;break;default:t=parseInt(t),i.keys.push(t),n.watchKeys[t]||(n.watchKeys[t]=[]),n.watchKeys[t].push(i)}}))},H.prototype.bindEvents=function(){var t=this;this.keyupBinding=function(e){var n=e.keyCode,i=t.watchKeys[n];i&&(t.pressedKeys.push(n),i.forEach((function(n){t.checkBinding(e,n)})))},this.keydownBinding=function(e){var n=e.keyCode,i=t.watchKeys[n];if(i){var r=t.pressedKeys.indexOf(n);r>-1&&t.pressedKeys.splice(r,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)},H.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)},H.prototype.checkBinding=function(t,e){var n=this,i=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&t.metaKey==e.meta&&(e.keys.forEach((function(t){var e=n.pressedKeys.indexOf(t);-1==e&&(i=!1)})),i&&e.action.call(n,t),!0)},H.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},H.prototype.actions={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,n=e.scrollTop-e.height;e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(n>=0?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,n=e.scrollTop+e.height,i=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(n<=i?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().prev()))},navNext:function(t){var e,n=!1,i=this.table.options.tabEndNewRow;this.table.modExists("edit")&&(n=this.table.modules.edit.currentCell,n&&(t.preventDefault(),e=n.nav(),e.next()||i&&(n.getElement().firstChild.blur(),i=!0===i?this.table.addRow({}):"function"==typeof i?this.table.addRow(i(n.row.getComponent())):this.table.addRow(Object.assign({},i)),i.then((function(){setTimeout((function(){e.next()}))})))))},navLeft:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().left()))},navRight:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().right()))},navUp:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().up()))},navDown:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e&&(t.preventDefault(),e.nav().down()))},undo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},g.prototype.registerModule("keybindings",H);var B=function(t){this.table=t,this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1};B.prototype.initializeColumnHeader=function(t){var e,n=this;t.definition.headerContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.definition.headerContextMenu)),this.tapHold(t,t.definition.headerContextMenu)),t.definition.headerMenu&&(e=document.createElement("span"),e.classList.add("tabulator-header-menu-button"),e.innerHTML="&vellip;",e.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),n.LoadMenuEvent(t,t.definition.headerMenu,e)})),t.titleElement.insertBefore(e,t.titleElement.firstChild))},B.prototype.LoadMenuEvent=function(t,e,n){e="function"==typeof e?e.call(this.table,t.getComponent(),n):e,this.loadMenu(n,t,e)},B.prototype.tapHold=function(t,e){var n=this,i=t.getElement(),r=null,o=!1;i.addEventListener("touchstart",(function(i){clearTimeout(r),o=!1,r=setTimeout((function(){clearTimeout(r),r=null,o=!0,n.LoadMenuEvent(t,e,i)}),1e3)}),{passive:!0}),i.addEventListener("touchend",(function(t){clearTimeout(r),r=null,o&&t.preventDefault()}))},B.prototype.initializeCell=function(t){t.column.definition.contextMenu&&(t.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.column.definition.contextMenu)),this.tapHold(t,t.column.definition.contextMenu)),t.column.definition.clickMenu&&t.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,t,t.column.definition.clickMenu))},B.prototype.initializeRow=function(t){this.table.options.rowContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,this.table.options.rowContextMenu)),this.tapHold(t,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,this.table.options.rowClickMenu))},B.prototype.initializeGroup=function(t){this.table.options.groupContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,this.table.options.groupContextMenu)),this.tapHold(t,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,this.table.options.groupClickMenu))},B.prototype.loadMenu=function(t,e,n,i){var r=this,o=!(t instanceof MouseEvent),a=document.createElement("div");if(a.classList.add("tabulator-menu"),o||t.preventDefault(),n&&n.length){if(!i){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout((function(){r.nestedMenuBlock=!1}),100);this.hideMenu(),this.menuElements=[]}n.forEach((function(t){var n=document.createElement("div"),i=t.label,o=t.disabled;t.separator?n.classList.add("tabulator-menu-separator"):(n.classList.add("tabulator-menu-item"),"function"==typeof i&&(i=i.call(r.table,e.getComponent())),i instanceof Node?n.appendChild(i):n.innerHTML=i,"function"==typeof o&&(o=o.call(r.table,e.getComponent())),o?(n.classList.add("tabulator-menu-item-disabled"),n.addEventListener("click",(function(t){t.stopPropagation()}))):t.menu&&t.menu.length?n.addEventListener("click",(function(i){i.stopPropagation(),r.hideOldSubMenus(a),r.loadMenu(i,e,t.menu,n)})):t.action&&n.addEventListener("click",(function(n){t.action(n,e.getComponent())})),t.menu&&t.menu.length&&n.classList.add("tabulator-menu-item-submenu")),a.appendChild(n)})),a.addEventListener("click",(function(t){r.hideMenu()})),this.menuElements.push(a),this.positionMenu(a,i,o,t)}},B.prototype.hideOldSubMenus=function(t){var e=this.menuElements.indexOf(t);if(e>-1)for(var n=this.menuElements.length-1;n>e;n--){var i=this.menuElements[n];i.parentNode&&i.parentNode.removeChild(i),this.menuElements.pop()}},B.prototype.positionMenu=function(t,e,n,i){var r,o,a,s=this,l=Math.max(document.body.offsetHeight,window.innerHeight);e?(a=g.prototype.helpers.elOffset(e),r=a.left+e.offsetWidth,o=a.top-1):(r=n?i.touches[0].pageX:i.pageX,o=n?i.touches[0].pageY:i.pageY,this.positionReversedX=!1),t.style.top=o+"px",t.style.left=r+"px",setTimeout((function(){s.table.rowManager.element.addEventListener("scroll",s.blurEvent),document.body.addEventListener("click",s.blurEvent),document.body.addEventListener("contextmenu",s.blurEvent),window.addEventListener("resize",s.blurEvent),document.body.addEventListener("keydown",s.escEvent)}),100),document.body.appendChild(t),o+t.offsetHeight>=l&&(t.style.top="",t.style.bottom=e?l-a.top-e.offsetHeight-1+"px":l-o+"px"),(r+t.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(t.style.left="",t.style.right=e?document.documentElement.offsetWidth-a.left+"px":document.documentElement.offsetWidth-r+"px",this.positionReversedX=!0)},B.prototype.isOpen=function(){return!!this.menuElements.length},B.prototype.escMenu=function(t){27==t.keyCode&&this.hideMenu()},B.prototype.hideMenu=function(){this.menuElements.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)},B.prototype.menus={},g.prototype.registerModule("menu",B);var $=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};$.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.classList.add("tabulator-col-placeholder"),t},$.prototype.initializeColumn=function(t){var e,n=this,i={};t.modules.frozen||(e=t.getElement(),i.mousemove=function(i){t.parent===n.moving.parent&&((n.touchMove?i.touches[0].pageX:i.pageX)-g.prototype.helpers.elOffset(e).left+n.table.columnManager.element.scrollLeft>t.getWidth()/2?n.toCol===t&&n.toColAfter||(e.parentNode.insertBefore(n.placeholderElement,e.nextSibling),n.moveColumn(t,!0)):(n.toCol!==t||n.toColAfter)&&(e.parentNode.insertBefore(n.placeholderElement,e),n.moveColumn(t,!1)))}.bind(n),e.addEventListener("mousedown",(function(e){n.touchMove=!1,1===e.which&&(n.checkTimeout=setTimeout((function(){n.startMove(e,t)}),n.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),n.bindTouchEvents(t)),t.modules.moveColumn=i},$.prototype.bindTouchEvents=function(t){var e,n,i,r,o,a,s=this,l=t.getElement(),c=!1;l.addEventListener("touchstart",(function(l){s.checkTimeout=setTimeout((function(){s.touchMove=!0,t,e=t.nextColumn(),i=e?e.getWidth()/2:0,n=t.prevColumn(),r=n?n.getWidth()/2:0,o=0,a=0,c=!1,s.startMove(l,t)}),s.checkPeriod)}),{passive:!0}),l.addEventListener("touchmove",(function(l){var u,h;s.moving&&(s.moveHover(l),c||(c=l.touches[0].pageX),u=l.touches[0].pageX-c,u>0?e&&u-o>i&&(h=e,h!==t&&(c=l.touches[0].pageX,h.getElement().parentNode.insertBefore(s.placeholderElement,h.getElement().nextSibling),s.moveColumn(h,!0))):n&&-u-a>r&&(h=n,h!==t&&(c=l.touches[0].pageX,h.getElement().parentNode.insertBefore(s.placeholderElement,h.getElement()),s.moveColumn(h,!1))),h&&(h,e=h.nextColumn(),o=i,i=e?e.getWidth()/2:0,n=h.prevColumn(),a=r,r=n?n.getWidth()/2:0))}),{passive:!0}),l.addEventListener("touchend",(function(t){s.checkTimeout&&clearTimeout(s.checkTimeout),s.moving&&s.endMove(t)}))},$.prototype.startMove=function(t,e){var n=e.getElement();this.moving=e,this.startX=(this.touchMove?t.touches[0].pageX:t.pageX)-g.prototype.helpers.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(t)},$.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveColumn.mousemove)}))},$.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveColumn.mousemove)}))},$.prototype.moveColumn=function(t,e){var n=this.moving.getCells();this.toCol=t,this.toColAfter=e,e?t.getCells().forEach((function(t,e){var i=t.getElement(!0);i.parentNode.insertBefore(n[e].getElement(),i.nextSibling)})):t.getCells().forEach((function(t,e){var i=t.getElement(!0);i.parentNode.insertBefore(n[e].getElement(),i)}))},$.prototype.endMove=function(t){(1===t.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))},$.prototype.moveHover=function(t){var e,n=this,i=n.table.columnManager.getElement(),r=i.scrollLeft,o=(n.touchMove?t.touches[0].pageX:t.pageX)-g.prototype.helpers.elOffset(i).left+r;n.hoverElement.style.left=o-n.startX+"px",o-r<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout((function(){e=Math.max(0,r-5),n.table.rowManager.getElement().scrollLeft=e,n.autoScrollTimeout=!1}),1))),r+i.clientWidth-o<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout((function(){e=Math.min(i.clientWidth,r+5),n.table.rowManager.getElement().scrollLeft=e,n.autoScrollTimeout=!1}),1)))},g.prototype.registerModule("moveColumn",$);var V=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1};V.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t},V.prototype.initialize=function(t){this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements},V.prototype.setHandle=function(t){this.hasHandle=t},V.prototype.initializeGroupHeader=function(t){var e=this,n={};n.mouseup=function(t){e.tableRowDrop(t,row)}.bind(e),n.mousemove=function(n){if(n.pageY-g.prototype.helpers.elOffset(t.element).top+e.table.rowManager.element.scrollTop>t.getHeight()/2){if(e.toRow!==t||!e.toRowAfter){var i=t.getElement();i.parentNode.insertBefore(e.placeholderElement,i.nextSibling),e.moveRow(t,!0)}}else if(e.toRow!==t||e.toRowAfter){i=t.getElement();i.previousSibling&&(i.parentNode.insertBefore(e.placeholderElement,i),e.moveRow(t,!1))}}.bind(e),t.modules.moveRow=n},V.prototype.initializeRow=function(t){var e,n=this,i={};i.mouseup=function(e){n.tableRowDrop(e,t)}.bind(n),i.mousemove=function(e){var i=t.getElement();e.pageY-g.prototype.helpers.elOffset(i).top+n.table.rowManager.element.scrollTop>t.getHeight()/2?n.toRow===t&&n.toRowAfter||(i.parentNode.insertBefore(n.placeholderElement,i.nextSibling),n.moveRow(t,!0)):(n.toRow!==t||n.toRowAfter)&&(i.parentNode.insertBefore(n.placeholderElement,i),n.moveRow(t,!1))}.bind(n),this.hasHandle||(e=t.getElement(),e.addEventListener("mousedown",(function(e){1===e.which&&(n.checkTimeout=setTimeout((function(){n.startMove(e,t)}),n.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),this.bindTouchEvents(t,t.getElement())),t.modules.moveRow=i},V.prototype.initializeCell=function(t){var e=this,n=t.getElement(!0);n.addEventListener("mousedown",(function(n){1===n.which&&(e.checkTimeout=setTimeout((function(){e.startMove(n,t.row)}),e.checkPeriod))})),n.addEventListener("mouseup",(function(t){1===t.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)})),this.bindTouchEvents(t.row,n)},V.prototype.bindTouchEvents=function(t,e){var n,i,r,o,a,s,l=this,c=!1;e.addEventListener("touchstart",(function(e){l.checkTimeout=setTimeout((function(){l.touchMove=!0,t,n=t.nextRow(),r=n?n.getHeight()/2:0,i=t.prevRow(),o=i?i.getHeight()/2:0,a=0,s=0,c=!1,l.startMove(e,t)}),l.checkPeriod)}),{passive:!0}),this.moving,this.toRow,this.toRowAfter,e.addEventListener("touchmove",(function(e){var u,h;l.moving&&(e.preventDefault(),l.moveHover(e),c||(c=e.touches[0].pageY),u=e.touches[0].pageY-c,u>0?n&&u-a>r&&(h=n,h!==t&&(c=e.touches[0].pageY,h.getElement().parentNode.insertBefore(l.placeholderElement,h.getElement().nextSibling),l.moveRow(h,!0))):i&&-u-s>o&&(h=i,h!==t&&(c=e.touches[0].pageY,h.getElement().parentNode.insertBefore(l.placeholderElement,h.getElement()),l.moveRow(h,!1))),h&&(h,n=h.nextRow(),a=r,r=n?n.getHeight()/2:0,i=h.prevRow(),s=o,o=i?i.getHeight()/2:0))})),e.addEventListener("touchend",(function(t){l.checkTimeout&&clearTimeout(l.checkTimeout),l.moving&&(l.endMove(t),l.touchMove=!1)}))},V.prototype._bindMouseMove=function(){var t=this;t.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)}))},V.prototype._unbindMouseMove=function(){var t=this;t.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)}))},V.prototype.startMove=function(t,e){var n=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n)),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(t)},V.prototype.setStartPosition=function(t,e){var n,i,r=this.touchMove?t.touches[0].pageX:t.pageX,o=this.touchMove?t.touches[0].pageY:t.pageY;n=e.getElement(),this.connection?(i=n.getBoundingClientRect(),this.startX=i.left-r+window.pageXOffset,this.startY=i.top-o+window.pageYOffset):this.startY=o-n.getBoundingClientRect().top},V.prototype.endMove=function(t){t&&1!==t.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))},V.prototype.moveRow=function(t,e){this.toRow=t,this.toRowAfter=e},V.prototype.moveHover=function(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)},V.prototype.moveHoverTable=function(t){var e=this.table.rowManager.getElement(),n=e.scrollTop,i=(this.touchMove?t.touches[0].pageY:t.pageY)-e.getBoundingClientRect().top+n;this.hoverElement.style.top=i-this.startY+"px"},V.prototype.moveHoverConnections=function(t){this.hoverElement.style.left=this.startX+(this.touchMove?t.touches[0].pageX:t.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?t.touches[0].pageY:t.pageY)+"px"},V.prototype.elementRowDrop=function(t,e,n){this.table.options.movableRowsElementDrop&&this.table.options.movableRowsElementDrop(t,e,!!n&&n.getComponent())},V.prototype.connectToTables=function(t){var e,n=this;this.connectionSelectorsTables&&(e=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStart.call(this.table,e),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","connect",{row:t})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((function(t){"string"===typeof t?n.connectionElements=n.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):n.connectionElements.push(t)})),this.connectionElements.forEach((function(t){var e=function(e){n.elementRowDrop(e,t,n.moving)};t.addEventListener("mouseup",e),t.tabulatorElementDropEvent=e,t.classList.add("tabulator-movingrow-receiving")})))},V.prototype.disconnectFromTables=function(){var t;this.connectionSelectorsTables&&(t=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStop.call(this.table,t),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((function(t){t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent}))},V.prototype.connect=function(t,e){var n=this;return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=t,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),n.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)})),n.tableRowDropEvent=n.tableRowDrop.bind(n),n.table.element.addEventListener("mouseup",n.tableRowDropEvent),this.table.options.movableRowsReceivingStart.call(this.table,e,t),!0)},V.prototype.disconnect=function(t){var e=this;t===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),e.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)})),e.table.element.removeEventListener("mouseup",e.tableRowDropEvent),this.table.options.movableRowsReceivingStop.call(this.table,t)):console.warn("Move Row Error - trying to disconnect from non connected table")},V.prototype.dropComplete=function(t,e,n){var i=!1;if(n){switch(o(this.table.options.movableRowsSender)){case"string":i=this.senders[this.table.options.movableRowsSender];break;case"function":i=this.table.options.movableRowsSender;break}i?i.call(this,this.moving.getComponent(),e?e.getComponent():void 0,t):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t)}else this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t);this.endMove()},V.prototype.tableRowDrop=function(t,e){var n=!1,i=!1;switch(t.stopImmediatePropagation(),o(this.table.options.movableRowsReceiver)){case"string":n=this.receivers[this.table.options.movableRowsReceiver];break;case"function":n=this.table.options.movableRowsReceiver;break}n?i=n.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),i?this.table.options.movableRowsReceived.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):this.table.options.movableRowsReceivedFailed.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:e,success:i})},V.prototype.receivers={insert:function(t,e,n){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,n){return this.table.addRow(t.getData()),!0},update:function(t,e,n){return!!e&&(e.update(t.getData()),!0)},replace:function(t,e,n){return!!e&&(this.table.addRow(t.getData(),void 0,e),e.delete(),!0)}},V.prototype.senders={delete:function(t,e,n){t.delete()}},V.prototype.commsReceived=function(t,e,n){switch(e){case"connect":return this.connect(t,n.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,n.row,n.success)}},g.prototype.registerModule("moveRow",V);var W=function(t){this.table=t,this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0};W.prototype.initializeColumn=function(t){var e=this,n=!1,i={};this.allowedTypes.forEach((function(r){var o,a="mutator"+(r.charAt(0).toUpperCase()+r.slice(1));t.definition[a]&&(o=e.lookupMutator(t.definition[a]),o&&(n=!0,i[a]={mutator:o,params:t.definition[a+"Params"]||{}}))})),n&&(t.modules.mutate=i)},W.prototype.lookupMutator=function(t){var e=!1;switch("undefined"===typeof t?"undefined":o(t)){case"string":this.mutators[t]?e=this.mutators[t]:console.warn("Mutator Error - No such mutator found, ignoring: ",t);break;case"function":e=t;break}return e},W.prototype.transformRow=function(t,e,n){var i,r=this,o="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));return this.enabled&&r.table.columnManager.traverse((function(r){var a,s,l;r.modules.mutate&&(a=r.modules.mutate[o]||r.modules.mutate.mutator||!1,a&&(i=r.getFieldValue("undefined"!==typeof n?n:t),"data"!=e&&"undefined"===typeof i||(l=r.getComponent(),s="function"===typeof a.params?a.params(i,t,e,l):a.params,r.setFieldValue(t,a.mutator(i,t,e,s,l)))))})),t},W.prototype.transformCell=function(t,e){var n=t.column.modules.mutate.mutatorEdit||t.column.modules.mutate.mutator||!1,i={};return n?(i=Object.assign(i,t.row.getData()),t.column.setFieldValue(i,e),n.mutator(e,i,"edit",n.params,t.getComponent())):e},W.prototype.enable=function(){this.enabled=!0},W.prototype.disable=function(){this.enabled=!1},W.prototype.mutators={},g.prototype.registerModule("mutator",W);var U=function(t){this.table=t,this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.createElements()};U.prototype.createElements=function(){var t;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),t=document.createElement("button"),t.classList.add("tabulator-page"),t.setAttribute("type","button"),t.setAttribute("role","button"),t.setAttribute("aria-label",""),t.setAttribute("title",""),this.firstBut=t.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=t.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=t.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=t.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))},U.prototype.generatePageSizeSelectList=function(){var t=this,e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(var n=1;n<5;n++)e.push(this.size*n);this.pageSizes=e}else e=this.pageSizes;while(this.pageSizeSelect.firstChild)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach((function(e){var n=document.createElement("option");n.value=e,!0===e?t.table.modules.localize.bind("pagination|all",(function(t){n.innerHTML=t})):n.innerHTML=e,t.pageSizeSelect.appendChild(n)})),this.pageSizeSelect.value=this.size}},U.prototype.initialize=function(t){var e,n,i,r=this;this.dataSentNames=Object.assign({},this.paginationDataSentNames),this.dataSentNames=Object.assign(this.dataSentNames,this.table.options.paginationDataSent),this.dataReceivedNames=Object.assign({},this.paginationDataReceivedNames),this.dataReceivedNames=Object.assign(this.dataReceivedNames,this.table.options.paginationDataReceived),r.table.modules.localize.bind("pagination|first",(function(t){r.firstBut.innerHTML=t})),r.table.modules.localize.bind("pagination|first_title",(function(t){r.firstBut.setAttribute("aria-label",t),r.firstBut.setAttribute("title",t)})),r.table.modules.localize.bind("pagination|prev",(function(t){r.prevBut.innerHTML=t})),r.table.modules.localize.bind("pagination|prev_title",(function(t){r.prevBut.setAttribute("aria-label",t),r.prevBut.setAttribute("title",t)})),r.table.modules.localize.bind("pagination|next",(function(t){r.nextBut.innerHTML=t})),r.table.modules.localize.bind("pagination|next_title",(function(t){r.nextBut.setAttribute("aria-label",t),r.nextBut.setAttribute("title",t)})),r.table.modules.localize.bind("pagination|last",(function(t){r.lastBut.innerHTML=t})),r.table.modules.localize.bind("pagination|last_title",(function(t){r.lastBut.setAttribute("aria-label",t),r.lastBut.setAttribute("title",t)})),r.firstBut.addEventListener("click",(function(){r.setPage(1).then((function(){})).catch((function(){}))})),r.prevBut.addEventListener("click",(function(){r.previousPage().then((function(){})).catch((function(){}))})),r.nextBut.addEventListener("click",(function(){r.nextPage().then((function(){})).catch((function(){}))})),r.lastBut.addEventListener("click",(function(){r.setPage(r.max).then((function(){})).catch((function(){}))})),r.table.options.paginationElement&&(r.element=r.table.options.paginationElement),this.pageSizeSelect&&(e=document.createElement("label"),r.table.modules.localize.bind("pagination|page_size",(function(t){r.pageSizeSelect.setAttribute("aria-label",t),r.pageSizeSelect.setAttribute("title",t),e.innerHTML=t})),r.element.appendChild(e),r.element.appendChild(r.pageSizeSelect),r.pageSizeSelect.addEventListener("change",(function(t){r.setPageSize("true"==r.pageSizeSelect.value||r.pageSizeSelect.value),r.setPage(1).then((function(){})).catch((function(){}))}))),r.element.appendChild(r.firstBut),r.element.appendChild(r.prevBut),r.element.appendChild(r.pagesElement),r.element.appendChild(r.nextBut),r.element.appendChild(r.lastBut),r.table.options.paginationElement||t||r.table.footerManager.append(r.element,r),r.mode=r.table.options.pagination,r.table.options.paginationSize?r.size=r.table.options.paginationSize:(n=document.createElement("div"),n.classList.add("tabulator-row"),n.style.visibility=t,i=document.createElement("div"),i.classList.add("tabulator-cell"),i.innerHTML="Page Row Test",n.appendChild(i),r.table.rowManager.getTableElement().appendChild(n),r.size=Math.floor(r.table.rowManager.getElement().clientHeight/n.offsetHeight),r.table.rowManager.getTableElement().removeChild(n)),r.count=r.table.options.paginationButtonCount,r.generatePageSizeSelectList()},U.prototype.initializeProgressive=function(t){this.initialize(!0),this.mode="progressive_"+t,this.progressiveLoad=!0},U.prototype.setDisplayIndex=function(t){this.displayIndex=t},U.prototype.getDisplayIndex=function(){return this.displayIndex},U.prototype.setMaxRows=function(t){this.max=t?!0===this.size?1:Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)},U.prototype.reset=function(t,e){return("local"==this.mode||t)&&(this.page=1),e&&(this.initialLoad=!0),!0},U.prototype.setMaxPage=function(t){t=parseInt(t),this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())},U.prototype.setPage=function(t){var e=this,n=this;switch(t){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return new Promise((function(i,r){t=parseInt(t),t>0&&t<=e.max||"local"!==e.mode?(e.page=t,e.trigger().then((function(){i()})).catch((function(){r()})),n.table.options.persistence&&n.table.modExists("persistence",!0)&&n.table.modules.persistence.config.page&&n.table.modules.persistence.save("page")):(console.warn("Pagination Error - Requested page is out of range of 1 - "+e.max+":",t),r())}))},U.prototype.setPageToRow=function(t){var e=this;return new Promise((function(n,i){var r=e.table.rowManager.getDisplayRows(e.displayIndex-1),o=r.indexOf(t);if(o>-1){var a=!0===e.size?1:Math.ceil((o+1)/e.size);e.setPage(a).then((function(){n()})).catch((function(){i()}))}else console.warn("Pagination Error - Requested row is not visible"),i()}))},U.prototype.setPageSize=function(t){!0!==t&&(t=parseInt(t)),t>0&&(this.size=t),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.page&&this.table.modules.persistence.save("page")},U.prototype._setPageButtons=function(){var t=this,e=Math.floor((this.count-1)/2),n=Math.ceil((this.count-1)/2),i=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),r=this.page<=n?Math.min(this.count,this.max):Math.min(this.page+n,this.max);while(t.pagesElement.firstChild)t.pagesElement.removeChild(t.pagesElement.firstChild);1==t.page?(t.firstBut.disabled=!0,t.prevBut.disabled=!0):(t.firstBut.disabled=!1,t.prevBut.disabled=!1),t.page==t.max?(t.lastBut.disabled=!0,t.nextBut.disabled=!0):(t.lastBut.disabled=!1,t.nextBut.disabled=!1);for(var o=i;o<=r;o++)o>0&&o<=t.max&&t.pagesElement.appendChild(t._generatePageButton(o));this.footerRedraw()},U.prototype._generatePageButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("tabulator-page"),t==e.page&&n.classList.add("active"),n.setAttribute("type","button"),n.setAttribute("role","button"),e.table.modules.localize.bind("pagination|page_title",(function(e){n.setAttribute("aria-label",e+" "+t),n.setAttribute("title",e+" "+t)})),n.setAttribute("data-page",t),n.textContent=t,n.addEventListener("click",(function(n){e.setPage(t).then((function(){})).catch((function(){}))})),n},U.prototype.previousPage=function(){var t=this;return new Promise((function(e,n){t.page>1?(t.page--,t.trigger().then((function(){e()})).catch((function(){n()})),t.table.options.persistence&&t.table.modExists("persistence",!0)&&t.table.modules.persistence.config.page&&t.table.modules.persistence.save("page")):(console.warn("Pagination Error - Previous page would be less than page 1:",0),n())}))},U.prototype.nextPage=function(){var t=this;return new Promise((function(e,n){t.page<t.max?(t.page++,t.trigger().then((function(){e()})).catch((function(){n()})),t.table.options.persistence&&t.table.modExists("persistence",!0)&&t.table.modules.persistence.config.page&&t.table.modules.persistence.save("page")):(t.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+t.max+":",t.max+1),n())}))},U.prototype.getPage=function(){return this.page},U.prototype.getPageMax=function(){return this.max},U.prototype.getPageSize=function(t){return this.size},U.prototype.getMode=function(){return this.mode},U.prototype.getRows=function(t){var e,n,i;if("local"==this.mode){e=[],!0===this.size?(n=0,i=t.length):(n=this.size*(this.page-1),i=n+parseInt(this.size)),this._setPageButtons();for(var r=n;r<i;r++)t[r]&&e.push(t[r]);return e}return this._setPageButtons(),t.slice(0)},U.prototype.trigger=function(){var t,e=this;return new Promise((function(n,i){switch(e.mode){case"local":t=e.table.rowManager.scrollLeft,e.table.rowManager.refreshActiveData("page"),e.table.rowManager.scrollHorizontal(t),e.table.options.pageLoaded.call(e.table,e.getPage()),n();break;case"remote":case"progressive_load":case"progressive_scroll":e.table.modules.ajax.blockActiveRequest(),e._getRemotePage().then((function(){n()})).catch((function(){i()}));break;default:console.warn("Pagination Error - no such pagination mode:",e.mode),i()}}))},U.prototype._getRemotePage=function(){var t,e,n=this,i=this;return new Promise((function(r,o){if(i.table.modExists("ajax",!0)||o(),t=g.prototype.helpers.deepClone(i.table.modules.ajax.getParams()||{}),e=i.table.modules.ajax.getParams(),e[n.dataSentNames.page]=i.page,n.size&&(e[n.dataSentNames.size]=n.size),n.table.options.ajaxSorting&&n.table.modExists("sort")){var a=i.table.modules.sort.getSort();a.forEach((function(t){delete t.column})),e[n.dataSentNames.sorters]=a}if(n.table.options.ajaxFiltering&&n.table.modExists("filter")){var s=i.table.modules.filter.getFilters(!0,!0);e[n.dataSentNames.filters]=s}i.table.modules.ajax.setParams(e),i.table.modules.ajax.sendRequest(n.progressiveLoad).then((function(t){i._parseRemoteData(t),r()})).catch((function(t){o()})),i.table.modules.ajax.setParams(t)}))},U.prototype._parseRemoteData=function(t){var e,n,i=this;if("undefined"===typeof t[this.dataReceivedNames.last_page]&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),t[this.dataReceivedNames.data]){if(this.max=parseInt(t[this.dataReceivedNames.last_page])||1,this.progressiveLoad)switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(t[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page):this.table.rowManager.addRows(t[this.dataReceivedNames.data]),this.page<this.max&&setTimeout((function(){i.nextPage().then((function(){})).catch((function(){}))}),i.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":t=this.table.rowManager.getData().concat(t[this.dataReceivedNames.data]),this.table.rowManager.setData(t,!0,this.initialLoad&&1==this.page),n=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,i.table.rowManager.element.scrollHeight<=i.table.rowManager.element.clientHeight+n&&i.nextPage().then((function(){})).catch((function(){}));break}else e=this.table.rowManager.scrollLeft,this.table.rowManager.setData(t[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page),this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e),this.table.options.pageLoaded.call(this.table,this.getPage());this.initialLoad=!1}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property")},U.prototype.footerRedraw=function(){var t=this.table.footerManager.element;Math.ceil(t.clientWidth)-t.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(t.clientWidth)-t.scrollWidth<0&&(this.pagesElement.style.display="none"))},U.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},U.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},g.prototype.registerModule("page",U);var G=function(t){this.table=t,this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1};G.prototype.localStorageTest=function(){var t="_tabulator_test";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(e){return!1}},G.prototype.initialize=function(){var t,e=this.table.options.persistenceMode,n=this.table.options.persistenceID;this.mode=!0!==e?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"===typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:this.readers[this.table.options.persistenceReaderFunc]?this.readFunc=this.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):this.readers[this.mode]?this.readFunc=this.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"===typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:this.readers[this.table.options.persistenceWriterFunc]?this.writeFunc=this.readers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):this.writers[this.mode]?this.writeFunc=this.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(n||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(t=this.retreiveData("page"),t&&("undefined"===typeof t.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=t.paginationSize),"undefined"===typeof t.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=t.paginationInitialPage))),this.config.group&&(t=this.retreiveData("group"),t&&("undefined"===typeof t.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=t.groupBy),"undefined"===typeof t.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=t.groupStartOpen),"undefined"===typeof t.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=t.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns))},G.prototype.initializeColumn=function(t){var e,n,i=this;this.config.columns&&(this.defWatcherBlock=!0,e=t.getDefinition(),n=!0===this.config.columns?Object.keys(e):this.config.columns,n.forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t),r=e[t];n&&Object.defineProperty(e,t,{set:function(t){r=t,i.defWatcherBlock||i.save("columns"),n.set&&n.set(t)},get:function(){return n.get&&n.get(),r}})})),this.defWatcherBlock=!1)},G.prototype.load=function(t,e){var n=this.retreiveData(t);return e&&(n=n?this.mergeDefinition(e,n):e),n},G.prototype.retreiveData=function(t){return!!this.readFunc&&this.readFunc(this.id,t)},G.prototype.mergeDefinition=function(t,e){var n=this,i=[];return e=e||[],e.forEach((function(e,r){var o,a=n._findColumn(t,e);a&&(!0===n.config.columns||void 0==n.config.columns?(o=Object.keys(a),o.push("width")):o=n.config.columns,o.forEach((function(t){"columns"!==t&&"undefined"!==typeof e[t]&&(a[t]=e[t])})),a.columns&&(a.columns=n.mergeDefinition(a.columns,e.columns)),i.push(a))})),t.forEach((function(t,r){var o=n._findColumn(e,t);o||(i.length>r?i.splice(r,0,t):i.push(t))})),i},G.prototype._findColumn=function(t,e){var n=e.columns?"group":e.field?"field":"object";return t.find((function(t){switch(n){case"group":return t.title===e.title&&t.columns.length===e.columns.length;case"field":return t.field===e.field;case"object":return t===e}}))},G.prototype.save=function(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.modules.filter.getFilters();break;case"sort":e=this.validateSorters(this.table.modules.sort.getSort());break;case"group":e=this.getGroupConfig();break;case"page":e=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,t,e)},G.prototype.validateSorters=function(t){return t.forEach((function(t){t.column=t.field,delete t.field})),t},G.prototype.getGroupConfig=function(){var t={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(t.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(t.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(t.groupHeader=this.table.options.groupHeader)),t},G.prototype.getPageConfig=function(){var t={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(t.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(t.paginationInitialPage=this.table.modules.page.getPage())),t},G.prototype.parseColumns=function(t){var e=this,n=[],i=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return t.forEach((function(t){var r,o={},a=t.getDefinition();t.isGroup?(o.title=a.title,o.columns=e.parseColumns(t.getColumns())):(o.field=t.getField(),!0===e.config.columns||void 0==e.config.columns?(r=Object.keys(a),r.push("width")):r=e.config.columns,r.forEach((function(e){switch(e){case"width":o.width=t.getWidth();break;case"visible":o.visible=t.visible;break;default:"function"!==typeof a[e]&&-1===i.indexOf(e)&&(o[e]=a[e])}}))),n.push(o)})),n},G.prototype.readers={local:function(t,e){var n=localStorage.getItem(t+"-"+e);return!!n&&JSON.parse(n)},cookie:function(t,e){var n,i,r=document.cookie,o=t+"-"+e,a=r.indexOf(o+"=");return a>-1&&(r=r.substr(a),n=r.indexOf(";"),n>-1&&(r=r.substr(0,n)),i=r.replace(o+"=","")),!!i&&JSON.parse(i)}},G.prototype.writers={local:function(t,e,n){localStorage.setItem(t+"-"+e,JSON.stringify(n))},cookie:function(t,e,n){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(n)+"; expires="+i.toUTCString()}},g.prototype.registerModule("persistence",G);var q=function(t){this.table=t,this.element=!1,this.manualBlock=!1};q.prototype.initialize=function(){window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))},q.prototype.replaceTable=function(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))},q.prototype.cleanup=function(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")},q.prototype.printFullscreen=function(t,e,n){var i,r,o=window.scrollX,a=window.scrollY,s=document.createElement("div"),l=document.createElement("div"),c=this.table.modules.export.genereateTable("undefined"!=typeof n?n:this.table.options.printConfig,"undefined"!=typeof e?e:this.table.options.printStyled,t,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(s.classList.add("tabulator-print-header"),i="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader,"string"==typeof i?s.innerHTML=i:s.appendChild(i),this.element.appendChild(s)),this.element.appendChild(c),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),r="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter,"string"==typeof r?l.innerHTML=r:l.appendChild(r),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,c),window.print(),this.cleanup(),window.scrollTo(o,a),this.manualBlock=!1},g.prototype.registerModule("print",q);var Y=function(t){this.table=t,this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0};Y.prototype.watchData=function(t){var e,n=this;this.currentVersion++,e=this.currentVersion,n.unwatchData(),n.data=t,n.origFuncs.push=t.push,Object.defineProperty(n.data,"push",{enumerable:!1,configurable:!0,value:function(){var i=Array.from(arguments);return n.blocked||e!==n.currentVersion||i.forEach((function(t){n.table.rowManager.addRowActual(t,!1)})),n.origFuncs.push.apply(t,arguments)}}),n.origFuncs.unshift=t.unshift,Object.defineProperty(n.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var i=Array.from(arguments);return n.blocked||e!==n.currentVersion||i.forEach((function(t){n.table.rowManager.addRowActual(t,!0)})),n.origFuncs.unshift.apply(t,arguments)}}),n.origFuncs.shift=t.shift,Object.defineProperty(n.data,"shift",{enumerable:!1,configurable:!0,value:function(){var i;return n.blocked||e!==n.currentVersion||n.data.length&&(i=n.table.rowManager.getRowFromDataObject(n.data[0]),i&&i.deleteActual()),n.origFuncs.shift.call(t)}}),n.origFuncs.pop=t.pop,Object.defineProperty(n.data,"pop",{enumerable:!1,configurable:!0,value:function(){var i;return n.blocked||e!==n.currentVersion||n.data.length&&(i=n.table.rowManager.getRowFromDataObject(n.data[n.data.length-1]),i&&i.deleteActual()),n.origFuncs.pop.call(t)}}),n.origFuncs.splice=t.splice,Object.defineProperty(n.data,"splice",{enumerable:!1,configurable:!0,value:function(){var i,r=Array.from(arguments),o=r[0]<0?t.length+r[0]:r[0],a=r[1],s=!!r[2]&&r.slice(2);if(!n.blocked&&e===n.currentVersion){if(s&&(i=!!t[o]&&n.table.rowManager.getRowFromDataObject(t[o]),i?s.forEach((function(t){n.table.rowManager.addRowActual(t,!0,i,!0)})):(s=s.slice().reverse(),s.forEach((function(t){n.table.rowManager.addRowActual(t,!0,!1,!0)})))),0!==a){var l=t.slice(o,"undefined"===typeof r[1]?r[1]:o+a);l.forEach((function(t,e){var i=n.table.rowManager.getRowFromDataObject(t);i&&i.deleteActual(e!==l.length-1)}))}(s||0!==a)&&n.table.rowManager.reRenderInPosition()}return n.origFuncs.splice.apply(t,arguments)}})},Y.prototype.unwatchData=function(){if(!1!==this.data)for(var t in this.origFuncs)Object.defineProperty(this.data,t,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})},Y.prototype.watchRow=function(t){var e=t.getData();for(var n in this.blocked=!0,e)this.watchKey(t,e,n);this.table.options.dataTree&&this.watchTreeChildren(t),this.blocked=!1},Y.prototype.watchTreeChildren=function(t){var e=this,n=t.getData()[this.table.options.dataTreeChildField],i={};function r(){e.table.modules.dataTree.initializeRow(t),e.table.modules.dataTree.layoutRow(t),e.table.rowManager.refreshActiveData("tree",!1,!0)}n&&(i.push=n.push,Object.defineProperty(n,"push",{enumerable:!1,configurable:!0,value:function(){var t=i.push.apply(n,arguments);return r(),t}}),i.unshift=n.unshift,Object.defineProperty(n,"unshift",{enumerable:!1,configurable:!0,value:function(){var t=i.unshift.apply(n,arguments);return r(),t}}),i.shift=n.shift,Object.defineProperty(n,"shift",{enumerable:!1,configurable:!0,value:function(){var t=i.shift.call(n);return r(),t}}),i.pop=n.pop,Object.defineProperty(n,"pop",{enumerable:!1,configurable:!0,value:function(){var t=i.pop.call(n);return r(),t}}),i.splice=n.splice,Object.defineProperty(n,"splice",{enumerable:!1,configurable:!0,value:function(){var t=i.splice.apply(n,arguments);return r(),t}}))},Y.prototype.watchKey=function(t,e,n){var i=this,r=Object.getOwnPropertyDescriptor(e,n),o=e[n],a=this.currentVersion;Object.defineProperty(e,n,{set:function(e){if(o=e,!i.blocked&&a===i.currentVersion){var s={};s[n]=e,t.updateData(s)}r.set&&r.set(e)},get:function(){return r.get&&r.get(),o}})},Y.prototype.unwatchRow=function(t){var e=t.getData();for(var n in e)Object.defineProperty(e,n,{value:e[n]})},Y.prototype.block=function(){this.blocked=!0},Y.prototype.unblock=function(){this.blocked=!1},g.prototype.registerModule("reactiveData",Y);var X=function(t){this.table=t,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};X.prototype.initializeColumn=function(t,e,n){var i=this,r=!1,o=this.table.options.resizableColumns;if("header"===t&&(r="textarea"==e.definition.formatter||e.definition.variableHeight,e.modules.resize={variableHeight:r}),!0===o||o==t){var a=document.createElement("div");a.className="tabulator-col-resize-handle";var s=document.createElement("div");s.className="tabulator-col-resize-handle prev",a.addEventListener("click",(function(t){t.stopPropagation()}));var l=function(t){var n=e.getLastColumn();n&&i._checkResizability(n)&&(i.startColumn=e,i._mouseDown(t,n,a))};a.addEventListener("mousedown",l),a.addEventListener("touchstart",l,{passive:!0}),a.addEventListener("dblclick",(function(t){var n=e.getLastColumn();n&&i._checkResizability(n)&&(t.stopPropagation(),n.reinitializeWidth(!0))})),s.addEventListener("click",(function(t){t.stopPropagation()}));var c=function(t){var n,r,o;n=e.getFirstColumn(),n&&(r=i.table.columnManager.findColumnIndex(n),o=r>0&&i.table.columnManager.getColumnByIndex(r-1),o&&i._checkResizability(o)&&(i.startColumn=e,i._mouseDown(t,o,s)))};s.addEventListener("mousedown",c),s.addEventListener("touchstart",c,{passive:!0}),s.addEventListener("dblclick",(function(t){var n,r,o;n=e.getFirstColumn(),n&&(r=i.table.columnManager.findColumnIndex(n),o=r>0&&i.table.columnManager.getColumnByIndex(r-1),o&&i._checkResizability(o)&&(t.stopPropagation(),o.reinitializeWidth(!0)))})),n.appendChild(a),n.appendChild(s)}},X.prototype._checkResizability=function(t){return"undefined"!=typeof t.definition.resizable?t.definition.resizable:this.table.options.resizableColumns},X.prototype._mouseDown=function(t,e,n){var i=this;function r(t){i.table.rtl?e.setWidth(i.startWidth-(("undefined"===typeof t.screenX?t.touches[0].screenX:t.screenX)-i.startX)):e.setWidth(i.startWidth+(("undefined"===typeof t.screenX?t.touches[0].screenX:t.screenX)-i.startX)),i.table.options.virtualDomHoz&&i.table.vdomHoz.reinitialize(!0),!i.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights()}function o(t){i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!1),i.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights(),document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o),i.table.element.classList.remove("tabulator-block-select"),i.table.options.persistence&&i.table.modExists("persistence",!0)&&i.table.modules.persistence.config.columns&&i.table.modules.persistence.save("columns"),i.table.options.columnResized.call(i.table,e.getComponent())}i.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!0),i.startX="undefined"===typeof t.screenX?t.touches[0].screenX:t.screenX,i.startWidth=e.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",o)},g.prototype.registerModule("resizeColumns",X);var K=function(t){this.table=t,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};K.prototype.initializeRow=function(t){var e=this,n=t.getElement(),i=document.createElement("div");i.className="tabulator-row-resize-handle";var r=document.createElement("div");r.className="tabulator-row-resize-handle prev",i.addEventListener("click",(function(t){t.stopPropagation()}));var o=function(n){e.startRow=t,e._mouseDown(n,t,i)};i.addEventListener("mousedown",o),i.addEventListener("touchstart",o,{passive:!0}),r.addEventListener("click",(function(t){t.stopPropagation()}));var a=function(n){var i=e.table.rowManager.prevDisplayRow(t);i&&(e.startRow=i,e._mouseDown(n,i,r))};r.addEventListener("mousedown",a),r.addEventListener("touchstart",a,{passive:!0}),n.appendChild(i),n.appendChild(r)},K.prototype._mouseDown=function(t,e,n){var i=this;function r(t){e.setHeight(i.startHeight+(("undefined"===typeof t.screenY?t.touches[0].screenY:t.screenY)-i.startY))}function o(t){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o),i.table.element.classList.remove("tabulator-block-select"),i.table.options.rowResized.call(this.table,e.getComponent())}i.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),i.startY="undefined"===typeof t.screenY?t.touches[0].screenY:t.screenY,i.startHeight=e.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",o)},g.prototype.registerModule("resizeRows",K);var J=function(t){this.table=t,this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1};J.prototype.initialize=function(t){var e,n=this,i=this.table;this.tableHeight=i.element.clientHeight,this.tableWidth=i.element.clientWidth,i.element.parentNode&&(this.containerHeight=i.element.parentNode.clientHeight,this.containerWidth=i.element.parentNode.clientWidth),"undefined"!==typeof ResizeObserver&&"virtual"===i.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver((function(t){if(!i.browserMobile||i.browserMobile&&!i.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),r=Math.floor(t[0].contentRect.width);n.tableHeight==e&&n.tableWidth==r||(n.tableHeight=e,n.tableWidth=r,i.element.parentNode&&(n.containerHeight=i.element.parentNode.clientHeight,n.containerWidth=i.element.parentNode.clientWidth),i.options.virtualDomHoz&&i.vdomHoz.reinitialize(!0),i.redraw())}})),this.observer.observe(i.element),e=window.getComputedStyle(i.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(e.getPropertyValue("max-height")||e.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((function(t){if(!i.browserMobile||i.browserMobile&&!i.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),r=Math.floor(t[0].contentRect.width);n.containerHeight==e&&n.containerWidth==r||(n.containerHeight=e,n.containerWidth=r,n.tableHeight=i.element.clientHeight,n.tableWidth=i.element.clientWidth),i.options.virtualDomHoz&&i.vdomHoz.reinitialize(!0),i.redraw()}})),this.containerObserver.observe(this.table.element.parentNode))):(this.binding=function(){(!i.browserMobile||i.browserMobile&&!i.modules.edit.currentCell)&&(i.options.virtualDomHoz&&i.vdomHoz.reinitialize(!0),i.redraw())},window.addEventListener("resize",this.binding))},J.prototype.clearBindings=function(t){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)},g.prototype.registerModule("resizeTable",J);var Z=function(t){this.table=t,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1};Z.prototype.initialize=function(){var t=this,e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((function(n,i){n.modules.responsive&&n.modules.responsive.order&&n.modules.responsive.visible&&(n.modules.responsive.index=i,e.push(n),n.visible||"collapse"!==t.mode||t.hiddenColumns.push(n))})),e=e.reverse(),e=e.sort((function(t,e){var n=e.modules.responsive.order-t.modules.responsive.order;return n||e.modules.responsive.index-t.modules.responsive.index})),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();var n=this.table.columnManager.columnsByIndex,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if(r=n.next(),r.done)break;o=r.value}var a=o;if("responsiveCollapse"==a.definition.formatter){this.collapseHandleColumn=a;break}}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())},Z.prototype.initializeColumn=function(t){var e=t.getDefinition();t.modules.responsive={order:"undefined"===typeof e.responsive?1:e.responsive,visible:!1!==e.visible}},Z.prototype.initializeRow=function(t){var e;"calc"!==t.type&&(e=document.createElement("div"),e.classList.add("tabulator-responsive-collapse"),t.modules.responsiveLayout={element:e,open:this.collapseStartOpen},this.collapseStartOpen||(e.style.display="none"))},Z.prototype.layoutRow=function(t){var e=t.getElement();t.modules.responsiveLayout&&(e.appendChild(t.modules.responsiveLayout.element),this.generateCollapsedRowContent(t))},Z.prototype.updateColumnVisibility=function(t,e){t.modules.responsive&&(t.modules.responsive.visible=e,this.initialize())},Z.prototype.hideColumn=function(t){var e=this.hiddenColumns.length;t.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(t),this.generateCollapsedContent(),this.collapseHandleColumn&&!e&&this.collapseHandleColumn.show())},Z.prototype.showColumn=function(t){var e;t.show(!1,!0),t.setWidth(t.getWidth()),"collapse"===this.mode&&(e=this.hiddenColumns.indexOf(t),e>-1&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())},Z.prototype.update=function(){var t=this,e=!0;while(e){var n="fitColumns"==t.table.modules.layout.getMode()?t.table.columnManager.getFlexBaseWidth():t.table.columnManager.getWidth(),i=(t.table.options.headerVisible?t.table.columnManager.element.clientWidth:t.table.element.clientWidth)-n;if(i<0){var r=t.columns[t.index];r?(t.hideColumn(r),t.index++):e=!1}else{var o=t.columns[t.index-1];o&&i>0&&i>=o.getWidth()?(t.showColumn(o),t.index--):e=!1}t.table.rowManager.activeRowsCount||t.table.rowManager.renderEmptyScroll()}},Z.prototype.generateCollapsedContent=function(){var t=this,e=this.table.rowManager.getDisplayRows();e.forEach((function(e){t.generateCollapsedRowContent(e)}))},Z.prototype.generateCollapsedRowContent=function(t){var e,n;if(t.modules.responsiveLayout){e=t.modules.responsiveLayout.element;while(e.firstChild)e.removeChild(e.firstChild);n=this.collapseFormatter(this.generateCollapsedRowData(t)),n&&e.appendChild(n)}},Z.prototype.generateCollapsedRowData=function(t){var e,n=this,i=t.getData(),r=[];return this.hiddenColumns.forEach((function(o){var a=o.getFieldValue(i);o.definition.title&&o.field&&(o.modules.format&&n.table.options.responsiveLayoutCollapseUseFormatters?(e={value:!1,data:{},getValue:function(){return a},getData:function(){return i},getElement:function(){return document.createElement("div")},getRow:function(){return t.getComponent()},getColumn:function(){return o.getComponent()}},r.push({field:o.field,title:o.definition.title,value:o.modules.format.formatter.call(n.table.modules.format,e,o.modules.format.params)})):r.push({field:o.field,title:o.definition.title,value:a}))})),r},Z.prototype.formatCollapsedData=function(t){var e=document.createElement("table");return t.forEach((function(t){var n,i=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td"),a=document.createElement("strong");r.appendChild(a),this.table.modules.localize.bind("columns|"+t.field,(function(e){a.innerText=e||t.title})),t.value instanceof Node?(n=document.createElement("div"),n.appendChild(t.value),o.appendChild(n)):o.innerHTML=t.value,i.appendChild(r),i.appendChild(o),e.appendChild(i)}),this),Object.keys(t).length?e:""},g.prototype.registerModule("responsiveLayout",Z);var Q=function(t){this.table=t,this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null};Q.prototype.clearSelectionData=function(t){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t||this._rowSelectionChanged()},Q.prototype.initializeRow=function(t){var e=this,n=t.getElement(),i=function t(){setTimeout((function(){e.selecting=!1}),50),document.body.removeEventListener("mouseup",t)};t.modules.select={selected:!1},e.table.options.selectableCheck.call(this.table,t.getComponent())?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),e.table.options.selectable&&"highlight"!=e.table.options.selectable&&("click"===e.table.options.selectableRangeMode?n.addEventListener("click",(function(n){if(n.shiftKey){e.table._clearSelection(),e.lastClickedRow=e.lastClickedRow||t;var i=e.table.rowManager.getDisplayRowIndex(e.lastClickedRow),r=e.table.rowManager.getDisplayRowIndex(t),o=i<=r?i:r,a=i>=r?i:r,s=e.table.rowManager.getDisplayRows().slice(0),l=s.splice(o,a-o+1);n.ctrlKey||n.metaKey?(l.forEach((function(n){n!==e.lastClickedRow&&(!0===e.table.options.selectable||e.isRowSelected(t)||e.selectedRows.length<e.table.options.selectable)&&e.toggleRow(n)})),e.lastClickedRow=t):(e.deselectRows(void 0,!0),!0!==e.table.options.selectable&&l.length>e.table.options.selectable&&(l=l.slice(0,e.table.options.selectable)),e.selectRows(l)),e.table._clearSelection()}else n.ctrlKey||n.metaKey?(e.toggleRow(t),e.lastClickedRow=t):(e.deselectRows(void 0,!0),e.selectRows(t),e.lastClickedRow=t)})):(n.addEventListener("click",(function(n){e.table.modExists("edit")&&e.table.modules.edit.getCurrentCell()||e.table._clearSelection(),e.selecting||e.toggleRow(t)})),n.addEventListener("mousedown",(function(n){if(n.shiftKey)return e.table._clearSelection(),e.selecting=!0,e.selectPrev=[],document.body.addEventListener("mouseup",i),document.body.addEventListener("keyup",i),e.toggleRow(t),!1})),n.addEventListener("mouseenter",(function(n){e.selecting&&(e.table._clearSelection(),e.toggleRow(t),e.selectPrev[1]==t&&e.toggleRow(e.selectPrev[0]))})),n.addEventListener("mouseout",(function(n){e.selecting&&(e.table._clearSelection(),e.selectPrev.unshift(t))}))))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))},Q.prototype.toggleRow=function(t){this.table.options.selectableCheck.call(this.table,t.getComponent())&&(t.modules.select&&t.modules.select.selected?this._deselectRow(t):this._selectRow(t))},Q.prototype.selectRows=function(t){var e,n=this;switch("undefined"===typeof t?"undefined":o(t)){case"undefined":this.table.rowManager.rows.forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;case"string":e=this.table.rowManager.findRow(t),e?this._selectRow(e,!0,!0):this.table.rowManager.getRows(t).forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;default:Array.isArray(t)?(t.forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged()):this._selectRow(t,!1,!0);break}},Q.prototype._selectRow=function(t,e,n){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!n&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var i=this.table.rowManager.findRow(t);i?-1==this.selectedRows.indexOf(i)&&(i.getElement().classList.add("tabulator-selected"),i.modules.select||(i.modules.select={}),i.modules.select.selected=!0,i.modules.select.checkboxEl&&(i.modules.select.checkboxEl.checked=!0),this.selectedRows.push(i),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(i,!0),e||this.table.options.rowSelected.call(this.table,i.getComponent()),this._rowSelectionChanged(e)):e||console.warn("Selection Error - No such row found, ignoring selection:"+t)},Q.prototype.isRowSelected=function(t){return-1!==this.selectedRows.indexOf(t)},Q.prototype.deselectRows=function(t,e){var n,i=this;if("undefined"==typeof t){n=i.selectedRows.length;for(var r=0;r<n;r++)i._deselectRow(i.selectedRows[0],!0);i._rowSelectionChanged(e)}else Array.isArray(t)?(t.forEach((function(t){i._deselectRow(t,!0)})),i._rowSelectionChanged(e)):i._deselectRow(t,e)},Q.prototype._deselectRow=function(t,e){var n,i=this,r=i.table.rowManager.findRow(t);r?(n=i.selectedRows.findIndex((function(t){return t==r})),n>-1&&(r.getElement().classList.remove("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!1,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!1),i.selectedRows.splice(n,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!1),e||i.table.options.rowDeselected.call(this.table,r.getComponent()),i._rowSelectionChanged(e))):e||console.warn("Deselection Error - No such row found, ignoring selection:"+t)},Q.prototype.getSelectedData=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getData())})),t},Q.prototype.getSelectedRows=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getComponent())})),t},Q.prototype._rowSelectionChanged=function(t){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),t||this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())},Q.prototype.registerRowSelectCheckbox=function(t,e){t._row.modules.select||(t._row.modules.select={}),t._row.modules.select.checkboxEl=e},Q.prototype.registerHeaderSelectCheckbox=function(t){this.headerCheckboxElement=t},Q.prototype.childRowSelection=function(t,e){var n=this.table.modules.dataTree.getChildren(t,!0);if(e){var i=n,r=Array.isArray(i),o=0;for(i=r?i:i[Symbol.iterator]();;){var a;if(r){if(o>=i.length)break;a=i[o++]}else{if(o=i.next(),o.done)break;a=o.value}var s=a;this._selectRow(s,!0)}}else{var l=n,c=Array.isArray(l),u=0;for(l=c?l:l[Symbol.iterator]();;){var h;if(c){if(u>=l.length)break;h=l[u++]}else{if(u=l.next(),u.done)break;h=u.value}var d=h;this._deselectRow(d,!0)}}},g.prototype.registerModule("selectRow",Q);var tt=function(t){this.table=t,this.sortList=[],this.changed=!1};tt.prototype.initializeColumn=function(t,e){var n,i,r=this,a=!1;switch(o(t.definition.sorter)){case"string":r.sorters[t.definition.sorter]?a=r.sorters[t.definition.sorter]:console.warn("Sort Error - No such sorter found: ",t.definition.sorter);break;case"function":a=t.definition.sorter;break}t.modules.sort={sorter:a,dir:"none",params:t.definition.sorterParams||{},startingDir:t.definition.headerSortStartingDir||"asc",tristate:"undefined"!==typeof t.definition.headerSortTristate?t.definition.headerSortTristate:this.table.options.headerSortTristate},("undefined"===typeof t.definition.headerSort?!1!==this.table.options.headerSort:!1!==t.definition.headerSort)&&(n=t.getElement(),n.classList.add("tabulator-sortable"),i=document.createElement("div"),i.classList.add("tabulator-col-sorter"),"object"==o(this.table.options.headerSortElement)?i.appendChild(this.table.options.headerSortElement):i.innerHTML=this.table.options.headerSortElement,e.appendChild(i),t.modules.sort.element=i,n.addEventListener("click",(function(e){var n="",i=[],o=!1;if(t.modules.sort){if(t.modules.sort.tristate)n="none"==t.modules.sort.dir?t.modules.sort.startingDir:t.modules.sort.dir==t.modules.sort.startingDir?"asc"==t.modules.sort.dir?"desc":"asc":"none";else switch(t.modules.sort.dir){case"asc":n="desc";break;case"desc":n="asc";break;default:n=t.modules.sort.startingDir}r.table.options.columnHeaderSortMulti&&(e.shiftKey||e.ctrlKey)?(i=r.getSort(),o=i.findIndex((function(e){return e.field===t.getField()})),o>-1?(i[o].dir=n,o!=i.length-1&&(o=i.splice(o,1)[0],"none"!=n&&i.push(o))):"none"!=n&&i.push({column:t,dir:n}),r.setSort(i)):"none"==n?r.clear():r.setSort(t,n),r.table.rowManager.sorterRefresh(!r.sortList.length)}})))},tt.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},tt.prototype.getSort=function(){var t=this,e=[];return t.sortList.forEach((function(t){t.column&&e.push({column:t.column.getComponent(),field:t.column.getField(),dir:t.dir})})),e},tt.prototype.setSort=function(t,e){var n=this,i=[];Array.isArray(t)||(t=[{column:t,dir:e}]),t.forEach((function(t){var e;e=n.table.columnManager.findColumn(t.column),e?(t.column=e,i.push(t),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",t.column)})),n.sortList=i,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.sort&&this.table.modules.persistence.save("sort")},tt.prototype.clear=function(){this.setSort([])},tt.prototype.findSorter=function(t){var e,n,i=this.table.rowManager.activeRows[0],r="string";if(i&&(i=i.getData(),e=t.getField(),e))switch(n=t.getFieldValue(i),"undefined"===typeof n?"undefined":o(n)){case"undefined":r="string";break;case"boolean":r="boolean";break;default:isNaN(n)||""===n?n.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(r="alphanum"):r="number";break}return this.sorters[r]},tt.prototype.sort=function(t){var e=this,n=this.table.options.sortOrderReverse?e.sortList.slice().reverse():e.sortList,i=[],r=[];e.table.options.dataSorting&&e.table.options.dataSorting.call(e.table,e.getSort()),e.clearColumnHeaders(),e.table.options.ajaxSorting?n.forEach((function(t,n){e.setColumnHeader(t.column,t.dir)})):(n.forEach((function(t,n){var r=t.column.modules.sort;t.column&&r&&(r.sorter||(r.sorter=e.findSorter(t.column)),t.params="function"===typeof r.params?r.params(t.column.getComponent(),t.dir):r.params,i.push(t)),e.setColumnHeader(t.column,t.dir)})),i.length&&e._sortItems(t,i)),e.table.options.dataSorted&&(t.forEach((function(t){r.push(t.getComponent())})),e.table.options.dataSorted.call(e.table,e.getSort(),r))},tt.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach((function(t){t.modules.sort&&(t.modules.sort.dir="none",t.getElement().setAttribute("aria-sort","none"))}))},tt.prototype.setColumnHeader=function(t,e){t.modules.sort.dir=e,t.getElement().setAttribute("aria-sort",e)},tt.prototype._sortItems=function(t,e){var n=this,i=e.length-1;t.sort((function(t,r){for(var o,a=i;a>=0;a--){var s=e[a];if(o=n._sortRow(t,r,s.column,s.dir,s.params),0!==o)break}return o}))},tt.prototype._sortRow=function(t,e,n,i,r){var o,a,s="asc"==i?t:e,l="asc"==i?e:t;return t=n.getFieldValue(s.getData()),e=n.getFieldValue(l.getData()),t="undefined"!==typeof t?t:"",e="undefined"!==typeof e?e:"",o=s.getComponent(),a=l.getComponent(),n.modules.sort.sorter.call(this,t,e,o,a,n.getComponent(),i,r)},tt.prototype.sorters={number:function(t,e,n,i,r,o,a){var s=a.alignEmptyValues,l=a.decimalSeparator,c=a.thousandSeparator,u=0;if(t=String(t),e=String(e),c&&(t=t.split(c).join(""),e=e.split(c).join("")),l&&(t=t.split(l).join("."),e=e.split(l).join(".")),t=parseFloat(t),e=parseFloat(e),isNaN(t))u=isNaN(e)?0:-1;else{if(!isNaN(e))return t-e;u=1}return("top"===s&&"desc"===o||"bottom"===s&&"asc"===o)&&(u*=-1),u},string:function(t,e,n,i,r,a,s){var l,c=s.alignEmptyValues,u=0;if(t){if(e){switch(o(s.locale)){case"boolean":s.locale&&(l=this.table.modules.localize.getLocale());break;case"string":l=s.locale;break}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),l)}u=1}else u=e?-1:0;return("top"===c&&"desc"===a||"bottom"===c&&"asc"===a)&&(u*=-1),u},date:function(t,e,n,i,r,o,a){return a.format||(a.format="DD/MM/YYYY"),this.sorters.datetime.call(this,t,e,n,i,r,o,a)},time:function(t,e,n,i,r,o,a){return a.format||(a.format="HH:mm"),this.sorters.datetime.call(this,t,e,n,i,r,o,a)},datetime:function(t,e,n,i,r,o,a){var s=a.format||"DD/MM/YYYY HH:mm:ss",l=a.alignEmptyValues,c=0;if("undefined"!=typeof moment){if(t=moment(t,s),e=moment(e,s),t.isValid()){if(e.isValid())return t-e;c=1}else c=e.isValid()?-1:0;return("top"===l&&"desc"===o||"bottom"===l&&"asc"===o)&&(c*=-1),c}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(t,e,n,i,r,o,a){var s=!0===t||"true"===t||"True"===t||1===t?1:0,l=!0===e||"true"===e||"True"===e||1===e?1:0;return s-l},array:function(t,e,n,i,r,o,a){var s=0,l=0,c=a.type||"length",u=a.alignEmptyValues,h=0;function d(t){switch(c){case"length":return t.length;case"sum":return t.reduce((function(t,e){return t+e}));case"max":return Math.max.apply(null,t);case"min":return Math.min.apply(null,t);case"avg":return t.reduce((function(t,e){return t+e}))/t.length}}if(Array.isArray(t)){if(Array.isArray(e))return s=t?d(t):0,l=e?d(e):0,s-l;u=1}else u=Array.isArray(e)?-1:0;return("top"===u&&"desc"===o||"bottom"===u&&"asc"===o)&&(h*=-1),h},exists:function(t,e,n,i,r,o,a){var s="undefined"==typeof t?0:1,l="undefined"==typeof e?0:1;return s-l},alphanum:function(t,e,n,i,r,o,a){var s,l,c,u,h,d=0,f=/(\d+)|(\D+)/g,p=/\d/,m=a.alignEmptyValues,g=0;if(t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if(s=String(t).toLowerCase(),l=String(e).toLowerCase(),s===l)return 0;if(!p.test(s)||!p.test(l))return s>l?1:-1;s=s.match(f),l=l.match(f),h=s.length>l.length?l.length:s.length;while(d<h)if(c=s[d],u=l[d++],c!==u)return isFinite(c)&&isFinite(u)?("0"===c.charAt(0)&&(c="."+c),"0"===u.charAt(0)&&(u="."+u),c-u):c>u?1:-1;return s.length>l.length}g=1}else g=e||0===e?-1:0;return("top"===m&&"desc"===o||"bottom"===m&&"asc"===o)&&(g*=-1),g}},g.prototype.registerModule("sort",tt);var et=function(t){this.table=t,this.invalidCells=[]};et.prototype.initializeColumn=function(t){var e,n=this,i=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach((function(t){e=n._extractValidator(t),e&&i.push(e)})):(e=this._extractValidator(t.definition.validator),e&&i.push(e)),t.modules.validate=!!i.length&&i)},et.prototype._extractValidator=function(t){var e,n,i;switch("undefined"===typeof t?"undefined":o(t)){case"string":return i=t.indexOf(":"),i>-1?(e=t.substring(0,i),n=t.substring(i+1)):e=t,this._buildValidator(e,n);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}},et.prototype._buildValidator=function(t,e){var n="function"==typeof t?t:this.validators[t];return n?{type:"function"==typeof t?"function":t,func:n,params:e}:(console.warn("Validator Setup Error - No matching validator found:",t),!1)},et.prototype.validate=function(t,e,n){var i=this,r=[],o=this.invalidCells.indexOf(e);return t&&t.forEach((function(t){t.func.call(i,e.getComponent(),n,t.params)||r.push({type:t.type,parameters:t.params})})),r=!r.length||r,e.modules.validate||(e.modules.validate={}),!0===r?(e.modules.validate.invalid=!1,e.getElement().classList.remove("tabulator-validation-fail"),o>-1&&this.invalidCells.splice(o,1)):(e.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&e.getElement().classList.add("tabulator-validation-fail"),-1==o&&this.invalidCells.push(e)),r},et.prototype.getInvalidCells=function(){var t=[];return this.invalidCells.forEach((function(e){t.push(e.getComponent())})),t},et.prototype.clearValidation=function(t){var e;t.modules.validate&&t.modules.validate.invalid&&(t.getElement().classList.remove("tabulator-validation-fail"),t.modules.validate.invalid=!1,e=this.invalidCells.indexOf(t),e>-1&&this.invalidCells.splice(e,1))},et.prototype.validators={integer:function(t,e,n){return""===e||null===e||"undefined"===typeof e||(e=Number(e),"number"===typeof e&&isFinite(e)&&Math.floor(e)===e)},float:function(t,e,n){return""===e||null===e||"undefined"===typeof e||(e=Number(e),"number"===typeof e&&isFinite(e)&&e%1!==0)},numeric:function(t,e,n){return""===e||null===e||"undefined"===typeof e||!isNaN(e)},string:function(t,e,n){return""===e||null===e||"undefined"===typeof e||isNaN(e)},max:function(t,e,n){return""===e||null===e||"undefined"===typeof e||parseFloat(e)<=n},min:function(t,e,n){return""===e||null===e||"undefined"===typeof e||parseFloat(e)>=n},starts:function(t,e,n){return""===e||null===e||"undefined"===typeof e||String(e).toLowerCase().startsWith(String(n).toLowerCase())},ends:function(t,e,n){return""===e||null===e||"undefined"===typeof e||String(e).toLowerCase().endsWith(String(n).toLowerCase())},minLength:function(t,e,n){return""===e||null===e||"undefined"===typeof e||String(e).length>=n},maxLength:function(t,e,n){return""===e||null===e||"undefined"===typeof e||String(e).length<=n},in:function(t,e,n){return""===e||null===e||"undefined"===typeof e||("string"==typeof n&&(n=n.split("|")),""===e||n.indexOf(e)>-1)},regex:function(t,e,n){if(""===e||null===e||"undefined"===typeof e)return!0;var i=new RegExp(n);return i.test(e)},unique:function(t,e,n){if(""===e||null===e||"undefined"===typeof e)return!0;var i=!0,r=t.getData(),o=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(t){var n=t.getData();n!==r&&e==o.getFieldValue(n)&&(i=!1)})),i},required:function(t,e,n){return""!==e&&null!==e&&"undefined"!==typeof e}},g.prototype.registerModule("validate",et),n["a"]=g},e442:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("4cbb"),o=n("c9cf"),a=n("8850");e.API_VERSION=3;var s=function(){function t(t,n,i){void 0===n&&(n=new a.Scope),void 0===i&&(i=e.API_VERSION),this.version=i,this.stack=[],this.stack.push({client:t,scope:n})}return t.prototype.invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop();o&&o.client&&o.client[t]&&(e=o.client)[t].apply(e,i.__spread(n,[o.scope]))},t.prototype.invokeClientAsync=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var a=this.getStackTop();a&&a.client&&a.client[t]&&(e=a.client)[t].apply(e,i.__spread(n,[a.scope])).catch((function(t){r.logger.error(t)}))},t.prototype.isOlderThan=function(t){return this.version<t},t.prototype.bindClient=function(t){var e=this.getStackTop();e.client=t,e&&e.scope&&t&&e.scope.addScopeListener((function(e){if(t.getBackend)try{t.getBackend().storeScope(e)}catch(n){}}))},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,n=a.Scope.clone(e);return this.getStack().push({client:this.getClient(),scope:n}),n},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this.stack},t.prototype.getStackTop=function(){return this.stack[this.stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=o.uuid4();return this.invokeClientAsync("captureException",t,i.__assign({},e,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=o.uuid4();return this.invokeClientAsync("captureMessage",t,e,i.__assign({},n,{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=o.uuid4();return this.invokeClientAsync("captureEvent",t,i.__assign({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){this.invokeClient("addBreadcrumb",t,i.__assign({},e))},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=c(this);try{t(this)}finally{c(e)}},t.prototype.getIntegration=function(t){try{return this.getClient().getIntegration(t)}catch(e){return r.logger.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t}();function l(){var t=o.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{hub:void 0},t}function c(t){var e=l(),n=d(e);return f(e,t),n}function u(){var n=l();h(n)&&!d(n).isOlderThan(e.API_VERSION)||f(n,new s);try{var i=o.dynamicRequire(t,"domain"),r=i.active;if(!r)return d(n);if(!h(r)||d(r).isOlderThan(e.API_VERSION)){var c=d(n).getStackTop();f(r,new s(c.client,a.Scope.clone(c.scope)))}return d(r)}catch(u){return d(n)}}function h(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function d(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__={},t.__SENTRY__.hub=new s),t.__SENTRY__.hub}function f(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}e.Hub=s,e.getMainCarrier=l,e.makeMain=c,e.getCurrentHub=u,e.hasHubOnCarrier=h,e.getHubFromCarrier=d,e.setHubOnCarrier=f}).call(this,n("62e4")(t))},e4ae:function(t,e,n){var i=n("f772");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e5d5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("8850");e.addGlobalEventProcessor=i.addGlobalEventProcessor,e.Scope=i.Scope;var r=n("e442");e.getCurrentHub=r.getCurrentHub,e.getHubFromCarrier=r.getHubFromCarrier,e.getMainCarrier=r.getMainCarrier,e.Hub=r.Hub,e.setHubOnCarrier=r.setHubOnCarrier},e639:function(t,e,n){"use strict";n.d(e,"b",(function(){return k})),n.d(e,"a",(function(){return M}));var i=n("2b0e"),r=n("1f62"),o=n("8c63"),a=n("c4be"),s=n("b082"),l=n("b934"),c=n("0a38"),u=n("daee"),h=n("b070"),d=n("901d"),f=n("f28f"),p=n("7e98"),m=n("e9c3"),g=n("475d"),b=n("e881"),v=n("070c"),y=n("2389");const _=["aria-describedby","aria-labelledby"],{mixin:w,props:x,prop:E,event:C}=Object(l["a"])("checked"),k=Object(u["c"])(Object(c["l"])({...v["b"],...x,...f["b"],...m["b"],...g["b"],...b["b"],...p["b"],ariaInvalid:Object(u["b"])(r["g"],!1),buttonVariant:Object(u["b"])(r["l"]),buttons:Object(u["b"])(r["e"],!1),stacked:Object(u["b"])(r["e"],!1),validated:Object(u["b"])(r["e"],!1)}),"formRadioCheckGroups"),M=i["a"].extend({mixins:[v["a"],w,y["a"],f["a"],m["a"],g["a"],b["a"],p["a"]],inheritAttrs:!1,props:k,data(){return{localChecked:this[E]}},computed:{inline(){return!this.stacked},groupName(){return this.name||this.safeId()},groupClasses(){const{inline:t,size:e,validated:n}=this;let i={"was-validated":n};return this.buttons&&(i=[i,"btn-group-toggle",{"btn-group":t,"btn-group-vertical":!t,["btn-group-"+e]:e}]),i}},watch:{[E](t){Object(s["a"])(t,this.localChecked)||(this.localChecked=t)},localChecked(t,e){Object(s["a"])(t,e)||this.$emit(C,t)}},render(t){const{isRadioGroup:e}=this,n=Object(c["j"])(this.$attrs,_),i=e?d["a"]:h["a"],r=this.formOptions.map((e,r)=>{const o="BV_option_"+r;return t(i,{props:{disabled:e.disabled||!1,id:this.safeId(o),value:e.value},attrs:n,key:o},[t("span",{domProps:Object(a["a"])(e.html,e.text)})])});return t("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:{...Object(c["i"])(this.$attrs,_),"aria-invalid":this.computedAriaInvalid,"aria-required":this.required?"true":null,id:this.safeId(),role:e?"radiogroup":"group",tabindex:"-1"}},[this.normalizeSlot(o["e"]),r,this.normalizeSlot()])}})},e6f3:function(t,e,n){var i=n("07e3"),r=n("36c3"),o=n("5b4e")(!1),a=n("5559")("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);while(e.length>l)i(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},e853:function(t,e,n){var i=n("d3f4"),r=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},e881:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l}));var i=n("2b0e"),r=n("1f62"),o=n("1524"),a=n("daee");const s=Object(a["c"])({state:Object(a["b"])(r["e"],null)},"formState"),l=i["a"].extend({props:s,computed:{computedState(){return Object(o["b"])(this.state)?this.state:null},stateClass(){const t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null},computedAriaInvalid(){const{ariaInvalid:t}=this;return!0===t||"true"===t||""===t||!1===this.computedState?"true":t}}})},e97a:function(t,e,n){"use strict";const i=n("b538");t.exports=function(t,...e){if(!t){if(1===e.length&&e[0]instanceof Error)throw e[0];throw new i(e)}}},e9c3:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));var i=n("2b0e"),r=n("1f62"),o=n("7df0"),a=n("c4be"),s=n("1524"),l=n("0a38"),c=n("daee"),u=n("cc66");const h='Setting prop "options" to an object is deprecated. Use the array format instead.',d=Object(c["c"])({disabledField:Object(c["b"])(r["l"],"disabled"),htmlField:Object(c["b"])(r["l"],"html"),options:Object(c["b"])(r["b"],[]),textField:Object(c["b"])(r["l"],"text"),valueField:Object(c["b"])(r["l"],"value")},"formOptionControls"),f=i["a"].extend({props:d,computed:{formOptions(){return this.normalizeOptions(this.options)}},methods:{normalizeOption(t,e=null){if(Object(s["i"])(t)){const n=Object(o["a"])(t,this.valueField),i=Object(o["a"])(t,this.textField);return{value:Object(s["k"])(n)?e||i:n,text:Object(a["b"])(String(Object(s["k"])(i)?e:i)),html:Object(o["a"])(t,this.htmlField),disabled:Boolean(Object(o["a"])(t,this.disabledField))}}return{value:e||t,text:Object(a["b"])(String(t)),disabled:!1}},normalizeOptions(t){return Object(s["a"])(t)?t.map(t=>this.normalizeOption(t)):Object(s["i"])(t)?(Object(u["a"])(h,this.$options.name),Object(l["g"])(t).map(e=>this.normalizeOption(t[e]||{},e))):[]}}})},ea18:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("0a38");class r{constructor(t,e={}){if(!t)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object(i["a"])(this,r.Defaults,this.constructor.Defaults,e,{type:t}),Object(i["d"])(this,{type:Object(i["k"])(),cancelable:Object(i["k"])(),nativeEvent:Object(i["k"])(),target:Object(i["k"])(),relatedTarget:Object(i["k"])(),vueTarget:Object(i["k"])(),componentId:Object(i["k"])()});let n=!1;this.preventDefault=function(){this.cancelable&&(n=!0)},Object(i["e"])(this,"defaultPrevented",{enumerable:!0,get(){return n}})}static get Defaults(){return{type:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null,componentId:null}}}},eac0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("e5d5"),o=n("94df"),a=n("4cbb"),s=n("7c84"),l=function(){function t(e){void 0===e&&(e={depth:3}),this.options=e,this.name=t.id}return t.prototype.setupOnce=function(){var e=this;r.addGlobalEventProcessor((function(n,o){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){return e=r.getCurrentHub().getIntegration(t),e?[2,e.enhanceEventWithErrorData(n,o)]:[2,n]}))}))}))},t.prototype.enhanceEventWithErrorData=function(t,e){if(!e||!e.originalException||!o.isError(e.originalException))return t;var n=this.extractErrorData(e.originalException);if(n){var r=i.__assign({},t.extra),a=s.safeNormalize(n,this.options.depth);return o.isString(a)||(r=i.__assign({},t.extra,a)),i.__assign({},t,{extra:r})}return t},t.prototype.extractErrorData=function(t){var e,n,r,s=null;try{var l=["name","message","stack","line","column","fileName","lineNumber","columnNumber"],c=t.name||t.constructor.name,u=Object.getOwnPropertyNames(t).filter((function(t){return-1===l.indexOf(t)}));if(u.length){var h={};try{for(var d=i.__values(u),f=d.next();!f.done;f=d.next()){var p=f.value,m=t[p];o.isError(m)&&(m=m.toString()),h[p]=m}}catch(g){e={error:g}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}r={},r[c]=h,s=r}}catch(b){a.logger.error("Unable to extract extra data from the Error object:",b)}return s},t.id="ExtraErrorData",t}();e.ExtraErrorData=l},ead6:function(t,n,i){var r=i("f772"),o=i("e4ae"),a=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=i("d864")(Function.call,i("bf0b").f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(t,e){return a(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:a}},eb59:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n("2b0e"),r=n("4e82"),o=n("1f62"),a=n("8c63"),s=n("17cc"),l=n("c4be"),c=n("daee"),u=n("055d"),h=n("3765"),d=n("070c"),f=n("2389"),p=n("66e2"),m=n("0a38");const g=Object(c["c"])(Object(m["l"])({...d["b"],...h["b"],block:Object(c["b"])(o["e"],!1),html:Object(c["b"])(o["l"]),lazy:Object(c["b"])(o["e"],!1),menuClass:Object(c["b"])(o["c"]),noCaret:Object(c["b"])(o["e"],!1),role:Object(c["b"])(o["l"],"menu"),size:Object(c["b"])(o["l"]),split:Object(c["b"])(o["e"],!1),splitButtonType:Object(c["b"])(o["l"],"button",t=>Object(s["a"])(["button","submit","reset"],t)),splitClass:Object(c["b"])(o["c"]),splitHref:Object(c["b"])(o["l"]),splitTo:Object(c["b"])(o["k"]),splitVariant:Object(c["b"])(o["l"]),text:Object(c["b"])(o["l"]),toggleClass:Object(c["b"])(o["c"]),toggleTag:Object(c["b"])(o["l"],"button"),toggleText:Object(c["b"])(o["l"],"Toggle dropdown"),variant:Object(c["b"])(o["l"],"secondary")}),r["l"]),b=i["a"].extend({name:r["l"],mixins:[d["a"],h["a"],f["a"]],props:g,computed:{dropdownClasses(){const{block:t,split:e}=this;return[this.directionClass,this.boundaryClass,{show:this.visible,"btn-group":e||!t,"d-flex":t&&e}]},menuClasses(){return[this.menuClass,{"dropdown-menu-right":this.right,show:this.visible}]},toggleClasses(){const{split:t}=this;return[this.toggleClass,{"dropdown-toggle-split":t,"dropdown-toggle-no-caret":this.noCaret&&!t}]}},render(t){const{visible:e,variant:n,size:i,block:r,disabled:o,split:s,role:c,hide:h,toggle:d}=this,f={variant:n,size:i,block:r,disabled:o};let m=this.normalizeSlot(a["a"]),g=this.hasNormalizedSlot(a["a"])?{}:Object(l["a"])(this.html,this.text),b=t();if(s){const{splitTo:e,splitHref:i,splitButtonType:r}=this,o={...f,variant:this.splitVariant||n};e?o.to=e:i?o.href=i:r&&(o.type=r),b=t(p["a"],{class:this.splitClass,attrs:{id:this.safeId("_BV_button_")},props:o,domProps:g,on:{click:this.onSplitClick},ref:"button"},m),m=[t("span",{class:["sr-only"]},[this.toggleText])],g={}}const v=t(p["a"],{staticClass:"dropdown-toggle",class:this.toggleClasses,attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":Object(u["d"])(e)},props:{...f,tag:this.toggleTag,block:r&&!s},domProps:g,on:{mousedown:this.onMousedown,click:d,keydown:d},ref:"toggle"},m),y=t("ul",{staticClass:"dropdown-menu",class:this.menuClasses,attrs:{role:c,tabindex:"-1","aria-labelledby":this.safeId(s?"_BV_button_":"_BV_toggle_")},on:{keydown:this.onKeydown},ref:"menu"},[!this.lazy||e?this.normalizeSlot(a["b"],{hide:h}):t()]);return t("div",{staticClass:"dropdown b-dropdown",class:this.dropdownClasses,attrs:{id:this.safeId()}},[b,v,y])}})},ebd6:function(t,e,n){var i=n("cb7c"),r=n("d8e8"),o=n("2b4c")("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},ebfd:function(t,e,n){var i=n("62a0")("meta"),r=n("f772"),o=n("07e3"),a=n("d9f6").f,s=0,l=Object.isExtensible||function(){return!0},c=!n("294c")((function(){return l(Object.preventExtensions({}))})),u=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},d=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},f=function(t){return c&&p.NEED&&l(t)&&!o(t,i)&&u(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:f}},ed5d:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("17cc"),l=n("29b3"),c=n("1524"),u=n("5ef7"),h=n("daee"),d=n("055d");const f='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>',p=(t,e,n)=>{const i=encodeURIComponent(f.replace("%{w}",Object(d["d"])(t)).replace("%{h}",Object(d["d"])(e)).replace("%{f}",n));return"data:image/svg+xml;charset=UTF-8,"+i},m=Object(h["c"])({alt:Object(h["b"])(a["l"]),blank:Object(h["b"])(a["e"],!1),blankColor:Object(h["b"])(a["l"],"transparent"),block:Object(h["b"])(a["e"],!1),center:Object(h["b"])(a["e"],!1),fluid:Object(h["b"])(a["e"],!1),fluidGrow:Object(h["b"])(a["e"],!1),height:Object(h["b"])(a["i"]),left:Object(h["b"])(a["e"],!1),right:Object(h["b"])(a["e"],!1),rounded:Object(h["b"])(a["g"],!1),sizes:Object(h["b"])(a["d"]),src:Object(h["b"])(a["l"]),srcset:Object(h["b"])(a["d"]),thumbnail:Object(h["b"])(a["e"],!1),width:Object(h["b"])(a["i"])},o["u"]);o["u"]},ee1d:function(t,e,n){var i=n("5ca1");i(i.S,"Number",{isNaN:function(t){return t!=t}})},ef2a:function(t,n,i){"use strict";var r={};i.r(r),i.d(r,"left_match",(function(){return M})),i.d(r,"inner_match",(function(){return O})),i.d(r,"full_outer_match",(function(){return T})),i.d(r,"groupBy",(function(){return C}));var o={};i.r(o),i.d(o,"BaseAdapter",(function(){return R})),i.d(o,"BaseApiAdapter",(function(){return j})),i.d(o,"BaseLZAdapter",(function(){return L})),i.d(o,"BaseUMAdapter",(function(){return A})),i.d(o,"AssociationLZ",(function(){return D})),i.d(o,"GeneConstraintLZ",(function(){return N})),i.d(o,"GeneLZ",(function(){return P})),i.d(o,"GwasCatalogLZ",(function(){return z})),i.d(o,"LDServer",(function(){return F})),i.d(o,"PheWASLZ",(function(){return B})),i.d(o,"RecombLZ",(function(){return I})),i.d(o,"StaticSource",(function(){return H}));var a={};i.r(a),i.d(a,"log10",(function(){return G})),i.d(a,"neglog10",(function(){return q})),i.d(a,"logtoscinotation",(function(){return Y})),i.d(a,"scinotation",(function(){return X})),i.d(a,"htmlescape",(function(){return K})),i.d(a,"is_numeric",(function(){return J})),i.d(a,"urlencode",(function(){return Z}));var s={};i.r(s),i.d(s,"BaseWidget",(function(){return Lt})),i.d(s,"_Button",(function(){return At})),i.d(s,"display_options",(function(){return qt})),i.d(s,"download",(function(){return Nt})),i.d(s,"download_png",(function(){return Ft})),i.d(s,"filter_field",(function(){return Pt})),i.d(s,"menu",(function(){return Wt})),i.d(s,"move_panel_down",(function(){return Bt})),i.d(s,"move_panel_up",(function(){return Ht})),i.d(s,"region_scale",(function(){return zt})),i.d(s,"resize_to_data",(function(){return Ut})),i.d(s,"set_state",(function(){return Yt})),i.d(s,"shift_region",(function(){return $t})),i.d(s,"remove_panel",(function(){return It})),i.d(s,"title",(function(){return Dt})),i.d(s,"toggle_legend",(function(){return Gt})),i.d(s,"zoom_region",(function(){return Vt}));var l={};i.r(l),i.d(l,"categorical_bin",(function(){return me})),i.d(l,"stable_choice",(function(){return be})),i.d(l,"if_value",(function(){return fe})),i.d(l,"interpolate",(function(){return ve})),i.d(l,"numerical_bin",(function(){return pe})),i.d(l,"ordinal_cycle",(function(){return ge})),i.d(l,"effect_direction",(function(){return ye}));var c={};i.r(c),i.d(c,"BaseDataLayer",(function(){return Ee})),i.d(c,"annotation_track",(function(){return ke})),i.d(c,"highlight_regions",(function(){return Oe})),i.d(c,"arcs",(function(){return Se})),i.d(c,"genes",(function(){return je})),i.d(c,"line",(function(){return Ae})),i.d(c,"orthogonal_line",(function(){return ze})),i.d(c,"scatter",(function(){return Fe})),i.d(c,"category_scatter",(function(){return Ie}));var u={};i.r(u),i.d(u,"tooltip",(function(){return _n})),i.d(u,"toolbar_widgets",(function(){return wn})),i.d(u,"toolbar",(function(){return xn})),i.d(u,"data_layer",(function(){return En})),i.d(u,"panel",(function(){return Cn})),i.d(u,"plot",(function(){return kn}));var h="0.14.0-beta.4";class d{constructor(){this._items=new Map}get(t){if(!this._items.has(t))throw new Error("Item not found: "+t);return this._items.get(t)}add(t,e,n=!1){if(!n&&this._items.has(t))throw new Error(`Item ${t} is already defined`);return this._items.set(t,e),e}remove(t){return this._items.delete(t)}has(t){return this._items.has(t)}list(){return Array.from(this._items.keys())}}class f extends d{create(t,...e){const n=this.get(t);return new n(...e)}extend(t,e,n){if(console.warn("Deprecation warning: .extend method will be removed in future versions, in favor of explicit ES6 subclasses"),3!==arguments.length)throw new Error("Invalid arguments to .extend");const i=this.get(t);class r extends i{}return Object.assign(r.prototype,n,i),this.add(e,r),r}}class p{constructor(t,e,n={},i=null,r=null){this.key=t,this.value=e,this.metadata=n,this.prev=i,this.next=r}}class m{constructor(t=3){if(this._max_size=t,this._cur_size=0,this._store=new Map,this._head=null,this._tail=null,null===t||t<0)throw new Error('Cache "max_size" must be >= 0')}has(t){return this._store.has(t)}get(t){const e=this._store.get(t);return e?(this._head!==e&&this.add(t,e.value),e.value):null}add(t,e,n={}){if(0===this._max_size)return;const i=this._store.get(t);i&&this._remove(i);const r=new p(t,e,n,null,this._head);if(this._head?this._head.prev=r:this._tail=r,this._head=r,this._store.set(t,r),this._max_size>=0&&this._cur_size>=this._max_size){const t=this._tail;this._tail=this._tail.prev,this._remove(t)}this._cur_size+=1}clear(){this._head=null,this._tail=null,this._cur_size=0,this._store=new Map}remove(t){const e=this._store.get(t);return!!e&&(this._remove(e),!0)}_remove(t){null!==t.prev?t.prev.next=t.next:this._head=t.next,null!==t.next?t.next.prev=t.prev:this._tail=t.prev,this._store.delete(t.key),this._cur_size-=1}find(t){let e=this._head;while(e){const n=e.next;if(t(e))return e;e=n}}}var g=i("1160"),b=i.n(g);function v(t){return"object"!==typeof t?t:b()(t)}class y{constructor(t={}){this._config=t;const{cache_enabled:e=!0,cache_size:n=3}=t;this._enable_cache=e,this._cache=new m(n)}_buildRequestOptions(t,e){return Object.assign({},t)}_getCacheKey(t){if(this._enable_cache)throw new Error("Method not implemented");return null}_performRequest(t){throw new Error("Not implemented")}_normalizeResponse(t,e){return t}_annotateRecords(t,e){return t}_postProcessResponse(t,e){return t}getData(t={},...e){t=this._buildRequestOptions(t,...e);const n=this._getCacheKey(t);let i;return this._enable_cache&&this._cache.has(n)?i=this._cache.get(n):(i=Promise.resolve(this._performRequest(t)).then(e=>this._normalizeResponse(e,t)),this._cache.add(n,i,t._cache_meta),i.catch(t=>this._cache.remove(n))),i.then(t=>v(t)).then(e=>this._annotateRecords(e,t)).then(e=>this._postProcessResponse(e,t))}}class _ extends y{constructor(t={}){super(t),this._url=t.url}_getCacheKey(t){return this._getURL(t)}_getURL(t){return this._url}_performRequest(t){const e=this._getURL(t);if(!this._url)throw new Error('Web based resources must specify a resource URL as option "url"');return fetch(e).then(t=>{if(!t.ok)throw new Error(t.statusText);return t.text()})}_normalizeResponse(t,e){return"string"===typeof t?JSON.parse(t):t}}var w=i("02f5");function x(t){const e=/^(?<name_alone>\w+)$|((?<name_deps>\w+)+\(\s*(?<deps>[^)]+?)\s*\))/.exec(t);if(!e)throw new Error("Unable to parse dependency specification: "+t);let{name_alone:n,name_deps:i,deps:r}=e.groups;return n?[n,[]]:(r=r.split(/\s*,\s*/),[i,r])}function E(t,n,i,r=!0){if(!i.length)return[];const o=i.map(t=>x(t)),a=new Map(o),s=new w["Sorter"];for(let[u,h]of a.entries())try{s.add(u,{after:h,group:u})}catch(e){throw new Error("Invalid or possible circular dependency specification for: "+u)}const l=s.nodes,c=new Map;for(let e of l){const i=n.get(e);if(!i)throw new Error(`Data has been requested from source '${e}', but no matching source was provided`);const r=a.get(e)||[],o=Promise.all(r.map(t=>c.get(t))),s=o.then(n=>{const r=Object.assign({_provider_name:e},t);return i.getData(r,...n)});c.set(e,s)}return Promise.all([...c.values()]).then(t=>r?t[t.length-1]:t)}function C(t,e){const n=new Map;for(let i of t){const t=i[e];if("undefined"===typeof t)throw new Error(`All records must specify a value for the field "${e}"`);if("object"===typeof t)throw new Error("Attempted to group on a field with non-primitive values");let r=n.get(t);r||(r=[],n.set(t,r)),r.push(i)}return n}function k(t,e,n,i,r){const o=C(n,r),a=[];for(let s of e){const e=s[i],n=o.get(e)||[];n.length?a.push(...n.map(t=>Object.assign({},v(t),v(s)))):"inner"!==t&&a.push(v(s))}if("outer"===t){const t=C(e,i);for(let e of n){const n=e[r],i=t.get(n)||[];i.length||a.push(v(e))}}return a}function M(t,e,n,i){return k("left",...arguments)}function O(t,e,n,i){return k("inner",...arguments)}function T(t,e,n,i){return k("outer",...arguments)}var S=i("a866");class R{constructor(){throw new Error('The "BaseAdapter" and "BaseApiAdapter" classes have been replaced in LocusZoom 0.14. See migration guide for details.')}}class j extends R{}class L extends _{constructor(t={}){t.params&&(console.warn('Deprecation warning: all options in "config.params" should now be specified as top level keys.'),Object.assign(t,t.params||{}),delete t.params),super(t);const{prefix_namespace:e=!0,limit_fields:n}=t;this._prefix_namespace=e,this._limit_fields=!!n&&new Set(n)}_getCacheKey(t){let{chr:e,start:n,end:i}=t;const r=this._cache.find(({metadata:t})=>e===t.chr&&n>=t.start&&i<=t.end);return r&&({chr:e,start:n,end:i}=r.metadata),t._cache_meta={chr:e,start:n,end:i},`${e}_${n}_${i}`}_postProcessResponse(t,e){if(!this._prefix_namespace||!Array.isArray(t))return t;const{_limit_fields:n}=this,{_provider_name:i}=e;return t.map(t=>Object.entries(t).reduce((t,[e,r])=>(n&&!n.has(e)||(t[`${i}:${e}`]=r),t),{}))}_findPrefixedKey(t,e){const n=new RegExp(`:${e}$`),i=Object.keys(t).find(t=>n.test(t));if(!i)throw new Error(`Could not locate the required key name: ${e} in dependent data`);return i}}class A extends L{constructor(t={}){super(t),this._genome_build=t.genome_build||t.build}_validateBuildSource(t,e){if(t&&e||!t&&!e)throw new Error(this.constructor.name+' must provide a parameter specifying either "build" or "source". It should not specify both.');if(t&&!["GRCh37","GRCh38"].includes(t))throw new Error(this.constructor.name+" must specify a valid 'genome_build'")}_normalizeResponse(t,e){let n=super._normalizeResponse(...arguments);if(n=n.data||n,Array.isArray(n))return n;const i=Object.keys(n),r=n[i[0]].length,o=i.every((function(t){const e=n[t];return e.length===r}));if(!o)throw new Error(this.constructor.name+" expects a response in which all arrays of data are the same length");const a=[],s=Object.keys(n);for(let l=0;l<r;l++){const t={};for(let e=0;e<s.length;e++)t[s[e]]=n[s[e]][l];a.push(t)}return a}}class D extends A{constructor(t={}){super(t);const{source:e}=t;this._source_id=e}_getURL(t){const{chr:e,start:n,end:i}=t,r=super._getURL(t);return`${r}results/?filter=analysis in ${this._source_id} and chromosome in  '${e}' and position ge ${n} and position le ${i}`}}class z extends A{constructor(t){t.limit_fields||(t.limit_fields=["log_pvalue","pos","rsid","trait","variant"]),super(t)}_getURL(t){const e=t.genome_build||this._config.build,n=this._config.source;this._validateBuildSource(e,n);const i=e?"&build="+e:" and id eq "+n,r=super._getURL(t);return`${r}?format=objects&sort=pos&filter=chrom eq '${t.chr}' and pos ge ${t.start} and pos le ${t.end}${i}`}}class P extends A{constructor(t={}){super(t),this._prefix_namespace=!1}_getURL(t){const e=t.genome_build||this._config.build;let n=this._config.source;this._validateBuildSource(e,n);const i=e?"&build="+e:" and source in "+n,r=super._getURL(t);return`${r}?filter=chrom eq '${t.chr}' and start le ${t.end} and end ge ${t.start}${i}`}}class N extends L{constructor(t={}){super(t),this._prefix_namespace=!1}_buildRequestOptions(t,e){const n=t.genome_build||this._config.build;if(!n)throw new Error(`Adapter ${this.constructor.name} must specify a 'genome_build' option`);const i=new Set;for(let r of e)i.add(r.gene_name);return t.query=[...i.values()].map((function(t){const e="_"+t.replace(/[^A-Za-z0-9_]/g,"_");return`${e}: gene(gene_symbol: "${t}", reference_genome: ${n}) { gnomad_constraint { exp_syn obs_syn syn_z oe_syn oe_syn_lower oe_syn_upper exp_mis obs_mis mis_z oe_mis oe_mis_lower oe_mis_upper exp_lof obs_lof pLI oe_lof oe_lof_lower oe_lof_upper } } `})),t.build=n,Object.assign({},t)}_performRequest(t){let{query:e,build:n}=t;if(!e.length||e.length>25||"GRCh38"===n)return Promise.resolve([]);e=`{${e.join(" ")} }`;const i=this._getURL(t),r=JSON.stringify({query:e}),o={"Content-Type":"application/json"};return fetch(i,{method:"POST",body:r,headers:o}).then(t=>t.ok?t.text():[]).catch(t=>[])}_normalizeResponse(t){if("string"!==typeof t)return t;const e=JSON.parse(t);return e.data}}class F extends A{constructor(t){t.limit_fields||(t.limit_fields=["variant2","position2","correlation"]),super(t)}__find_ld_refvar(t,e){const n=this._findPrefixedKey(e[0],"variant"),i=this._findPrefixedKey(e[0],"log_pvalue");let r,o={};if(t.ldrefvar)r=t.ldrefvar,o=e.find(t=>t[n]===r)||{};else{let t=0;for(let a of e){const{[n]:e,[i]:s}=a;s>t&&(t=s,r=e,o=a)}}o.lz_is_ld_refvar=!0;const a=Object(S["b"])(r,!0);if(!a)throw new Error("Could not request LD for a missing or incomplete marker format");const[s,l,c,u]=a;r=`${s}:${l}`,c&&u&&(r+=`_${c}/${u}`);const h=+l;return h&&t.ldrefvar&&t.chr&&(s!==String(t.chr)||h<t.start||h>t.end)?(t.ldrefvar=null,this.__find_ld_refvar(t,e)):r}_buildRequestOptions(t,e){if(!e)throw new Error("LD request must depend on association data");const n=super._buildRequestOptions(...arguments);if(!e.length)return n._skip_request=!0,n;n.ld_refvar=this.__find_ld_refvar(t,e);const i=t.genome_build||this._config.build||"GRCh37";let r=t.ld_source||this._config.source||"1000G";const o=t.ld_pop||this._config.population||"ALL";return"1000G"===r&&"GRCh38"===i&&(r="1000G-FRZ09"),this._validateBuildSource(i,null),Object.assign({},n,{genome_build:i,ld_source:r,ld_population:o})}_getURL(t){const e=this._config.method||"rsquare",{chr:n,start:i,end:r,ld_refvar:o,genome_build:a,ld_source:s,ld_population:l}=t,c=super._getURL(t);return[c,"genome_builds/",a,"/references/",s,"/populations/",l,"/variants","?correlation=",e,"&variant=",encodeURIComponent(o),"&chrom=",encodeURIComponent(n),"&start=",encodeURIComponent(i),"&stop=",encodeURIComponent(r)].join("")}_getCacheKey(t){const e=super._getCacheKey(t),{ld_refvar:n,ld_source:i,ld_population:r}=t;return`${e}_${n}_${i}_${r}`}_performRequest(t){if(t._skip_request)return Promise.resolve([]);const e=this._getURL(t);let n={data:{}},i=function(t){return fetch(t).then().then(t=>{if(!t.ok)throw new Error(t.statusText);return t.text()}).then((function(t){return t=JSON.parse(t),Object.keys(t.data).forEach((function(e){n.data[e]=(n.data[e]||[]).concat(t.data[e])})),t.next?i(t.next):n}))};return i(e)}}class I extends A{constructor(t){t.limit_fields||(t.limit_fields=["position","recomb_rate"]),super(t)}_getURL(t){const e=t.genome_build||this._config.build;let n=this._config.source;this._validateBuildSource(e,n);const i=e?"&build="+e:" and id in "+n,r=super._getURL(t);return`${r}?filter=chromosome eq '${t.chr}' and position le ${t.end} and position ge ${t.start}${i}`}}class H extends L{constructor(t={}){super(...arguments);const{data:e}=t;if(!e||Array.isArray(t))throw new Error("'StaticSource' must provide data as required option 'config.data'");this._data=e}_performRequest(t){return Promise.resolve(this._data)}}class B extends A{_getURL(t){const e=(t.genome_build?[t.genome_build]:null)||this._config.build;if(!e||!Array.isArray(e)||!e.length)throw new Error(["Adapter",this.constructor.name,"requires that you specify array of one or more desired genome build names"].join(" "));const n=super._getURL(t),i=[n,"?filter=variant eq '",encodeURIComponent(t.variant),"'&format=objects&",e.map((function(t){return"build="+encodeURIComponent(t)})).join("&")];return i.join("")}_getCacheKey(t){return this._getURL(t)}}const $=new f;for(let[e,Fn]of Object.entries(o))$.add(e,Fn);$.add("StaticJSON",H),$.add("LDLZ2",F);var V=$,W=i("5698");const U={verbs:["highlight","select","fade","hide"],adjectives:["highlighted","selected","faded","hidden"]};function G(t){return isNaN(t)||t<=0?null:Math.log(t)/Math.LN10}function q(t){return isNaN(t)||t<=0?null:-Math.log(t)/Math.LN10}function Y(t){if(isNaN(t))return"NaN";if(0===t)return"1";const e=Math.ceil(t),n=e-t,i=Math.pow(10,n);return 1===e?(i/10).toFixed(4):2===e?(i/100).toFixed(3):`${i.toFixed(2)}  10^-${e}`}function X(t){if(isNaN(t))return"NaN";if(0===t)return"0";const e=Math.abs(t);let n;return n=e>1?Math.ceil(Math.log(e)/Math.LN10):Math.floor(Math.log(e)/Math.LN10),Math.abs(n)<=3?t.toFixed(3):t.toExponential(2).replace("+","").replace("e","  10^")}function K(t){return t?(t=""+t,t.replace(/['"<>&`]/g,(function(t){switch(t){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"`":return"&#x60;"}}))):""}function J(t){return"number"===typeof t}function Z(t){return encodeURIComponent(t)}class Q extends d{_collectTransforms(t){const e=t.match(/\|([^|]+)/g).map(t=>super.get(t.substring(1)));return t=>e.reduce((t,e)=>e(t),t)}get(t){return t?"|"===t.substring(0,1)?this._collectTransforms(t):super.get(t):null}}const tt=new Q;for(let[e,Fn]of Object.entries(a))tt.add(e,Fn);var et=tt;class nt{constructor(t){const e=/^(?:\w+:\w+|^\w+)(?:\|\w+)*$/;if(!e.test(t))throw new Error(`Invalid field specifier: '${t}'`);const[n,...i]=t.split("|");this.full_name=t,this.field_name=n,this.transformations=i.map(t=>et.get(t))}_applyTransformations(t){return this.transformations.forEach((function(e){t=e(t)})),t}resolve(t,e){if("undefined"==typeof t[this.full_name]){let n=null;void 0!==t[this.field_name]?n=t[this.field_name]:e&&void 0!==e[this.field_name]&&(n=e[this.field_name]),t[this.full_name]=this._applyTransformations(n)}return t[this.full_name]}}const it=/^(\*|[\w]+)/,rt=/^\[\?\(@((?:\.[\w]+)+) *===? *([0-9.eE-]+|"[^"]*"|'[^']*')\)\]/;function ot(t){if(".."===t.substr(0,2)){if("["===t[2])return{text:"..",attr:"*",depth:".."};const e=it.exec(t.substr(2));if(!e)throw`Cannot parse ${JSON.stringify(t)} as dotdot_attr.`;return{text:".."+e[0],attr:e[1],depth:".."}}if("."===t[0]){const e=it.exec(t.substr(1));if(!e)throw`Cannot parse ${JSON.stringify(t)} as dot_attr.`;return{text:"."+e[0],attr:e[1],depth:"."}}if("["===t[0]){const n=rt.exec(t);if(!n)throw`Cannot parse ${JSON.stringify(t)} as expr.`;let i;try{i=JSON.parse(n[2])}catch(e){i=JSON.parse(n[2].replace(/^'|'$/g,'"'))}return{text:n[0],attrs:n[1].substr(1).split("."),value:i}}throw`The query ${JSON.stringify(t)} doesn't look valid.`}function at(t){return t?(["$","["].includes(t[0])||(t="$."+t),"$"===t[0]&&(t=t.substr(1)),t):""}function st(t){t=at(t);let e=[];while(t.length){const n=ot(t);t=t.substr(n.text.length),e.push(n)}return e}function lt(t,e){let n;for(let i of e)n=t,t=t[i];return[n,e[e.length-1],t]}function ct(t,e){if(!e.length)return[[]];const n=e[0],i=e.slice(1);let r=[];if(n.attr&&"."===n.depth&&"*"!==n.attr){const o=t[n.attr];1===e.length?void 0!==o&&r.push([n.attr]):r.push(...ct(o,i).map(t=>[n.attr].concat(t)))}else if(n.attr&&"."===n.depth&&"*"===n.attr)for(let[a,s]of Object.entries(t))r.push(...ct(s,i).map(t=>[a].concat(t)));else if(n.attr&&".."===n.depth){if("object"===typeof t&&null!==t){"*"!==n.attr&&n.attr in t&&r.push(...ct(t[n.attr],i).map(t=>[n.attr].concat(t)));for(let[o,a]of Object.entries(t))r.push(...ct(a,e).map(t=>[o].concat(t))),"*"===n.attr&&r.push(...ct(a,i).map(t=>[o].concat(t)))}}else if(n.attrs)for(let[a,s]of Object.entries(t)){const[t,e,o]=lt(s,n.attrs);o===n.value&&r.push(...ct(s,i).map(t=>[a].concat(t)))}const o=ut(r,JSON.stringify);return o.sort((t,e)=>e.length-t.length||JSON.stringify(t).localeCompare(JSON.stringify(e))),o}function ut(t,e){return[...new Map(t.map(t=>[e(t),t])).values()]}function ht(t,e){let n=[];for(let i of ct(t,e))n.push(lt(t,i));return n}function dt(t,e){const n=st(e),i=ht(t,n);return i.length||console.warn(`No items matched the specified query: '${e}'`),i}function ft(t,e){return dt(t,e).map(t=>t[2])}function pt(t,e,n){const i=dt(t,e);return i.map(([t,e,i])=>{const r="function"===typeof n?n(i):n;return t[e]=r,r})}const mt=Math.sqrt(3),gt={draw(t,e){const n=-Math.sqrt(e/(3*mt));t.moveTo(0,2*-n),t.lineTo(-mt*n,n),t.lineTo(mt*n,n),t.closePath()}};function bt(t,e){if(e=e||{},!t||"object"!==typeof t||"object"!==typeof e)throw new Error("Layout and shared namespaces must be provided as objects");for(let[n,i]of Object.entries(t))"namespace"===n?Object.keys(i).forEach(t=>{const n=e[t];n&&(i[t]=n)}):null!==i&&"object"===typeof i&&(t[n]=bt(i,e));return t}function vt(t,e){if("object"!==typeof t||"object"!==typeof e)throw new Error(`LocusZoom.Layouts.merge only accepts two layout objects; ${typeof t}, ${typeof e} given`);for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;let i=null===t[n]?"undefined":typeof t[n],r=typeof e[n];if("object"===i&&Array.isArray(t[n])&&(i="array"),"object"===r&&Array.isArray(e[n])&&(r="array"),"function"===i||"function"===r)throw new Error("LocusZoom.Layouts.merge encountered an unsupported property type");"undefined"!==i?"object"!==i||"object"!==r||(t[n]=vt(t[n],e[n])):t[n]=yt(e[n])}return t}function yt(t){return JSON.parse(JSON.stringify(t))}function _t(t){if(!t)return null;if("triangledown"===t)return gt;const e="symbol"+(t.charAt(0).toUpperCase()+t.slice(1));return W[e]||null}function wt(t,e,n=null){const i=new Set;if(!n){if(!e.length)return i;const t=e.join("|");n=new RegExp(`(?:{{)?(?:#if *)?((?:${t}):\\w+)`,"g")}for(const r of Object.values(t)){const t=typeof r;let o=[];if("string"===t){let t;while(null!==(t=n.exec(r)))o.push(t[1])}else{if(null===r||"object"!==t)continue;o=wt(r,e,n)}for(let e of o)i.add(e)}return i}function xt(t,e,n,i=!0){const r=typeof t;if(Array.isArray(t))return t.map(t=>xt(t,e,n,i));if("object"===r&&null!==t)return Object.keys(t).reduce((r,o)=>(r[o]=xt(t[o],e,n,i),r),{});if("string"!==r)return t;{const r=e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");if(i){const e=new RegExp(r+"\\|\\w+","g"),n=t.match(e)||[];n.forEach(t=>console.warn(`renameFields is renaming a field that uses transform functions: was '${t}' . Verify that these transforms are still appropriate.`))}const o=new RegExp(r+"(?!\\w+)","g");return t.replace(o,n)}}function Et(t,e,n){return pt(t,e,n)}function Ct(t,e){return ft(t,e)}class kt{constructor(t,e,n){this._callable=An.get(t),this._initiator=e,this._params=n||[]}getData(t,...e){const n={plot_state:t,data_layer:this._initiator};return Promise.resolve(this._callable(n,e,...this._params))}}class Mt{constructor(t){this._sources=t}config_to_sources(t={},e=[],n){const i=new Map,r=Object.keys(t);let o=e.find(t=>"fetch"===t.type);o||(o={type:"fetch",from:r},e.unshift(o));const a=/^\w+$/;for(let[l,c]of Object.entries(t)){if(!a.test(l))throw new Error(`Invalid namespace name: '${l}'. Must contain only alphanumeric characters`);const t=this._sources.get(c);if(!t)throw new Error(`A data layer has requested an item not found in DataSources: data type '${l}' from ${c}`);i.set(l,t),o.from.find(t=>t.split("(")[0]===l)||o.from.push(l)}let s=Array.from(o.from);for(let l of e){let{type:t,name:e,requires:r,params:o}=l;if("fetch"!==t){let a=0;if(e||(e=l.name="join"+a,a+=1),i.has(e))throw new Error(`Configuration error: within a layer, join name '${e}' must be unique`);r.forEach(t=>{if(!i.has(t))throw new Error(`Data operation cannot operate on unknown provider '${t}'`)});const c=new kt(t,n,o);i.set(e,c),s.push(`${e}(${r.join(", ")})`)}}return[i,s]}getData(t,e,n){return n.length?E(t,e,n,!0):Promise.resolve([])}}var Ot=Mt;function Tt(){return{showing:!1,selector:null,content_selector:null,hide_delay:null,show:(t,e)=>(this.curtain.showing||(this.curtain.selector=W["select"](this.parent_plot.svg.node().parentNode).insert("div").attr("class","lz-curtain").attr("id",this.id+".curtain"),this.curtain.content_selector=this.curtain.selector.append("div").attr("class","lz-curtain-content"),this.curtain.selector.append("div").attr("class","lz-curtain-dismiss").html("Dismiss").on("click",()=>this.curtain.hide()),this.curtain.showing=!0),this.curtain.update(t,e)),update:(t,e)=>{if(!this.curtain.showing)return this.curtain;clearTimeout(this.curtain.hide_delay),"object"==typeof e&&Rt(this.curtain.selector,e);const n=this._getPageOrigin(),i=this.layout.height||this._total_height;return this.curtain.selector.style("top",n.y+"px").style("left",n.x+"px").style("width",this.parent_plot.layout.width+"px").style("height",i+"px"),this.curtain.content_selector.style("max-width",this.parent_plot.layout.width-40+"px").style("max-height",i-40+"px"),"string"==typeof t&&this.curtain.content_selector.html(t),this.curtain},hide:t=>this.curtain.showing?"number"==typeof t?(clearTimeout(this.curtain.hide_delay),this.curtain.hide_delay=setTimeout(this.curtain.hide,t),this.curtain):(this.curtain.selector.remove(),this.curtain.selector=null,this.curtain.content_selector=null,this.curtain.showing=!1,this.curtain):this.curtain}}function St(){return{showing:!1,selector:null,content_selector:null,progress_selector:null,cancel_selector:null,show:t=>(this.loader.showing||(this.loader.selector=W["select"](this.parent_plot.svg.node().parentNode).insert("div").attr("class","lz-loader").attr("id",this.id+".loader"),this.loader.content_selector=this.loader.selector.append("div").attr("class","lz-loader-content"),this.loader.progress_selector=this.loader.selector.append("div").attr("class","lz-loader-progress-container").append("div").attr("class","lz-loader-progress"),this.loader.showing=!0,"undefined"==typeof t&&(t="Loading...")),this.loader.update(t)),update:(t,e)=>{if(!this.loader.showing)return this.loader;clearTimeout(this.loader.hide_delay),"string"==typeof t&&this.loader.content_selector.html(t);const n=6,i=this._getPageOrigin(),r=this.loader.selector.node().getBoundingClientRect();return this.loader.selector.style("top",i.y+this.layout.height-r.height-n+"px").style("left",i.x+n+"px"),"number"==typeof e&&this.loader.progress_selector.style("width",Math.min(Math.max(e,1),100)+"%"),this.loader},animate:()=>(this.loader.progress_selector.classed("lz-loader-progress-animated",!0),this.loader),setPercentCompleted:t=>(this.loader.progress_selector.classed("lz-loader-progress-animated",!1),this.loader.update(null,t)),hide:t=>this.loader.showing?"number"==typeof t?(clearTimeout(this.loader.hide_delay),this.loader.hide_delay=setTimeout(this.loader.hide,t),this.loader):(this.loader.selector.remove(),this.loader.selector=null,this.loader.content_selector=null,this.loader.progress_selector=null,this.loader.cancel_selector=null,this.loader.showing=!1,this.loader):this.loader}}function Rt(t,e){e=e||{};for(let[n,i]of Object.entries(e))t.style(n,i)}function jt(t,e=500){let n;return()=>{clearTimeout(n),n=setTimeout(()=>t.apply(this,arguments),e)}}class Lt{constructor(t,e){this.layout=t||{},this.layout.color||(this.layout.color="gray"),this.parent=e||null,this.parent_panel=null,this.parent_plot=null,this.parent_svg=null,this.parent&&("panel"===this.parent.type?(this.parent_panel=this.parent.parent,this.parent_plot=this.parent.parent.parent,this.parent_svg=this.parent_panel):(this.parent_plot=this.parent.parent,this.parent_svg=this.parent_plot)),this.selector=null,this.button=null,this.persist=!1,this.layout.position||(this.layout.position="left")}show(){if(this.parent&&this.parent.selector){if(!this.selector){const t=["start","middle","end"].includes(this.layout.group_position)?" lz-toolbar-group-"+this.layout.group_position:"";this.selector=this.parent.selector.append("div").attr("class",`lz-toolbar-${this.layout.position}${t}`),this.layout.style&&Rt(this.selector,this.layout.style),"function"==typeof this.initialize&&this.initialize()}return this.button&&"highlighted"===this.button.status&&this.button.menu.show(),this.selector.style("visibility","visible"),this.update(),this.position()}}update(){}position(){return this.button&&this.button.menu.position(),this}shouldPersist(){return!!this.persist||!(!this.button||!this.button.persist)}hide(){return!this.selector||this.shouldPersist()||(this.button&&this.button.menu.hide(),this.selector.style("visibility","hidden")),this}destroy(t){return"undefined"==typeof t&&(t=!1),this.selector?(this.shouldPersist()&&!t||(this.button&&this.button.menu&&this.button.menu.destroy(),this.selector.remove(),this.selector=null,this.button=null),this):this}}class At{constructor(t){if(!(t instanceof Lt))throw new Error("Unable to create toolbar widget button, invalid parent");this.parent=t,this.parent_panel=this.parent.parent_panel,this.parent_plot=this.parent.parent_plot,this.parent_svg=this.parent.parent_svg,this.parent_toolbar=this.parent.parent,this.selector=null,this.tag="a",this.html="",this.title="",this.color="gray",this.style={},this.persist=!1,this.permanent=!1,this.status="",this.menu={outer_selector:null,inner_selector:null,scroll_position:0,hidden:!0,show:()=>(this.menu.outer_selector||(this.menu.outer_selector=W["select"](this.parent_plot.svg.node().parentNode).append("div").attr("class","lz-toolbar-menu lz-toolbar-menu-"+this.color).attr("id",this.parent_svg.getBaseId()+".toolbar.menu"),this.menu.inner_selector=this.menu.outer_selector.append("div").attr("class","lz-toolbar-menu-content"),this.menu.inner_selector.on("scroll",()=>{this.menu.scroll_position=this.menu.inner_selector.node().scrollTop})),this.menu.outer_selector.style("visibility","visible"),this.menu.hidden=!1,this.menu.update()),update:()=>this.menu.outer_selector?(this.menu.populate(),this.menu.inner_selector&&(this.menu.inner_selector.node().scrollTop=this.menu.scroll_position),this.menu.position()):this.menu,position:()=>{if(!this.menu.outer_selector)return this.menu;this.menu.outer_selector.style("height",null);const t=3,e=20,n=14,i=this.parent_svg._getPageOrigin(),r=document.documentElement.scrollTop||document.body.scrollTop,o=this.parent_plot.getContainerOffset(),a=this.parent_toolbar.selector.node().getBoundingClientRect(),s=this.selector.node().getBoundingClientRect(),l=this.menu.outer_selector.node().getBoundingClientRect(),c=this.menu.inner_selector.node().scrollHeight;let u,h;"panel"===this.parent_toolbar.type?(u=i.y+a.height+2*t,h=Math.max(i.x+this.parent_plot.layout.width-l.width-t,i.x+t)):(u=s.bottom+r+t-o.top,h=Math.max(s.left+s.width-l.width-o.left,i.x+t));const d=Math.max(this.parent_plot.layout.width-2*t-e,e),f=d,p=d-4*t,m=Math.max(this.parent_svg.layout.height-10*t-n,n),g=Math.min(c+n,m);return this.menu.outer_selector.style("top",u+"px").style("left",h+"px").style("max-width",f+"px").style("max-height",m+"px").style("height",g+"px"),this.menu.inner_selector.style("max-width",p+"px"),this.menu.inner_selector.node().scrollTop=this.menu.scroll_position,this.menu},hide:()=>this.menu.outer_selector?(this.menu.outer_selector.style("visibility","hidden"),this.menu.hidden=!0,this.menu):this.menu,destroy:()=>this.menu.outer_selector?(this.menu.inner_selector.remove(),this.menu.outer_selector.remove(),this.menu.inner_selector=null,this.menu.outer_selector=null,this.menu):this.menu,populate:()=>{throw new Error("Method must be implemented")},setPopulate:t=>("function"==typeof t?(this.menu.populate=t,this.setOnclick(()=>{this.menu.hidden?(this.menu.show(),this.highlight().update(),this.persist=!0):(this.menu.hide(),this.highlight(!1).update(),this.permanent||(this.persist=!1))})):this.setOnclick(),this)}}setColor(t){return"undefined"!=typeof t&&(["gray","red","orange","yellow","green","blue","purple"].includes(t)?this.color=t:this.color="gray"),this}setPermanent(t){return t="undefined"==typeof t||Boolean(t),this.permanent=t,this.permanent&&(this.persist=!0),this}shouldPersist(){return this.permanent||this.persist}setStyle(t){return"undefined"!=typeof t&&(this.style=t),this}getClass(){const t=["start","middle","end"].includes(this.parent.layout.group_position)?" lz-toolbar-button-group-"+this.parent.layout.group_position:"";return`lz-toolbar-button lz-toolbar-button-${this.color}${this.status?"-"+this.status:""}${t}`}setStatus(t){return"undefined"!=typeof t&&["","highlighted","disabled"].includes(t)&&(this.status=t),this.update()}highlight(t){return t="undefined"==typeof t||Boolean(t),t?this.setStatus("highlighted"):"highlighted"===this.status?this.setStatus(""):this}disable(t){return t="undefined"==typeof t||Boolean(t),t?this.setStatus("disabled"):"disabled"===this.status?this.setStatus(""):this}onmouseover(){}setOnMouseover(t){return this.onmouseover="function"==typeof t?t:function(){},this}onmouseout(){}setOnMouseout(t){return this.onmouseout="function"==typeof t?t:function(){},this}onclick(){}setOnclick(t){return this.onclick="function"==typeof t?t:function(){},this}setTitle(t){return"undefined"!=typeof t&&(this.title=t.toString()),this}setHtml(t){return"undefined"!=typeof t&&(this.html=t.toString()),this}show(){if(this.parent)return this.selector||(this.selector=this.parent.selector.append(this.tag).attr("class",this.getClass())),this.update()}preUpdate(){return this}update(){return this.selector?(this.preUpdate(),this.selector.attr("class",this.getClass()).attr("title",this.title).on("mouseover","disabled"===this.status?null:this.onmouseover).on("mouseout","disabled"===this.status?null:this.onmouseout).on("click","disabled"===this.status?null:this.onclick).html(this.html).call(Rt,this.style),this.menu.update(),this.postUpdate(),this):this}postUpdate(){return this}hide(){return this.selector&&!this.shouldPersist()&&(this.selector.remove(),this.selector=null),this}}class Dt extends Lt{show(){return this.div_selector||(this.div_selector=this.parent.selector.append("div").attr("class","lz-toolbar-title lz-toolbar-"+this.layout.position),this.title_selector=this.div_selector.append("h3")),this.update()}update(){let t=this.layout.title.toString();return this.layout.subtitle&&(t+=` <small>${this.layout.subtitle}</small>`),this.title_selector.html(t),this}}class zt extends Lt{update(){return isNaN(this.parent_plot.state.start)||isNaN(this.parent_plot.state.end)||null===this.parent_plot.state.start||null===this.parent_plot.state.end?this.selector.style("display","none"):(this.selector.style("display",null),this.selector.html(oe(this.parent_plot.state.end-this.parent_plot.state.start,null,!0))),this.layout.class&&this.selector.attr("class",this.layout.class),this.layout.style&&Rt(this.selector,this.layout.style),this}}class Pt extends Lt{constructor(t,e){if(super(t,e),!this.parent_panel)throw new Error("Filter widget can only be used in panel toolbars");if(this._data_layer=this.parent_panel.data_layers[t.layer_name],!this._data_layer)throw new Error(`Filter widget could not locate the specified layer_name: '${t.layer_name}'`);if(this._event_name=t.custom_event_name||"widget_filter_field_action",this._field=t.field,this._field_display_html=t.field_display_html,this._operator=t.operator,this._filter_id=null,this._data_type=t.data_type||"number",!["number","string"].includes(this._data_type))throw new Error("Filter must be either string or number");this._value_selector=null}_getTarget(){this._data_layer.layout.filters||(this._data_layer.layout.filters=[]);let t=this._data_layer.layout.filters.find(t=>t.field===this._field&&t.operator===this._operator&&(!this._filter_id||t.id===this._filter_id));return t||(t={field:this._field,operator:this._operator,value:null},this._filter_id&&(t["id"]=this._filter_id),this._data_layer.layout.filters.push(t)),t}_clearFilter(){if(this._data_layer.layout.filters){const t=this._data_layer.layout.filters.indexOf(this._getTarget());this._data_layer.layout.filters.splice(t,1)}}_setFilter(t){if(null===t)this._value_selector.style("border","1px solid red").style("color","red"),this._clearFilter();else{const e=this._getTarget();e.value=t}this.parent_svg.emit(this._event_name,{field:this._field,operator:this._operator,value:t,filter_id:this._filter_id},!0)}_getValue(){let t=this._value_selector.property("value");return null===t||""===t||"number"===this._data_type&&(t=+t,Number.isNaN(t))?null:t}update(){this._value_selector||(this.selector.style("padding","0 6px"),this.selector.append("span").html(this._field_display_html).style("background","#fff").style("padding-left","3px"),this.selector.append("span").text(this._operator).style("padding","0 3px").style("background","#fff"),this._value_selector=this.selector.append("input").attr("size",this.layout.input_size||4).on("input",jt(()=>{this._value_selector.style("border",null).style("color",null);const t=this._getValue();this._setFilter(t),this.parent_panel.render()},750)))}}class Nt extends Lt{constructor(t,e){super(t,e),this._filename=this.layout.filename||"locuszoom.svg",this._button_html=this.layout.button_html||"Save SVG",this._button_title=this.layout.button_title||"Download hi-res image",this._event_name=t.custom_event_name||"widget_save_svg"}update(){return this.button||(this.button=new At(this).setColor(this.layout.color).setHtml(this._button_html).setTitle(this._button_title).setOnMouseover(()=>{this.button.selector.classed("lz-toolbar-button-gray-disabled",!0).html("Preparing Image"),this._getBlobUrl().then(t=>{const e=this.button.selector.attr("href");e&&URL.revokeObjectURL(e),this.button.selector.attr("href",t).classed("lz-toolbar-button-gray-disabled",!1).classed("lz-toolbar-button-gray-highlighted",!0).html(this._button_html)})}).setOnMouseout(()=>{this.button.selector.classed("lz-toolbar-button-gray-highlighted",!1)}),this.button.show(),this.button.selector.attr("href-lang","image/svg+xml").attr("download",this._filename).on("click",()=>this.parent_svg.emit(this._event_name,{filename:this._filename},!0))),this}_getCSS(t){const n=/^svg\.lz-locuszoom\s*/;let i="";for(let r=0;r<document.styleSheets.length;r++){const t=document.styleSheets[r];try{if(!t.cssRules)continue}catch(e){if("SecurityError"!==e.name)throw e;continue}let o=t.cssRules;for(let e=0;e<o.length;e++){const t=o[e],r=t.selectorText&&t.selectorText.match(n);r&&(i+=t.cssText)}}return i}_appendCSS(t,e){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;var i=e.hasChildNodes()?e.children[0]:null;e.insertBefore(n,i)}_getDimensions(){let{width:t,height:e}=this.parent_plot.svg.node().getBoundingClientRect();const n=2400,i=n/t;return[i*t,i*e]}_generateSVG(){return new Promise(t=>{let e=this.parent_plot.svg.node().cloneNode(!0);e.setAttribute("xlink","http://www.w3.org/1999/xlink"),e=W["select"](e),e.selectAll("g.lz-curtain").remove(),e.selectAll("g.lz-mouse_guide").remove(),e.selectAll("g.tick text").each((function(){const t=10*+W["select"](this).attr("dy").substring(-2).slice(0,-2);W["select"](this).attr("dy",t)}));const n=new XMLSerializer;e=e.node();const[i,r]=this._getDimensions();e.setAttribute("width",i),e.setAttribute("height",r),this._appendCSS(this._getCSS(e),e);let o=n.serializeToString(e);t(o)})}_getBlobUrl(){return this._generateSVG().then(t=>{const e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)})}}class Ft extends Nt{constructor(t,e){super(...arguments),this._filename=this.layout.filename||"locuszoom.png",this._button_html=this.layout.button_html||"Save PNG",this._button_title=this.layout.button_title||"Download image",this._event_name=t.custom_event_name||"widget_save_png"}_getBlobUrl(){return super._getBlobUrl().then(t=>{const e=document.createElement("canvas"),n=e.getContext("2d"),[i,r]=this._getDimensions();return e.width=i,e.height=r,new Promise((o,a)=>{const s=new Image;s.onload=()=>{n.drawImage(s,0,0,i,r),URL.revokeObjectURL(t),e.toBlob(t=>{o(URL.createObjectURL(t))})},s.src=t})})}}class It extends Lt{update(){return this.button||(this.button=new At(this).setColor(this.layout.color).setHtml("").setTitle("Remove panel").setOnclick(()=>{if(!this.layout.suppress_confirm&&!confirm("Are you sure you want to remove this panel? This cannot be undone."))return!1;const t=this.parent_panel;return t.toolbar.hide(!0),W["select"](t.parent.svg.node().parentNode).on(`mouseover.${t.getBaseId()}.toolbar`,null),W["select"](t.parent.svg.node().parentNode).on(`mouseout.${t.getBaseId()}.toolbar`,null),t.parent.removePanel(t.id)}),this.button.show()),this}}class Ht extends Lt{update(){if(this.button){const t=0===this.parent_panel.layout.y_index;return this.button.disable(t),this}return this.button=new At(this).setColor(this.layout.color).setHtml("").setTitle("Move panel up").setOnclick(()=>{this.parent_panel.moveUp(),this.update()}),this.button.show(),this.update()}}class Bt extends Lt{update(){if(this.button){const t=this.parent_panel.layout.y_index===this.parent_plot._panel_ids_by_y_index.length-1;return this.button.disable(t),this}return this.button=new At(this).setColor(this.layout.color).setHtml("").setTitle("Move panel down").setOnclick(()=>{this.parent_panel.moveDown(),this.update()}),this.button.show(),this.update()}}class $t extends Lt{constructor(t,e){if((isNaN(t.step)||0===t.step)&&(t.step=5e4),"string"!==typeof t.button_html&&(t.button_html=t.step>0?">":"<"),"string"!==typeof t.button_title&&(t.button_title=`Shift region by ${t.step>0?"+":"-"}${oe(Math.abs(t.step),null,!0)}`),super(t,e),isNaN(this.parent_plot.state.start)||isNaN(this.parent_plot.state.end))throw new Error("Unable to add shift_region toolbar widget: plot state does not have region bounds")}update(){return this.button||(this.button=new At(this).setColor(this.layout.color).setHtml(this.layout.button_html).setTitle(this.layout.button_title).setOnclick(()=>{this.parent_plot.applyState({start:Math.max(this.parent_plot.state.start+this.layout.step,1),end:this.parent_plot.state.end+this.layout.step})}),this.button.show()),this}}class Vt extends Lt{constructor(t,e){if((isNaN(t.step)||0===t.step)&&(t.step=.2),"string"!=typeof t.button_html&&(t.button_html=t.step>0?"z":"z+"),"string"!=typeof t.button_title&&(t.button_title=`Zoom region ${t.step>0?"out":"in"} by ${(100*Math.abs(t.step)).toFixed(1)}%`),super(t,e),isNaN(this.parent_plot.state.start)||isNaN(this.parent_plot.state.end))throw new Error("Unable to add zoom_region toolbar widget: plot state does not have region bounds")}update(){if(this.button){let t=!0;const e=this.parent_plot.state.end-this.parent_plot.state.start;return this.layout.step>0&&!isNaN(this.parent_plot.layout.max_region_scale)&&e>=this.parent_plot.layout.max_region_scale&&(t=!1),this.layout.step<0&&!isNaN(this.parent_plot.layout.min_region_scale)&&e<=this.parent_plot.layout.min_region_scale&&(t=!1),this.button.disable(!t),this}return this.button=new At(this).setColor(this.layout.color).setHtml(this.layout.button_html).setTitle(this.layout.button_title).setOnclick(()=>{const t=this.parent_plot.state.end-this.parent_plot.state.start,e=1+this.layout.step;let n=t*e;isNaN(this.parent_plot.layout.max_region_scale)||(n=Math.min(n,this.parent_plot.layout.max_region_scale)),isNaN(this.parent_plot.layout.min_region_scale)||(n=Math.max(n,this.parent_plot.layout.min_region_scale));const i=Math.floor((n-t)/2);this.parent_plot.applyState({start:Math.max(this.parent_plot.state.start-i,1),end:this.parent_plot.state.end+i})}),this.button.show(),this}}class Wt extends Lt{update(){return this.button||(this.button=new At(this).setColor(this.layout.color).setHtml(this.layout.button_html).setTitle(this.layout.button_title),this.button.menu.setPopulate(()=>{this.button.menu.inner_selector.html(this.layout.menu_html)}),this.button.show()),this}}class Ut extends Lt{constructor(t){super(...arguments)}update(){return this.button||(this.button=new At(this).setColor(this.layout.color).setHtml(this.layout.button_html||"Resize to Data").setTitle(this.layout.button_title||"Automatically resize this panel to show all data available").setOnclick(()=>{this.parent_panel.scaleHeightToData(),this.update()}),this.button.show()),this}}class Gt extends Lt{update(){const t=this.parent_panel.legend.layout.hidden?"Show Legend":"Hide Legend";return this.button?(this.button.setHtml(t).show(),this.parent.position(),this):(this.button=new At(this).setColor(this.layout.color).setTitle("Show or hide the legend for this panel").setOnclick(()=>{this.parent_panel.legend.layout.hidden=!this.parent_panel.legend.layout.hidden,this.parent_panel.legend.render(),this.update()}),this.update())}}class qt extends Lt{constructor(t,e){"string"!=typeof t.button_html&&(t.button_html="Display options..."),"string"!=typeof t.button_title&&(t.button_title="Control how plot items are displayed"),super(...arguments),this._event_name=t.custom_event_name||"widget_display_options_choice";const n=t.fields_whitelist||["color","fill_opacity","filters","label","legend","point_shape","point_size","tooltip","tooltip_positioning"],i=this.parent_panel.data_layers[t.layer_name];if(!i)throw new Error(`Display options could not locate the specified layer_name: '${t.layer_name}'`);const r=i.layout,o={};n.forEach(t=>{const e=r[t];void 0!==e&&(o[t]=yt(e))}),this._selected_item="default",this.button=new At(this).setColor(t.color).setHtml(t.button_html).setTitle(t.button_title).setOnclick(()=>{this.button.menu.populate()}),this.button.menu.setPopulate(()=>{const t=Math.floor(1e4*Math.random()).toString();this.button.menu.inner_selector.html("");const e=this.button.menu.inner_selector.append("table"),r=this.layout,a=(r,a,s)=>{const l=e.append("tr"),c=`${t}${s}`;l.append("td").append("input").attr("id",c).attr("type","radio").attr("name","display-option-"+t).attr("value",s).style("margin",0).property("checked",s===this._selected_item).on("click",()=>{n.forEach(t=>{const e="undefined"!==typeof a[t];i.layout[t]=e?a[t]:o[t]}),this.parent_svg.emit(this._event_name,{choice:r},!0),this._selected_item=s,this.parent_panel.render();const t=this.parent_panel.legend;t&&t.render()}),l.append("td").append("label").style("font-weight","normal").attr("for",c).text(r)},s=r.default_config_display_name||"Default style";return a(s,o,"default"),r.options.forEach((t,e)=>a(t.display_name,t.display,e)),this})}update(){return this.button.show(),this}}class Yt extends Lt{constructor(t,e){if("string"!=typeof t.button_html&&(t.button_html="Set option..."),"string"!=typeof t.button_title&&(t.button_title="Choose an option to customize the plot"),super(t,e),this.parent_panel)throw new Error("This widget is designed to set global options, so it can only be used at the top (plot) level");if(!t.state_field)throw new Error("Must specify the `state_field` that this widget controls");if(this._event_name=t.custom_event_name||"widget_set_state_choice",this._selected_item=this.parent_plot.state[t.state_field]||t.options[0].value,!t.options.find(t=>t.value===this._selected_item))throw new Error("There is an existing state value that does not match the known values in this widget");this.button=new At(this).setColor(t.color).setHtml(t.button_html+(t.show_selected?this._selected_item:"")).setTitle(t.button_title).setOnclick(()=>{this.button.menu.populate()}),this.button.menu.setPopulate(()=>{const e=Math.floor(1e4*Math.random()).toString();this.button.menu.inner_selector.html("");const n=this.button.menu.inner_selector.append("table"),i=(i,r,o)=>{const a=n.append("tr"),s=`${e}${o}`;a.append("td").append("input").attr("id",s).attr("type","radio").attr("name","set-state-"+e).attr("value",o).style("margin",0).property("checked",r===this._selected_item).on("click",()=>{const e={};e[t.state_field]=r,this._selected_item=r,this.parent_plot.applyState(e),this.button.setHtml(t.button_html+(t.show_selected?this._selected_item:"")),this.parent_svg.emit(this._event_name,{choice_name:i,choice_value:r,state_field:t.state_field},!0)}),a.append("td").append("label").style("font-weight","normal").attr("for",s).text(i)};return t.options.forEach((t,e)=>i(t.display_name,t.value,e)),this})}update(){return this.button.show(),this}}const Xt=new f;for(let[e,Fn]of Object.entries(s))Xt.add(e,Fn);var Kt=Xt;class Jt{constructor(t){this.parent=t,this.id=this.parent.getBaseId()+".toolbar",this.type=this.parent.parent?"panel":"plot",this.parent_plot=this.parent.parent_plot,this.selector=null,this.widgets=[],this.hide_timeout=null,this.persist=!1,this.initialize()}initialize(){const t=this.parent.layout.toolbar.widgets;return Array.isArray(t)&&t.forEach(t=>{this.addWidget(t)}),"panel"===this.type&&W["select"](this.parent.parent.svg.node().parentNode).on("mouseover."+this.id,()=>{clearTimeout(this.hide_timeout),this.selector&&"hidden"!==this.selector.style("visibility")||this.show()}).on("mouseout."+this.id,()=>{clearTimeout(this.hide_timeout),this.hide_timeout=setTimeout(()=>{this.hide()},300)}),this}addWidget(t){try{const e=Kt.create(t.type,t,this);return this.widgets.push(e),e}catch(e){console.warn("Failed to create widget"),console.error(e)}}shouldPersist(){if(this.persist)return!0;let t=!1;return this.widgets.forEach(e=>{t=t||e.shouldPersist()}),t=t||this.parent_plot._panel_boundaries.dragging||this.parent_plot._interaction.dragging,!!t}show(){if(!this.selector){switch(this.type){case"plot":this.selector=W["select"](this.parent.svg.node().parentNode).insert("div",":first-child");break;case"panel":this.selector=W["select"](this.parent.parent.svg.node().parentNode).insert("div",".lz-data_layer-tooltip, .lz-toolbar-menu, .lz-curtain").classed("lz-panel-toolbar",!0);break;default:throw new Error("Toolbar cannot be a child of "+this.type)}this.selector.classed("lz-toolbar",!0).classed(`lz-${this.type}-toolbar`,!0).attr("id",this.id)}return this.widgets.forEach(t=>t.show()),this.selector.style("visibility","visible"),this.update()}update(){return this.selector?(this.widgets.forEach(t=>t.update()),this.position()):this}position(){if(!this.selector)return this;if("panel"===this.type){const t=this.parent._getPageOrigin(),e=(t.y+3.5).toString()+"px",n=t.x.toString()+"px",i=(this.parent_plot.layout.width-4).toString()+"px";this.selector.style("position","absolute").style("top",e).style("left",n).style("width",i)}return this.widgets.forEach(t=>t.position()),this}hide(){return!this.selector||this.shouldPersist()||(this.widgets.forEach(t=>t.hide()),this.selector.style("visibility","hidden")),this}destroy(t){return"undefined"==typeof t&&(t=!1),this.selector?(this.shouldPersist()&&!t||(this.widgets.forEach(t=>t.destroy(!0)),this.widgets=[],this.selector.remove(),this.selector=null),this):this}}const Zt={orientation:"vertical",origin:{x:0,y:0},width:10,height:10,padding:5,label_size:14,hidden:!1};class Qt{constructor(t){return this.parent=t,this.id=this.parent.getBaseId()+".legend",this.parent.layout.legend=vt(this.parent.layout.legend||{},Zt),this.layout=this.parent.layout.legend,this.selector=null,this.background_rect=null,this.elements=[],this.elements_group=null,this.hidden=!1,this.render()}render(){this.selector||(this.selector=this.parent.svg.group.append("g").attr("id",this.parent.getBaseId()+".legend").attr("class","lz-legend")),this.background_rect||(this.background_rect=this.selector.append("rect").attr("width",100).attr("height",100).attr("class","lz-legend-background")),this.elements_group||(this.elements_group=this.selector.append("g")),this.elements.forEach(t=>t.remove()),this.elements=[];const t=+this.layout.padding||1;let e=t,n=t,i=0;this.parent._data_layer_ids_by_z_index.slice().reverse().forEach(r=>{const o=this.parent.data_layers[r].layout.legend;Array.isArray(o)&&o.forEach(r=>{const o=this.elements_group.append("g").attr("transform",`translate(${e}, ${n})`),a=+r.label_size||+this.layout.label_size;let s=0,l=a/2+t/2;i=Math.max(i,a+t);const c=r.shape||"",u=_t(c);if("line"===c){const e=+r.length||16,n=a/4+t/2;o.append("path").attr("class",r.class||"").attr("d",`M0,${n}L${e},${n}`).call(Rt,r.style||{}),s=e+t}else if("rect"===c){const e=+r.width||16,n=+r.height||e;o.append("rect").attr("class",r.class||"").attr("width",e).attr("height",n).attr("fill",r.color||{}).call(Rt,r.style||{}),s=e+t,i=Math.max(i,n+t)}else if("ribbon"===c){const e=+r.width||25,n=+r.height||e,i="horizontal"===(r.orientation||"vertical");let a=r.color_stops;const c=o.append("g"),u=c.append("g"),h=c.append("g");let d=0;if(r.tick_labels){let t;t=i?[0,e*a.length-1]:[n*a.length-1,0];const o=W["scaleLinear"]().domain(W["extent"](r.tick_labels)).range(t),s=(i?W["axisTop"]:W["axisRight"])(o).tickSize(3).tickValues(r.tick_labels).tickFormat(t=>t);h.call(s).attr("class","lz-axis");let l=h.node().getBoundingClientRect();d=l.height}i?(h.attr("transform",`translate(0, ${d})`),u.attr("transform",`translate(0, ${d})`)):(c.attr("transform","translate(5, 0)"),h.attr("transform",`translate(${e}, 0)`)),i||(a=a.slice(),a.reverse());for(let t=0;t<a.length;t++){const o=a[t],s=i?`translate(${e*t}, 0)`:`translate(0, ${n*t})`;u.append("rect").attr("class",r.class||"").attr("stroke","black").attr("transform",s).attr("stroke-width",.5).attr("width",e).attr("height",n).attr("fill",o).call(Rt,r.style||{})}if(!i&&r.label)throw new Error("Legend labels not supported for vertical ribbons (use a separate legend item as text instead)");s=e*a.length+t,l+=d}else if(u){const e=+r.size||40,n=Math.ceil(Math.sqrt(e/Math.PI));o.append("path").attr("class",r.class||"").attr("d",W["symbol"]().size(e).type(u)).attr("transform",`translate(${n}, ${n+t/2})`).attr("fill",r.color||{}).call(Rt,r.style||{}),s=2*n+t,l=Math.max(2*n+t/2,l),i=Math.max(i,2*n+t)}o.append("text").attr("text-anchor","left").attr("class","lz-label").attr("x",s).attr("y",l).style("font-size",a).text(r.label);const h=o.node().getBoundingClientRect();if("vertical"===this.layout.orientation)n+=h.height+t,i=0;else{const r=this.layout.origin.x+e+h.width;e>t&&r>this.parent.parent.layout.width&&(n+=i,e=t,o.attr("transform",`translate(${e}, ${n})`)),e+=h.width+3*t}this.elements.push(o)})});const r=this.elements_group.node().getBoundingClientRect();return this.layout.width=r.width+2*this.layout.padding,this.layout.height=r.height+2*this.layout.padding,this.background_rect.attr("width",this.layout.width).attr("height",this.layout.height),this.selector.style("visibility",this.layout.hidden?"hidden":"visible"),this.position()}position(){if(!this.selector)return this;const t=this.selector.node().getBoundingClientRect();isNaN(+this.layout.pad_from_bottom)||(this.layout.origin.y=this.parent.layout.height-t.height-+this.layout.pad_from_bottom),isNaN(+this.layout.pad_from_right)||(this.layout.origin.x=this.parent.parent.layout.width-t.width-+this.layout.pad_from_right),this.selector.attr("transform",`translate(${this.layout.origin.x}, ${this.layout.origin.y})`)}hide(){this.layout.hidden=!0,this.render()}show(){this.layout.hidden=!1,this.render()}}const te={id:"",tag:"custom_data_type",title:{text:"",style:{},x:10,y:22},y_index:null,min_height:1,height:1,origin:{x:0,y:null},margin:{top:0,right:0,bottom:0,left:0},background_click:"clear_selections",toolbar:{widgets:[]},cliparea:{height:0,width:0,origin:{x:0,y:0}},axes:{x:{},y1:{},y2:{}},legend:null,interaction:{drag_background_to_pan:!1,drag_x_ticks_to_scale:!1,drag_y1_ticks_to_scale:!1,drag_y2_ticks_to_scale:!1,scroll_to_zoom:!1,x_linked:!1,y1_linked:!1,y2_linked:!1},show_loading_indicator:!0,data_layers:[]};class ee{constructor(t,e){if("object"!==typeof t)throw new Error("Unable to create panel, invalid layout");if(this.parent=e||null,this.parent_plot=e,"string"!==typeof t.id||!t.id)throw new Error('Panel layouts must specify "id"');if(this.parent&&"undefined"!==typeof this.parent.panels[t.id])throw new Error(`Cannot create panel with id [${t.id}]; panel with that id already exists`);this.id=t.id,this._initialized=!1,this._layout_idx=null,this.svg={},this.layout=vt(t||{},te),this.parent?(this.state=this.parent.state,this._state_id=this.id,this.state[this._state_id]=this.state[this._state_id]||{}):(this.state=null,this._state_id=null),this.data_layers={},this._data_layer_ids_by_z_index=[],this._data_promises=[],this.x_scale=null,this.y1_scale=null,this.y2_scale=null,this.x_extent=null,this.y1_extent=null,this.y2_extent=null,this.x_ticks=[],this.y1_ticks=[],this.y2_ticks=[],this._zoom_timeout=null,this._event_hooks={},this.initializeLayout()}on(t,e){if("string"!==typeof t)throw new Error("Unable to register event hook. Event name must be a string: "+t.toString());if("function"!=typeof e)throw new Error("Unable to register event hook, invalid hook function passed");return this._event_hooks[t]||(this._event_hooks[t]=[]),this._event_hooks[t].push(e),e}off(t,e){const n=this._event_hooks[t];if("string"!=typeof t||!Array.isArray(n))throw new Error("Unable to remove event hook, invalid event: "+t.toString());if(void 0===e)this._event_hooks[t]=[];else{const t=n.indexOf(e);if(-1===t)throw new Error("The specified event listener is not registered and therefore cannot be removed");n.splice(t,1)}return this}emit(t,e,n){if(n=n||!1,"string"!=typeof t)throw new Error("LocusZoom attempted to throw an invalid event: "+t.toString());"boolean"===typeof e&&2===arguments.length&&(n=e,e=null);const i=this.getBaseId(),r={sourceID:i,target:this,data:e||null};return this._event_hooks[t]&&this._event_hooks[t].forEach(t=>{t.call(this,r)}),n&&this.parent&&this.parent.emit(t,r),this}setTitle(t){if("string"==typeof this.layout.title){const t=this.layout.title;this.layout.title={text:t,x:0,y:0,style:{}}}return"string"==typeof t?this.layout.title.text=t:"object"==typeof t&&null!==t&&(this.layout.title=vt(t,this.layout.title)),this.layout.title.text.length?this.title.attr("display",null).attr("x",parseFloat(this.layout.title.x)).attr("y",parseFloat(this.layout.title.y)).text(this.layout.title.text).call(Rt,this.layout.title.style):this.title.attr("display","none"),this}addDataLayer(t){if("object"!==typeof t||"string"!==typeof t.id||!t.id.length)throw new Error("Invalid data layer layout");if("undefined"!==typeof this.data_layers[t.id])throw new Error(`Cannot create data_layer with id '${t.id}'; data layer with that id already exists in the panel`);if("string"!==typeof t.type)throw new Error("Invalid data layer type");"object"!=typeof t.y_axis||"undefined"!=typeof t.y_axis.axis&&[1,2].includes(t.y_axis.axis)||(t.y_axis.axis=1);const e=Be.create(t.type,t,this);if(this.data_layers[e.id]=e,null!==e.layout.z_index&&!isNaN(e.layout.z_index)&&this._data_layer_ids_by_z_index.length>0)e.layout.z_index<0&&(e.layout.z_index=Math.max(this._data_layer_ids_by_z_index.length+e.layout.z_index,0)),this._data_layer_ids_by_z_index.splice(e.layout.z_index,0,e.id),this._data_layer_ids_by_z_index.forEach((t,e)=>{this.data_layers[t].layout.z_index=e});else{const t=this._data_layer_ids_by_z_index.push(e.id);this.data_layers[e.id].layout.z_index=t-1}let n=null;return this.layout.data_layers.forEach((t,i)=>{t.id===e.id&&(n=i)}),null===n&&(n=this.layout.data_layers.push(this.data_layers[e.id].layout)-1),this.data_layers[e.id]._layout_idx=n,this.data_layers[e.id]}removeDataLayer(t){const e=this.data_layers[t];if(!e)throw new Error("Unable to remove data layer, ID not found: "+t);return e.destroyAllTooltips(),e.svg.container&&e.svg.container.remove(),this.layout.data_layers.splice(e._layout_idx,1),delete this.state[e._state_id],delete this.data_layers[t],this._data_layer_ids_by_z_index.splice(this._data_layer_ids_by_z_index.indexOf(t),1),this.applyDataLayerZIndexesToDataLayerLayouts(),this.layout.data_layers.forEach((t,e)=>{this.data_layers[t.id]._layout_idx=e}),this}clearSelections(){return this._data_layer_ids_by_z_index.forEach(t=>{this.data_layers[t].setAllElementStatus("selected",!1)}),this}render(){this.svg.container.attr("transform",`translate(${this.layout.origin.x}, ${this.layout.origin.y})`),this.svg.clipRect.attr("width",this.parent_plot.layout.width).attr("height",this.layout.height);const{cliparea:t}=this.layout,{margin:e}=this.layout;this.inner_border.attr("x",e.left).attr("y",e.top).attr("width",this.parent_plot.layout.width-(e.left+e.right)).attr("height",this.layout.height-(e.top+e.bottom)),this.layout.inner_border&&this.inner_border.style("stroke-width",1).style("stroke",this.layout.inner_border),this.setTitle(),this.generateExtents();const n=function(t,e){const n=Math.pow(-10,e),i=Math.pow(-10,-e),r=Math.pow(10,-e),o=Math.pow(10,e);return t===1/0&&(t=o),t===-1/0&&(t=n),0===t&&(t=r),t>0&&(t=Math.max(Math.min(t,o),r)),t<0&&(t=Math.max(Math.min(t,i),n)),t},i={},r=this.layout.axes;if(this.x_extent){const t={start:0,end:this.layout.cliparea.width};r.x.range&&(t.start=r.x.range.start||t.start,t.end=r.x.range.end||t.end),i.x=[t.start,t.end],i.x_shifted=[t.start,t.end]}if(this.y1_extent){const e={start:t.height,end:0};r.y1.range&&(e.start=r.y1.range.start||e.start,e.end=r.y1.range.end||e.end),i.y1=[e.start,e.end],i.y1_shifted=[e.start,e.end]}if(this.y2_extent){const e={start:t.height,end:0};r.y2.range&&(e.start=r.y2.range.start||e.start,e.end=r.y2.range.end||e.end),i.y2=[e.start,e.end],i.y2_shifted=[e.start,e.end]}let{_interaction:o}=this.parent;const a=o.dragging;if(o.panel_id&&(o.panel_id===this.id||o.linked_panel_ids.includes(this.id))){let r,s=null;if(o.zooming&&"function"==typeof this.x_scale){const n=Math.abs(this.x_extent[1]-this.x_extent[0]),a=Math.round(this.x_scale.invert(i.x_shifted[1]))-Math.round(this.x_scale.invert(i.x_shifted[0]));let s=o.zooming.scale;const l=Math.floor(a*(1/s));s<1&&!isNaN(this.parent.layout.max_region_scale)?s=1/(Math.min(l,this.parent.layout.max_region_scale)/a):s>1&&!isNaN(this.parent.layout.min_region_scale)&&(s=1/(Math.max(l,this.parent.layout.min_region_scale)/a));const c=Math.floor(n*s);r=o.zooming.center-e.left-this.layout.origin.x;const u=r/t.width,h=Math.max(Math.floor(this.x_scale.invert(i.x_shifted[0])-(c-a)*u),1);i.x_shifted=[this.x_scale(h),this.x_scale(h+c)]}else if(a)switch(a.method){case"background":i.x_shifted[0]=+a.dragged_x,i.x_shifted[1]=t.width+a.dragged_x;break;case"x_tick":W["event"]&&W["event"].shiftKey?(i.x_shifted[0]=+a.dragged_x,i.x_shifted[1]=t.width+a.dragged_x):(r=a.start_x-e.left-this.layout.origin.x,s=n(r/(r+a.dragged_x),3),i.x_shifted[0]=0,i.x_shifted[1]=Math.max(t.width*(1/s),1));break;case"y1_tick":case"y2_tick":{const o=`y${a.method[1]}_shifted`;W["event"]&&W["event"].shiftKey?(i[o][0]=t.height+a.dragged_y,i[o][1]=+a.dragged_y):(r=t.height-(a.start_y-e.top-this.layout.origin.y),s=n(r/(r-a.dragged_y),3),i[o][0]=t.height,i[o][1]=t.height-t.height*(1/s))}}}if(["x","y1","y2"].forEach(t=>{this[t+"_extent"]&&(this[t+"_scale"]=W["scaleLinear"]().domain(this[t+"_extent"]).range(i[t+"_shifted"]),this[t+"_extent"]=[this[t+"_scale"].invert(i[t][0]),this[t+"_scale"].invert(i[t][1])],this[t+"_scale"]=W["scaleLinear"]().domain(this[t+"_extent"]).range(i[t]),this.renderAxis(t))}),this.layout.interaction.scroll_to_zoom){const t=()=>{if(!W["event"].shiftKey&&!W["event"].altKey)return void(this.parent._canInteract(this.id)&&this.loader.show("Press <tt>[SHIFT]</tt> or <tt>[ALT]</tt> while scrolling to zoom").hide(1e3));if(W["event"].preventDefault(),!this.parent._canInteract(this.id))return;const t=W["mouse"](this.svg.container.node()),e=Math.max(-1,Math.min(1,W["event"].wheelDelta||-W["event"].detail||-W["event"].deltaY));0!==e&&(this.parent._interaction={panel_id:this.id,linked_panel_ids:this.getLinkedPanelIds("x"),zooming:{scale:e<1?.9:1.1,center:t[0]}},this.render(),o=this.parent._interaction,o.linked_panel_ids.forEach(t=>{this.parent.panels[t].render()}),null!==this._zoom_timeout&&clearTimeout(this._zoom_timeout),this._zoom_timeout=setTimeout(()=>{this.parent._interaction={},this.parent.applyState({start:this.x_extent[0],end:this.x_extent[1]})},500))};this.svg.container.on("wheel.zoom",t).on("mousewheel.zoom",t).on("DOMMouseScroll.zoom",t)}return this._data_layer_ids_by_z_index.forEach(t=>{this.data_layers[t].draw().render()}),this.legend&&this.legend.render(),this}addBasicLoader(t=!0){return this.layout.show_loading_indicator&&this._initialized||(t&&this.loader.show("Loading...").animate(),this.on("data_requested",()=>{this.loader.show("Loading...").animate()}),this.on("data_rendered",()=>{this.loader.hide()}),this.layout.show_loading_indicator=!0),this}applyDataLayerZIndexesToDataLayerLayouts(){this._data_layer_ids_by_z_index.forEach((t,e)=>{this.data_layers[t].layout.z_index=e})}getBaseId(){return`${this.parent.id}.${this.id}`}_getPageOrigin(){const t=this.parent._getPageOrigin();return{x:t.x+this.layout.origin.x,y:t.y+this.layout.origin.y}}initializeLayout(){return this.setDimensions(),this.setOrigin(),this.setMargin(),this.x_range=[0,this.layout.cliparea.width],this.y1_range=[this.layout.cliparea.height,0],this.y2_range=[this.layout.cliparea.height,0],["x","y1","y2"].forEach(t=>{const e=this.layout.axes[t];Object.keys(e).length&&!1!==e.render?(e.render=!0,e.label=e.label||null):e.render=!1}),this.layout.data_layers.forEach(t=>{this.addDataLayer(t)}),this}setDimensions(t,e){const n=this.layout;return"undefined"!=typeof t&&"undefined"!=typeof e&&!isNaN(t)&&t>=0&&!isNaN(e)&&e>=0&&(this.parent.layout.width=Math.round(+t),n.height=Math.max(Math.round(+e),n.min_height)),n.cliparea.width=Math.max(this.parent_plot.layout.width-(n.margin.left+n.margin.right),0),n.cliparea.height=Math.max(n.height-(n.margin.top+n.margin.bottom),0),this.svg.clipRect&&this.svg.clipRect.attr("width",this.parent.layout.width).attr("height",n.height),this._initialized&&(this.render(),this.curtain.update(),this.loader.update(),this.toolbar.update(),this.legend&&this.legend.position()),this}setOrigin(t,e){return!isNaN(t)&&t>=0&&(this.layout.origin.x=Math.max(Math.round(+t),0)),!isNaN(e)&&e>=0&&(this.layout.origin.y=Math.max(Math.round(+e),0)),this._initialized&&this.render(),this}setMargin(t,e,n,i){let r;const{cliparea:o,margin:a}=this.layout;return!isNaN(t)&&t>=0&&(a.top=Math.max(Math.round(+t),0)),!isNaN(e)&&e>=0&&(a.right=Math.max(Math.round(+e),0)),!isNaN(n)&&n>=0&&(a.bottom=Math.max(Math.round(+n),0)),!isNaN(i)&&i>=0&&(a.left=Math.max(Math.round(+i),0)),a.top+a.bottom>this.layout.height&&(r=Math.floor((a.top+a.bottom-this.layout.height)/2),a.top-=r,a.bottom-=r),a.left+a.right>this.parent_plot.layout.width&&(r=Math.floor((a.left+a.right-this.parent_plot.layout.width)/2),a.left-=r,a.right-=r),["top","right","bottom","left"].forEach(t=>{a[t]=Math.max(a[t],0)}),o.width=Math.max(this.parent_plot.layout.width-(a.left+a.right),0),o.height=Math.max(this.layout.height-(a.top+a.bottom),0),o.origin.x=a.left,o.origin.y=a.top,this._initialized&&this.render(),this}initialize(){const t=this.getBaseId();this.svg.container=this.parent.svg.append("g").attr("id",t+".panel_container").attr("transform",`translate(${this.layout.origin.x||0}, ${this.layout.origin.y||0})`);const e=this.svg.container.append("clipPath").attr("id",t+".clip");if(this.svg.clipRect=e.append("rect").attr("width",this.parent_plot.layout.width).attr("height",this.layout.height),this.svg.group=this.svg.container.append("g").attr("id",t+".panel").attr("clip-path",`url(#${t}.clip)`),this.curtain=Tt.call(this),this.loader=St.call(this),this.layout.show_loading_indicator&&this.addBasicLoader(!1),this.toolbar=new Jt(this),this.inner_border=this.svg.group.append("rect").attr("class","lz-panel-background").on("click",()=>{"clear_selections"===this.layout.background_click&&this.clearSelections()}),this.title=this.svg.group.append("text").attr("class","lz-panel-title"),"undefined"!=typeof this.layout.title&&this.setTitle(),this.svg.x_axis=this.svg.group.append("g").attr("id",t+".x_axis").attr("class","lz-x lz-axis"),this.layout.axes.x.render&&(this.svg.x_axis_label=this.svg.x_axis.append("text").attr("class","lz-x lz-axis lz-label").attr("text-anchor","middle")),this.svg.y1_axis=this.svg.group.append("g").attr("id",t+".y1_axis").attr("class","lz-y lz-y1 lz-axis"),this.layout.axes.y1.render&&(this.svg.y1_axis_label=this.svg.y1_axis.append("text").attr("class","lz-y1 lz-axis lz-label").attr("text-anchor","middle")),this.svg.y2_axis=this.svg.group.append("g").attr("id",t+".y2_axis").attr("class","lz-y lz-y2 lz-axis"),this.layout.axes.y2.render&&(this.svg.y2_axis_label=this.svg.y2_axis.append("text").attr("class","lz-y2 lz-axis lz-label").attr("text-anchor","middle")),this._data_layer_ids_by_z_index.forEach(t=>{this.data_layers[t].initialize()}),this.legend=null,this.layout.legend&&(this.legend=new Qt(this)),this.layout.interaction.drag_background_to_pan){const t=`.${this.parent.id}.${this.id}.interaction.drag`,e=()=>this.parent.startDrag(this,"background");this.svg.container.select(".lz-panel-background").on(`mousedown${t}.background`,e).on(`touchstart${t}.background`,e)}return this}resortDataLayers(){const t=[];this._data_layer_ids_by_z_index.forEach(e=>{t.push(this.data_layers[e].layout.z_index)}),this.svg.group.selectAll("g.lz-data_layer-container").data(t).sort(W["ascending"]),this.applyDataLayerZIndexesToDataLayerLayouts()}getLinkedPanelIds(t){t=t||null;const e=[];return["x","y1","y2"].includes(t)&&this.layout.interaction[t+"_linked"]?(this.parent._panel_ids_by_y_index.forEach(n=>{n!==this.id&&this.parent.panels[n].layout.interaction[t+"_linked"]&&e.push(n)}),e):e}moveUp(){const{parent:t}=this,e=this.layout.y_index;return t._panel_ids_by_y_index[e-1]&&(t._panel_ids_by_y_index[e]=t._panel_ids_by_y_index[e-1],t._panel_ids_by_y_index[e-1]=this.id,t.applyPanelYIndexesToPanelLayouts(),t.positionPanels()),this}moveDown(){const{_panel_ids_by_y_index:t}=this.parent;return t[this.layout.y_index+1]&&(t[this.layout.y_index]=t[this.layout.y_index+1],t[this.layout.y_index+1]=this.id,this.parent.applyPanelYIndexesToPanelLayouts(),this.parent.positionPanels()),this}reMap(){this.emit("data_requested"),this._data_promises=[],this.curtain.hide();for(let e in this.data_layers)try{this._data_promises.push(this.data_layers[e].reMap())}catch(t){console.error(t),this.curtain.show(t.message||t)}return Promise.all(this._data_promises).then(()=>{this._initialized=!0,this.render(),this.emit("layout_changed",!0),this.emit("data_rendered")}).catch(t=>{console.error(t),this.curtain.show(t.message||t)})}generateExtents(){["x","y1","y2"].forEach(t=>{this[t+"_extent"]=null});for(let t in this.data_layers){const e=this.data_layers[t];if(e.layout.x_axis&&!e.layout.x_axis.decoupled&&(this.x_extent=W["extent"]((this.x_extent||[]).concat(e.getAxisExtent("x")))),e.layout.y_axis&&!e.layout.y_axis.decoupled){const t="y"+e.layout.y_axis.axis;this[t+"_extent"]=W["extent"]((this[t+"_extent"]||[]).concat(e.getAxisExtent("y")))}}return this.layout.axes.x&&"state"===this.layout.axes.x.extent&&(this.x_extent=[this.state.start,this.state.end]),this}generateTicks(t){if(this.layout.axes[t].ticks){const e=this.layout.axes[t],n=e.ticks;if(Array.isArray(n))return n;if("object"===typeof n){const e=this,i={position:n.position},r=this._data_layer_ids_by_z_index.reduce((n,r)=>{const o=e.data_layers[r];return n.concat(o.getTicks(t,i))},[]);return r.map(t=>{let e={};return e=vt(e,n),vt(e,t)})}}return this[t+"_extent"]?se(this[t+"_extent"],"both"):[]}renderAxis(t){if(!["x","y1","y2"].includes(t))throw new Error("Unable to render axis; invalid axis identifier: "+t);const e=this.layout.axes[t].render&&"function"==typeof this[t+"_scale"]&&!isNaN(this[t+"_scale"](0));if(this[t+"_axis"]&&this.svg.container.select("g.lz-axis.lz-"+t).style("display",e?null:"none"),!e)return this;const n={x:{position:`translate(${this.layout.margin.left}, ${this.layout.height-this.layout.margin.bottom})`,orientation:"bottom",label_x:this.layout.cliparea.width/2,label_y:this.layout.axes[t].label_offset||0,label_rotate:null},y1:{position:`translate(${this.layout.margin.left}, ${this.layout.margin.top})`,orientation:"left",label_x:-1*(this.layout.axes[t].label_offset||0),label_y:this.layout.cliparea.height/2,label_rotate:-90},y2:{position:`translate(${this.parent_plot.layout.width-this.layout.margin.right}, ${this.layout.margin.top})`,orientation:"right",label_x:this.layout.axes[t].label_offset||0,label_y:this.layout.cliparea.height/2,label_rotate:-90}};this[t+"_ticks"]=this.generateTicks(t);const i=(t=>{for(let e=0;e<t.length;e++)if(isNaN(t[e]))return!1;return!0})(this[t+"_ticks"]);let r;switch(n[t].orientation){case"right":r=W["axisRight"];break;case"left":r=W["axisLeft"];break;case"bottom":r=W["axisBottom"];break;default:throw new Error("Unrecognized axis orientation")}if(this[t+"_axis"]=r(this[t+"_scale"]).tickPadding(3),i)this[t+"_axis"].tickValues(this[t+"_ticks"]),"region"===this.layout.axes[t].tick_format&&this[t+"_axis"].tickFormat(t=>oe(t,6));else{let e=this[t+"_ticks"].map(e=>e[t.substr(0,1)]);this[t+"_axis"].tickValues(e).tickFormat((e,n)=>this[t+"_ticks"][n].text)}if(this.svg[t+"_axis"].attr("transform",n[t].position).call(this[t+"_axis"]),!i){const e=W["selectAll"](`g#${this.getBaseId().replace(".","\\.")}\\.${t}_axis g.tick`),n=this;e.each((function(e,i){const r=W["select"](this).select("text");n[t+"_ticks"][i].style&&Rt(r,n[t+"_ticks"][i].style),n[t+"_ticks"][i].transform&&r.attr("transform",n[t+"_ticks"][i].transform)}))}const o=this.layout.axes[t].label||null;return null!==o&&(this.svg[t+"_axis_label"].attr("x",n[t].label_x).attr("y",n[t].label_y).text(le(o,this.state)).attr("fill","currentColor"),null!==n[t].label_rotate&&this.svg[t+"_axis_label"].attr("transform",`rotate(${n[t].label_rotate} ${n[t].label_x}, ${n[t].label_y})`)),["x","y1","y2"].forEach(t=>{if(this.layout.interaction[`drag_${t}_ticks_to_scale`]){const e=`.${this.parent.id}.${this.id}.interaction.drag`,n=function(){"function"==typeof W["select"](this).node().focus&&W["select"](this).node().focus();let i="x"===t?"ew-resize":"ns-resize";W["event"]&&W["event"].shiftKey&&(i="move"),W["select"](this).style("font-weight","bold").style("cursor",i).on("keydown"+e,n).on("keyup"+e,n)};this.svg.container.selectAll(`.lz-axis.lz-${t} .tick text`).attr("tabindex",0).on("mouseover"+e,n).on("mouseout"+e,(function(){W["select"](this).style("font-weight","normal").on("keydown"+e,null).on("keyup"+e,null)})).on("mousedown"+e,()=>{this.parent.startDrag(this,t+"_tick")})}}),this}scaleHeightToData(t){t=+t||null,null===t&&this._data_layer_ids_by_z_index.forEach(e=>{const n=this.data_layers[e].getAbsoluteDataHeight();+n&&(t=null===t?+n:Math.max(t,+n))}),+t&&(t+=+this.layout.margin.top+ +this.layout.margin.bottom,this.setDimensions(this.parent_plot.layout.width,t),this.parent.setDimensions(),this.parent.positionPanels())}setAllElementStatus(t,e){this._data_layer_ids_by_z_index.forEach(n=>{this.data_layers[n].setAllElementStatus(t,e)})}}U.verbs.forEach((t,e)=>{const n=U.adjectives[e],i="un"+t;ee.prototype[t+"AllElements"]=function(){return this.setAllElementStatus(n,!0),this},ee.prototype[i+"AllElements"]=function(){return this.setAllElementStatus(n,!1),this}});const ne={state:{},width:800,min_width:400,min_region_scale:null,max_region_scale:null,responsive_resize:!1,panels:[],toolbar:{widgets:[]},panel_boundaries:!0,mouse_guide:!0};function ie(t,e){t=t||{},e=e||{};let n,i=!1,r=null;if("undefined"!=typeof t.chr&&"undefined"!=typeof t.start&&"undefined"!=typeof t.end){if(t.start=Math.max(parseInt(t.start),1),t.end=Math.max(parseInt(t.end),1),isNaN(t.start)&&isNaN(t.end))t.start=1,t.end=1,r=.5,n=0;else if(isNaN(t.start)||isNaN(t.end))r=t.start||t.end,n=0,t.start=isNaN(t.start)?t.end:t.start,t.end=isNaN(t.end)?t.start:t.end;else{if(r=Math.round((t.start+t.end)/2),n=t.end-t.start,n<0){const e=t.start;t.end=t.start,t.start=e,n=t.end-t.start}r<0&&(t.start=1,t.end=1,n=0)}i=!0}return e.min_region_scale&&i&&n<e.min_region_scale&&(t.start=Math.max(r-Math.floor(e.min_region_scale/2),1),t.end=t.start+e.min_region_scale),e.max_region_scale&&i&&n>e.max_region_scale&&(t.start=Math.max(r-Math.floor(e.max_region_scale/2),1),t.end=t.start+e.max_region_scale),t}class re{constructor(t,e,n){this._initialized=!1,this.parent_plot=this,this.id=t,this.container=null,this.svg=null,this.panels={},this._panel_ids_by_y_index=[],this._remap_promises=[],this.layout=n,vt(this.layout,ne),this._base_layout=yt(this.layout),this.state=this.layout.state,this.lzd=new Ot(e),this._external_listeners=new Map,this._event_hooks={},this._interaction={},this.initializeLayout()}on(t,e){if("string"!==typeof t)throw new Error("Unable to register event hook. Event name must be a string: "+t.toString());if("function"!=typeof e)throw new Error("Unable to register event hook, invalid hook function passed");return this._event_hooks[t]||(this._event_hooks[t]=[]),this._event_hooks[t].push(e),e}off(t,e){const n=this._event_hooks[t];if("string"!=typeof t||!Array.isArray(n))throw new Error("Unable to remove event hook, invalid event: "+t.toString());if(void 0===e)this._event_hooks[t]=[];else{const t=n.indexOf(e);if(-1===t)throw new Error("The specified event listener is not registered and therefore cannot be removed");n.splice(t,1)}return this}emit(t,e){const n=this._event_hooks[t];if("string"!=typeof t)throw new Error("LocusZoom attempted to throw an invalid event: "+t.toString());if(!n&&!this._event_hooks["any_lz_event"])return this;const i=this.getBaseId();let r;if(r=e&&e.sourceID?e:{sourceID:i,target:this,data:e||null},n&&n.forEach(t=>{t.call(this,r)}),"any_lz_event"!==t){const e=Object.assign({event_name:t},r);this.emit("any_lz_event",e)}return this}addPanel(t){if("object"!==typeof t)throw new Error("Invalid panel layout");const e=new ee(t,this);if(this.panels[e.id]=e,null!==e.layout.y_index&&!isNaN(e.layout.y_index)&&this._panel_ids_by_y_index.length>0)e.layout.y_index<0&&(e.layout.y_index=Math.max(this._panel_ids_by_y_index.length+e.layout.y_index,0)),this._panel_ids_by_y_index.splice(e.layout.y_index,0,e.id),this.applyPanelYIndexesToPanelLayouts();else{const t=this._panel_ids_by_y_index.push(e.id);this.panels[e.id].layout.y_index=t-1}let n=null;return this.layout.panels.forEach((t,i)=>{t.id===e.id&&(n=i)}),null===n&&(n=this.layout.panels.push(this.panels[e.id].layout)-1),this.panels[e.id]._layout_idx=n,this._initialized&&(this.positionPanels(),this.panels[e.id].initialize(),this.panels[e.id].reMap(),this.setDimensions(this.layout.width,this._total_height)),this.panels[e.id]}clearPanelData(t,e){let n;return e=e||"wipe",n=t?[t]:Object.keys(this.panels),n.forEach(t=>{this.panels[t]._data_layer_ids_by_z_index.forEach(n=>{const i=this.panels[t].data_layers[n];i.destroyAllTooltips(),delete i._layer_state,delete this.layout.state[i._state_id],"reset"===e&&i._setDefaultState()})}),this}removePanel(t){const e=this.panels[t];if(!e)throw new Error("Unable to remove panel, ID not found: "+t);return this._panel_boundaries.hide(),this.clearPanelData(t),e.loader.hide(),e.toolbar.destroy(!0),e.curtain.hide(),e.svg.container&&e.svg.container.remove(),this.layout.panels.splice(e._layout_idx,1),delete this.panels[t],delete this.layout.state[t],this.layout.panels.forEach((t,e)=>{this.panels[t.id]._layout_idx=e}),this._panel_ids_by_y_index.splice(this._panel_ids_by_y_index.indexOf(t),1),this.applyPanelYIndexesToPanelLayouts(),this._initialized&&(this.positionPanels(),this.setDimensions(this.layout.width,this._total_height)),this.emit("panel_removed",t),this}refresh(){return this.applyState()}subscribeToData(t,e){const{from_layer:n,namespace:i,data_operations:r,onerror:o}=t,a=o||function(t){console.error("An error occurred while acting on an external callback",t)};if(n){const t=this.getBaseId()+".",i=n.startsWith(t)?n:`${t}${n}`;let r=!1;for(let e of Object.values(this.panels))if(r=Object.values(e.data_layers).some(t=>t.getBaseId()===i),r)break;if(!r)throw new Error("Could not subscribe to unknown data layer "+i);const o=t=>{if(t.data.layer===i)try{e(t.data.content,this)}catch(n){a(n)}};return this.on("data_from_layer",o),o}if(!i)throw new Error("subscribeToData must specify the desired data: either 'from_layer' or 'namespace' option");const[s,l]=this.lzd.config_to_sources(i,r),c=()=>{try{this.lzd.getData(this.state,s,l).then(t=>e(t,this)).catch(a)}catch(t){a(t)}};return this.on("data_rendered",c),c}applyState(t){if(t=t||{},"object"!=typeof t)throw new Error(`applyState only accepts an object; ${typeof t} given`);let e={chr:this.state.chr,start:this.state.start,end:this.state.end};for(let n in t)e[n]=t[n];e=ie(e,this.layout);for(let n in e)this.state[n]=e[n];this.emit("data_requested"),this._remap_promises=[],this.loading_data=!0;for(let n in this.panels)this._remap_promises.push(this.panels[n].reMap());return Promise.all(this._remap_promises).catch(t=>{console.error(t),this.curtain.show(t.message||t),this.loading_data=!1}).then(()=>{this.toolbar.update(),this._panel_ids_by_y_index.forEach(t=>{const e=this.panels[t];e.toolbar.update(),e._data_layer_ids_by_z_index.forEach(t=>{e.data_layers[t].applyAllElementStatus()})}),this.emit("layout_changed"),this.emit("data_rendered"),this.emit("state_changed",t);const{chr:e,start:n,end:i}=this.state,r=Object.keys(t).some(t=>["chr","start","end"].includes(t));r&&this.emit("region_changed",{chr:e,start:n,end:i}),this.loading_data=!1})}trackExternalListener(t,e,n){this._external_listeners.has(t)||this._external_listeners.set(t,new Map);const i=this._external_listeners.get(t),r=i.get(e)||[];r.includes(n)||r.push(n),i.set(e,r)}destroy(){for(let[e,n]of this._external_listeners.entries())for(let[t,i]of n)for(let n of i)e.removeEventListener(t,n);const t=this.svg.node().parentNode;if(!t)throw new Error("Plot has already been removed");while(t.lastElementChild)t.removeChild(t.lastElementChild);t.outerHTML=t.outerHTML,this._initialized=!1,this.svg=null,this.panels=null}mutateLayout(){Object.values(this.panels).forEach(t=>{Object.values(t.data_layers).forEach(t=>t.mutateLayout())})}_canInteract(t){t=t||null;const{_interaction:e}=this;return t?("undefined"==typeof e.panel_id||e.panel_id===t)&&!this.loading_data:!(e.dragging||e.zooming||this.loading_data)}_getPageOrigin(){const t=this.svg.node().getBoundingClientRect();let e=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,i=this.svg.node();while(null!==i.parentNode)if(i=i.parentNode,i!==document&&"static"!==W["select"](i).style("position")){e=-1*i.getBoundingClientRect().left,n=-1*i.getBoundingClientRect().top;break}return{x:e+t.left,y:n+t.top,width:t.width,height:t.height}}getContainerOffset(){const t={top:0,left:0};let e=this.container.offsetParent||null;while(null!==e)t.top+=e.offsetTop,t.left+=e.offsetLeft,e=e.offsetParent||null;return t}applyPanelYIndexesToPanelLayouts(){this._panel_ids_by_y_index.forEach((t,e)=>{this.panels[t].layout.y_index=e})}getBaseId(){return this.id}rescaleSVG(){const t=this.svg.node().getBoundingClientRect();return this.setDimensions(t.width,t.height),this}initializeLayout(){if(isNaN(this.layout.width)||this.layout.width<=0)throw new Error("Plot layout parameter `width` must be a positive number");return this.layout.responsive_resize=!!this.layout.responsive_resize,this.layout.panels.forEach(t=>{this.addPanel(t)}),this}setDimensions(t,e){if(!isNaN(t)&&t>=0&&!isNaN(e)&&e>=0){const n=e/this._total_height;this.layout.width=Math.max(Math.round(+t),this.layout.min_width),this.layout.responsive_resize&&this.svg&&(this.layout.width=Math.max(this.svg.node().parentNode.getBoundingClientRect().width,this.layout.min_width));let i=0;this._panel_ids_by_y_index.forEach(t=>{const e=this.panels[t],r=this.layout.width,o=e.layout.height*n;e.setDimensions(r,o),e.setOrigin(0,i),i+=o,e.toolbar.update()})}const n=this._total_height;return null!==this.svg&&(this.svg.attr("viewBox",`0 0 ${this.layout.width} ${n}`),this.svg.attr("width",this.layout.width).attr("height",n)),this._initialized&&(this._panel_boundaries.position(),this.toolbar.update(),this.curtain.update(),this.loader.update()),this.emit("layout_changed")}positionPanels(){const t={left:0,right:0};for(let n of Object.values(this.panels))n.layout.interaction.x_linked&&(t.left=Math.max(t.left,n.layout.margin.left),t.right=Math.max(t.right,n.layout.margin.right));let e=0;return this._panel_ids_by_y_index.forEach(n=>{const i=this.panels[n],r=i.layout;if(i.setOrigin(0,e),e+=this.panels[n].layout.height,r.interaction.x_linked){const e=Math.max(t.left-r.margin.left,0)+Math.max(t.right-r.margin.right,0);r.width+=e,r.margin.left=t.left,r.margin.right=t.right,r.cliparea.origin.x=t.left}}),this.setDimensions(),this._panel_ids_by_y_index.forEach(t=>{const e=this.panels[t];e.setDimensions(this.layout.width,e.layout.height)}),this}initialize(){if(this.layout.responsive_resize){W["select"](this.container).classed("lz-container-responsive",!0);const t=()=>window.requestAnimationFrame(()=>this.rescaleSVG());if(window.addEventListener("resize",t),this.trackExternalListener(window,"resize",t),"undefined"!==typeof IntersectionObserver){const t={root:document.documentElement,threshold:.9},e=new IntersectionObserver((t,e)=>{t.some(t=>t.intersectionRatio>0)&&this.rescaleSVG()},t);e.observe(this.container)}const e=()=>this.setDimensions();window.addEventListener("load",e),this.trackExternalListener(window,"load",e)}if(this.layout.mouse_guide){const t=this.svg.append("g").attr("class","lz-mouse_guide").attr("id",this.id+".mouse_guide"),e=t.append("rect").attr("class","lz-mouse_guide-vertical").attr("x",-1),n=t.append("rect").attr("class","lz-mouse_guide-horizontal").attr("y",-1);this._mouse_guide={svg:t,vertical:e,horizontal:n}}this.curtain=Tt.call(this),this.loader=St.call(this),this._panel_boundaries={parent:this,hide_timeout:null,showing:!1,dragging:!1,selectors:[],corner_selector:null,show:function(){if(!this.showing&&!this.parent.curtain.showing){this.showing=!0,this.parent._panel_ids_by_y_index.forEach((t,e)=>{const n=W["select"](this.parent.svg.node().parentNode).insert("div",".lz-data_layer-tooltip").attr("class","lz-panel-boundary").attr("title","Resize panel");n.append("span");const i=W["drag"]();i.on("start",()=>{this.dragging=!0}),i.on("end",()=>{this.dragging=!1}),i.on("drag",()=>{const t=this.parent.panels[this.parent._panel_ids_by_y_index[e]],n=t.layout.height;t.setDimensions(this.parent.layout.width,t.layout.height+W["event"].dy);const i=t.layout.height-n;this.parent._panel_ids_by_y_index.forEach((t,n)=>{const r=this.parent.panels[this.parent._panel_ids_by_y_index[n]];n>e&&(r.setOrigin(r.layout.origin.x,r.layout.origin.y+i),r.toolbar.position())}),this.parent.positionPanels(),this.position()}),n.call(i),this.parent._panel_boundaries.selectors.push(n)});const t=W["select"](this.parent.svg.node().parentNode).insert("div",".lz-data_layer-tooltip").attr("class","lz-panel-corner-boundary").attr("title","Resize plot");t.append("span").attr("class","lz-panel-corner-boundary-outer"),t.append("span").attr("class","lz-panel-corner-boundary-inner");const e=W["drag"]();e.on("start",()=>{this.dragging=!0}),e.on("end",()=>{this.dragging=!1}),e.on("drag",()=>{this.parent.setDimensions(this.parent.layout.width+W["event"].dx,this.parent._total_height+W["event"].dy)}),t.call(e),this.parent._panel_boundaries.corner_selector=t}return this.position()},position:function(){if(!this.showing)return this;const t=this.parent._getPageOrigin();this.selectors.forEach((e,n)=>{const i=this.parent.panels[this.parent._panel_ids_by_y_index[n]],r=i._getPageOrigin(),o=t.x,a=r.y+i.layout.height-12,s=this.parent.layout.width-1;e.style("top",a+"px").style("left",o+"px").style("width",s+"px"),e.select("span").style("width",s+"px")});const e=10,n=16;return this.corner_selector.style("top",t.y+this.parent._total_height-e-n+"px").style("left",t.x+this.parent.layout.width-e-n+"px"),this},hide:function(){return this.showing?(this.showing=!1,this.selectors.forEach(t=>{t.remove()}),this.selectors=[],this.corner_selector.remove(),this.corner_selector=null,this):this}},this.layout.panel_boundaries&&W["select"](this.svg.node().parentNode).on(`mouseover.${this.id}.panel_boundaries`,()=>{clearTimeout(this._panel_boundaries.hide_timeout),this._panel_boundaries.show()}).on(`mouseout.${this.id}.panel_boundaries`,()=>{this._panel_boundaries.hide_timeout=setTimeout(()=>{this._panel_boundaries.hide()},300)}),this.toolbar=new Jt(this).show();for(let l in this.panels)this.panels[l].initialize();const t="."+this.id;if(this.layout.mouse_guide){const e=()=>{this._mouse_guide.vertical.attr("x",-1),this._mouse_guide.horizontal.attr("y",-1)},n=()=>{const t=W["mouse"](this.svg.node());this._mouse_guide.vertical.attr("x",t[0]),this._mouse_guide.horizontal.attr("y",t[1])};this.svg.on(`mouseout${t}-mouse_guide`,e).on(`touchleave${t}-mouse_guide`,e).on(`mousemove${t}-mouse_guide`,n)}const e=()=>{this.stopDrag()},n=()=>{const{_interaction:t}=this;if(t.dragging){const e=W["mouse"](this.svg.node());W["event"]&&W["event"].preventDefault(),t.dragging.dragged_x=e[0]-t.dragging.start_x,t.dragging.dragged_y=e[1]-t.dragging.start_y,this.panels[t.panel_id].render(),t.linked_panel_ids.forEach(t=>{this.panels[t].render()})}};this.svg.on("mouseup"+t,e).on("touchend"+t,e).on("mousemove"+t,n).on("touchmove"+t,n);const i=W["select"]("body"),r=i.node();r&&(r.addEventListener("mouseup",e),r.addEventListener("touchend",e),this.trackExternalListener(r,"mouseup",e),this.trackExternalListener(r,"touchend",e)),this.on("match_requested",t=>{const e=t.data,n=e.active?e.value:null,i=t.target.id;Object.values(this.panels).forEach(t=>{t.id!==i&&Object.values(t.data_layers).forEach(t=>t.destroyAllTooltips(!1))}),this.applyState({lz_match_value:n})}),this._initialized=!0;const o=this.svg.node().getBoundingClientRect(),a=o.width?o.width:this.layout.width,s=o.height?o.height:this._total_height;return this.setDimensions(a,s),this}startDrag(t,e){t=t||null,e=e||null;let n=null;switch(e){case"background":case"x_tick":n="x";break;case"y1_tick":n="y1";break;case"y2_tick":n="y2";break}if(!(t instanceof ee)||!n||!this._canInteract())return this.stopDrag();const i=W["mouse"](this.svg.node());return this._interaction={panel_id:t.id,linked_panel_ids:t.getLinkedPanelIds(n),dragging:{method:e,start_x:i[0],start_y:i[1],dragged_x:0,dragged_y:0,axis:n}},this.svg.style("cursor","all-scroll"),this}stopDrag(){const{_interaction:t}=this;if(!t.dragging)return this;if("object"!=typeof this.panels[t.panel_id])return this._interaction={},this;const e=this.panels[t.panel_id],n=(t,n,i)=>{e._data_layer_ids_by_z_index.forEach(r=>{const o=e.data_layers[r].layout[t+"_axis"];o.axis===n&&(o.floor=i[0],o.ceiling=i[1],delete o.lower_buffer,delete o.upper_buffer,delete o.min_extent,delete o.ticks)})};switch(t.dragging.method){case"background":case"x_tick":0!==t.dragging.dragged_x&&(n("x",1,e.x_extent),this.applyState({start:e.x_extent[0],end:e.x_extent[1]}));break;case"y1_tick":case"y2_tick":if(0!==t.dragging.dragged_y){const i=parseInt(t.dragging.method[1]);n("y",i,e[`y${i}_extent`])}break}return this._interaction={},this.svg.style("cursor",null),this}get _total_height(){return this.layout.panels.reduce((t,e)=>e.height+t,0)}}function oe(t,e,n){const i={0:"",3:"K",6:"M",9:"G"};if(n=n||!1,isNaN(e)||null===e){const n=Math.log(t)/Math.LN10;e=Math.min(Math.max(n-n%3,0),9)}const r=e-Math.floor((Math.log(t)/Math.LN10).toFixed(e+3)),o=Math.min(Math.max(e,0),2),a=Math.min(Math.max(r,o),12);let s=""+(t/Math.pow(10,e)).toFixed(a);return n&&"undefined"!==typeof i[e]&&(s+=` ${i[e]}b`),s}function ae(t){let e=t.toUpperCase();e=e.replace(/,/g,"");const n=/([KMG])[B]*$/,i=n.exec(e);let r=1;return i&&(r="M"===i[1]?1e6:"G"===i[1]?1e9:1e3,e=e.replace(n,"")),e=Number(e)*r,e}function se(t,e,n){("undefined"==typeof n||isNaN(parseInt(n)))&&(n=5),n=+n;const i=n/3,r=.75,o=1.5,a=.5+1.5*o,s=Math.abs(t[0]-t[1]);let l=s/n;Math.log(s)/Math.LN10<-2&&(l=Math.max(Math.abs(s))*r/i);const c=Math.pow(10,Math.floor(Math.log(l)/Math.LN10));let u=0;c<1&&0!==c&&(u=Math.abs(Math.round(Math.log(c)/Math.LN10)));let h=c;2*c-l<o*(l-h)&&(h=2*c,5*c-l<a*(l-h)&&(h=5*c,10*c-l<o*(l-h)&&(h=10*c)));let d=[],f=parseFloat((Math.floor(t[0]/h)*h).toFixed(u));while(f<t[1])d.push(f),f+=h,u>0&&(f=parseFloat(f.toFixed(u)));return d.push(f),"undefined"!=typeof e&&-1!==["low","high","both","neither"].indexOf(e)||(e="neither"),"low"!==e&&"both"!==e||d[0]<t[0]&&(d=d.slice(1)),"high"!==e&&"both"!==e||d[d.length-1]>t[1]&&d.pop(),d}function le(t,e,n){if("object"!=typeof e)throw new Error("invalid arguments: data is not an object");if("string"!=typeof t)throw new Error("invalid arguments: html is not a string");const i=[],r=/{{(?:(#if )?([\w+_:|]+)|(#else)|(\/if))}}/;while(t.length>0){const e=r.exec(t);e?0!==e.index?(i.push({text:t.slice(0,e.index)}),t=t.slice(e.index)):"#if "===e[1]?(i.push({condition:e[2]}),t=t.slice(e[0].length)):e[2]?(i.push({variable:e[2]}),t=t.slice(e[0].length)):"#else"===e[3]?(i.push({branch:"else"}),t=t.slice(e[0].length)):"/if"===e[4]?(i.push({close:"if"}),t=t.slice(e[0].length)):(console.error(`Error tokenizing tooltip when remaining template is ${JSON.stringify(t)} and previous tokens are ${JSON.stringify(i)} and current regex match is ${JSON.stringify([e[1],e[2],e[3]])}`),t=t.slice(e[0].length)):(i.push({text:t}),t="")}const o=function(){const t=i.shift();if("undefined"!==typeof t.text||t.variable)return t;if(t.condition){let e=t.then=[];t.else=[];while(i.length>0){if("if"===i[0].close){i.shift();break}"else"===i[0].branch&&(i.shift(),e=t.else),e.push(o())}return t}return console.error("Error making tooltip AST due to unknown token "+JSON.stringify(t)),{text:""}},a=[];while(i.length>0)a.push(o());const s=function(t){return Object.prototype.hasOwnProperty.call(s.cache,t)||(s.cache[t]=new nt(t).resolve(e,n)),s.cache[t]};s.cache={};const l=function(t){if("undefined"!==typeof t.text)return t.text;if(t.variable){try{const e=s(t.variable);if(-1!==["string","number","boolean"].indexOf(typeof e))return e;if(null===e)return""}catch(e){console.error("Error while processing variable "+JSON.stringify(t.variable))}return`{{${t.variable}}}`}if(t.condition){try{const e=s(t.condition);if(e)return t.then.map(l).join("");if(t.else)return t.else.map(l).join("")}catch(e){console.error("Error while processing condition "+JSON.stringify(t.variable))}return""}console.error("Error rendering tooltip due to unknown AST node "+JSON.stringify(t))};return a.map(l).join("")}function ce(t,e,n){if("undefined"==typeof t)throw new Error("LocusZoom.populate selector not defined");let i;return W["select"](t).html(""),W["select"](t).call((function(t){if("undefined"==typeof t.node().id){let e=0;while(!W["select"]("#lz-"+e).empty())e++;t.attr("id","#lz-"+e)}if(i=new re(t.node().id,e,n),i.container=t.node(),"undefined"!==typeof t.node().dataset&&"undefined"!==typeof t.node().dataset.region){const e=ue(t.node().dataset.region);Object.keys(e).forEach((function(t){i.state[t]=e[t]}))}i.svg=W["select"]("div#"+i.id).append("svg").attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("id",i.id+"_svg").attr("class","lz-locuszoom").call(Rt,i.layout.style),i.setDimensions(),i.positionPanels(),i.initialize(),e&&i.refresh()})),i}function ue(t){const e=/^(\w+):([\d,.]+[kmgbKMGB]*)([-+])([\d,.]+[kmgbKMGB]*)$/,n=/^(\w+):([\d,.]+[kmgbKMGB]*)$/;let i=e.exec(t);if(i){if("+"===i[3]){const t=ae(i[2]),e=ae(i[4]);return{chr:i[1],start:t-e,end:t+e}}return{chr:i[1],start:ae(i[2]),end:ae(i[4])}}return i=n.exec(t),i?{chr:i[1],position:ae(i[2])}:null}const he=new d;he.add("=",(t,e)=>t===e),he.add("!=",(t,e)=>t!=e),he.add("<",(t,e)=>t<e),he.add("<=",(t,e)=>t<=e),he.add(">",(t,e)=>t>e),he.add(">=",(t,e)=>t>=e),he.add("%",(t,e)=>t%e),he.add("in",(t,e)=>e&&e.includes(t)),he.add("match",(t,e)=>t&&t.includes(e));var de=he;const fe=(t,e)=>"undefined"==typeof e||t.field_value!==e?"undefined"!=typeof t.else?t.else:null:t.then,pe=(t,e)=>{const n=t.breaks||[],i=t.values||[];if("undefined"==typeof e||null===e||isNaN(+e))return t.null_value?t.null_value:null;const r=n.reduce((function(t,n){return+e<t||+e>=t&&+e<n?t:n}));return i[n.indexOf(r)]},me=(t,e)=>"undefined"!=typeof e&&t.categories.includes(e)?t.values[t.categories.indexOf(e)]:t.null_value?t.null_value:null,ge=(t,e,n)=>{const i=t.values;return i[n%i.length]};let be=(t,e,n)=>{const i=t._cache=t._cache||new Map,r=t.max_cache_size||500;if(i.size>=r&&i.clear(),i.has(e))return i.get(e);let o=0;e=String(e);for(let l=0;l<e.length;l++){let t=e.charCodeAt(l);o=(o<<5)-o+t,o|=0}const a=t.values,s=a[Math.abs(o)%a.length];return i.set(e,s),s};const ve=(t,e)=>{var n=t.breaks||[],i=t.values||[],r=t.null_value?t.null_value:null;if(n.length<2||n.length!==i.length)return r;if("undefined"==typeof e||null===e||isNaN(+e))return r;if(+e<=t.breaks[0])return i[0];if(+e>=t.breaks[t.breaks.length-1])return i[n.length-1];{var o=null;if(n.forEach((function(t,i){i&&n[i-1]<=+e&&n[i]>=+e&&(o=i)})),null===o)return r;const t=(+e-n[o-1])/(n[o]-n[o-1]);return isFinite(t)?W["interpolate"](i[o-1],i[o])(t):r}};function ye(t,e){if(void 0===e)return null;const{beta_field:n,stderr_beta_field:i,"+":r=null,"-":o=null}=t;if(!n||!i)throw new Error("effect_direction must specify how to find required 'beta' and 'stderr_beta' fields");const a=e[n],s=e[i];if(void 0!==a)if(void 0!==s){if(a-1.96*s>0)return r;if(a+1.96*s<0)return o||null}else{if(a>0)return r;if(a<0)return o}return null}const _e=new d;for(let[e,Fn]of Object.entries(l))_e.add(e,Fn);_e.add("if",fe);var we=_e;const xe={id:"",type:"",tag:"custom_data_type",namespace:{},data_operations:[],id_field:"id",filters:null,match:{},x_axis:{},y_axis:{},legend:null,tooltip:{},tooltip_positioning:"horizontal",behaviors:{}};class Ee{constructor(t,e){this._initialized=!1,this._layout_idx=null,this.id=null,this._base_id=null,this.parent=e||null,this.svg={},this.parent_plot=null,e&&(this.parent_plot=e.parent),this.layout=vt(t||{},xe),this.layout.id&&(this.id=this.layout.id),this._filter_func=null,this.layout.x_axis!=={}&&"number"!==typeof this.layout.x_axis.axis&&(this.layout.x_axis.axis=1),this.layout.y_axis!=={}&&"number"!==typeof this.layout.y_axis.axis&&(this.layout.y_axis.axis=1),this._base_layout=yt(this.layout),this.state={},this._state_id=null,this._layer_state=null,this._setDefaultState(),this.data=[],this.layout.tooltip&&(this._tooltips={}),this._global_statuses={highlighted:!1,selected:!1,faded:!1,hidden:!1},this._data_contract=new Set,this._entities=new Map,this._dependencies=[],this.mutateLayout()}render(){throw new Error("Method must be implemented")}moveForward(){const t=this.parent._data_layer_ids_by_z_index,e=this.layout.z_index;return t[e+1]&&(t[e]=t[e+1],t[e+1]=this.id,this.parent.resortDataLayers()),this}moveBack(){const t=this.parent._data_layer_ids_by_z_index,e=this.layout.z_index;return t[e-1]&&(t[e]=t[e-1],t[e-1]=this.id,this.parent.resortDataLayers()),this}setElementAnnotation(t,e,n){const i=this.getElementId(t);return this._layer_state.extra_fields[i]||(this._layer_state.extra_fields[i]={}),this._layer_state.extra_fields[i][e]=n,this}setFilter(t){console.warn("The setFilter method is deprecated and will be removed in the future; please use the layout API with a custom filter function instead"),this._filter_func=t}mutateLayout(){if(this.parent_plot){const{namespace:t,data_operations:e}=this.layout;this._data_contract=wt(this.layout,Object.keys(t));const[n,i]=this.parent_plot.lzd.config_to_sources(t,e,this);this._entities=n,this._dependencies=i}}_getDataExtent(t,e){return t=t||this.data,W["extent"](t,t=>{const n=new nt(e.field);return+n.resolve(t)})}getElementId(t){const e=Symbol.for("lzID");if(t[e])return t[e];const n=this.layout.id_field;let i=t[n];if("undefined"===typeof i&&/{{[^{}]*}}/.test(n)&&(i=le(n,t,{})),null===i||void 0===i)throw new Error("Unable to generate element ID");const r=i.toString().replace(/\W/g,""),o=`${this.getBaseId()}-${r}`.replace(/([:.[\],])/g,"_");return t[e]=o,o}getElementStatusNodeId(t){return null}getElementById(t){const e=W["select"]("#"+t.replace(/([:.[\],])/g,"\\$1"));return!e.empty()&&e.data()&&e.data().length?e.data()[0]:null}applyDataMethods(){const t=this.layout.match&&this.layout.match.receive,e=de.get(this.layout.match&&this.layout.match.operator||"="),n=this.parent_plot.state.lz_match_value,i=t?new nt(t):null;if(this.data.length&&this._data_contract.size){const t=new Set(this._data_contract);for(let e of this.data)if(Object.keys(e).forEach(e=>t.delete(e)),!t.size)break;t.size&&console.debug(`Data layer '${this.getBaseId()}' did not receive all expected fields from retrieved data. Missing fields are: ${[...t]}\n  Common reasons for this error include API payloads with missing fields, or data layer layouts that use two kinds of data and need join logic in "data_operations"                \n  If this field is optional, you can safely ignore this message. Examples include {{#if value}} tags or conditional color rules.\n`)}return this.data.forEach((r,o)=>{t&&null!==n&&void 0!==n&&(r.lz_is_match=e(i.resolve(r),n)),r.getDataLayer=()=>this,r.getPanel=()=>this.parent||null,r.getPlot=()=>{const t=this.parent;return t?t.parent:null}}),this.applyCustomDataMethods(),this}applyCustomDataMethods(){return this}resolveScalableParameter(t,n,i){let r=null;if(Array.isArray(t)){let e=0;while(null===r&&e<t.length)r=this.resolveScalableParameter(t[e],n,i),e++}else switch(typeof t){case"number":case"string":r=t;break;case"object":if(t.scale_function){const o=we.get(t.scale_function);if(t.field){const a=new nt(t.field);let s;try{s=this.getElementAnnotation(n)}catch(e){s=null}r=o(t.parameters||{},a.resolve(n,s),i)}else r=o(t.parameters||{},n,i)}break}return r}getAxisExtent(t){if(!["x","y"].includes(t))throw new Error("Invalid dimension identifier");const e=t+"_axis",n=this.layout[e];if(!isNaN(n.floor)&&!isNaN(n.ceiling))return[+n.floor,+n.ceiling];let i=[];if(n.field&&this.data){if(this.data.length){i=this._getDataExtent(this.data,n);const t=i[1]-i[0];if(isNaN(n.lower_buffer)||(i[0]-=t*n.lower_buffer),isNaN(n.upper_buffer)||(i[1]+=t*n.upper_buffer),"object"==typeof n.min_extent){const t=n.min_extent[0],e=n.min_extent[1];isNaN(t)||isNaN(e)||(i[0]=Math.min(i[0],t)),isNaN(e)||(i[1]=Math.max(i[1],e))}return[isNaN(n.floor)?i[0]:n.floor,isNaN(n.ceiling)?i[1]:n.ceiling]}return i=n.min_extent||[],i}return"x"!==t||isNaN(this.state.start)||isNaN(this.state.end)?[]:[this.state.start,this.state.end]}getTicks(t,e){if(!["x","y1","y2"].includes(t))throw new Error("Invalid dimension identifier "+t);return[]}_getTooltipPosition(t){const e=this.parent,n=e[`y${this.layout.y_axis.axis}_scale`],i=e[`y${this.layout.y_axis.axis}_extent`],r=e.x_scale(e.x_extent[0]),o=n(i[0]);return{x_min:r,x_max:r,y_min:o,y_max:o}}_drawTooltip(t,e,n,i,r,o){const a=this.parent.layout,s=this.parent_plot.layout,l=this.layout,c=7,u=1,h=c+u,d=6,f=this._getPageOrigin(),p=t.selector.node().getBoundingClientRect(),m=a.height-(a.margin.top+a.margin.bottom),g=s.width-(a.margin.left+a.margin.right);n=Math.max(n,0),i=Math.min(i,g),r=Math.max(r,0),o=Math.min(o,m);const b=(n+i)/2,v=(r+o)/2;let y,_,w,x,E,C=i-b,k=o-v,M=l.tooltip_positioning;if("vertical"===M?(C=0,M=p.height+h>m-(v+k)?"top":"bottom"):"horizontal"===M&&(k=0,M=b<=s.width/2?"left":"right"),"top"===M||"bottom"===M){const t=Math.max(p.width/2-b,0),e=Math.max(p.width/2+b-g,0);_=f.x+b-p.width/2-e+t,E=f.x+b-_-c,"top"===M?(y=f.y+v-(k+p.height+h),w="down",x=p.height-u):(y=f.y+v+k+h,w="up",x=0-h)}else{if("left"!==M&&"right"!==M)throw new Error("Unrecognized placement value");"left"===M?(_=f.x+b+C+h,w="left",E=-1*(c+u)):(_=f.x+b-p.width-C-h,w="right",E=p.width-u),v-p.height/2<=0?(y=f.y+v-1.5*c-d,x=d):v+p.height/2>=m?(y=f.y+v+c+d-p.height,x=p.height-2*c-d):(y=f.y+v-p.height/2,x=p.height/2-c)}return t.selector.style("left",_+"px").style("top",y+"px"),t.arrow||(t.arrow=t.selector.append("div").style("position","absolute")),t.arrow.attr("class","lz-data_layer-tooltip-arrow_"+w).style("left",E+"px").style("top",x+"px"),this}filter(t,e,n,i){let r=!0;return t.forEach(t=>{const{field:n,operator:i,value:o}=t,a=de.get(i),s=this.getElementAnnotation(e),l=n?new nt(n).resolve(e,s):e;a(l,o)||(r=!1)}),r}getElementAnnotation(t,e){const n=this.getElementId(t),i=this._layer_state.extra_fields[n];return e?i&&i[e]:i}_applyFilters(t){return t=t||this.data,this._filter_func?t=t.filter(this._filter_func):this.layout.filters&&(t=t.filter(this.filter.bind(this,this.layout.filters))),t}_setDefaultState(){const t={status_flags:{},extra_fields:{}},e=t.status_flags;U.adjectives.forEach(t=>{e[t]=e[t]||new Set}),e["has_tooltip"]=e["has_tooltip"]||new Set,this.parent&&(this._state_id=`${this.parent.id}.${this.id}`,this.state=this.parent.state,this.state[this._state_id]=t),this._layer_state=t}getBaseId(){return this._base_id?this._base_id:this.parent?`${this.parent_plot.id}.${this.parent.id}.${this.id}`:(this.id||"").toString()}getAbsoluteDataHeight(){const t=this.svg.group.node().getBoundingClientRect();return t.height}initialize(){this._base_id=this.getBaseId();const t=this.getBaseId();return this.svg.container=this.parent.svg.group.append("g").attr("class","lz-data_layer-container").attr("id",t+".data_layer_container"),this.svg.clipRect=this.svg.container.append("clipPath").attr("id",t+".clip").append("rect"),this.svg.group=this.svg.container.append("g").attr("id",t+".data_layer").attr("clip-path",`url(#${t}.clip)`),this}createTooltip(t){if("object"!=typeof this.layout.tooltip)throw new Error(`DataLayer [${this.id}] layout does not define a tooltip`);const e=this.getElementId(t);if(!this._tooltips[e])return this._tooltips[e]={data:t,arrow:null,selector:W["select"](this.parent_plot.svg.node().parentNode).append("div").attr("class","lz-data_layer-tooltip").attr("id",e+"-tooltip")},this._layer_state.status_flags["has_tooltip"].add(e),this.updateTooltip(t),this;this.positionTooltip(e)}updateTooltip(t,e){return"undefined"==typeof e&&(e=this.getElementId(t)),this._tooltips[e].selector.html(""),this._tooltips[e].arrow=null,this.layout.tooltip.html&&this._tooltips[e].selector.html(le(this.layout.tooltip.html,t,this.getElementAnnotation(t))),this.layout.tooltip.closable&&this._tooltips[e].selector.insert("button",":first-child").attr("class","lz-tooltip-close-button").attr("title","Close").text("").on("click",()=>{this.destroyTooltip(e)}),this._tooltips[e].selector.data([t]),this.positionTooltip(e),this}destroyTooltip(t,e){let n;if(n="string"==typeof t?t:this.getElementId(t),this._tooltips[n]&&("object"==typeof this._tooltips[n].selector&&this._tooltips[n].selector.remove(),delete this._tooltips[n]),!e){const t=this._layer_state.status_flags["has_tooltip"];t.delete(n)}return this}destroyAllTooltips(t=!0){for(let e in this._tooltips)this.destroyTooltip(e,t);return this}positionTooltip(t){if("string"!=typeof t)throw new Error("Unable to position tooltip: id is not a string");if(!this._tooltips[t])throw new Error("Unable to position tooltip: id does not point to a valid tooltip");const e=this._tooltips[t],n=this._getTooltipPosition(e);if(!n)return null;this._drawTooltip(e,this.layout.tooltip_positioning,n.x_min,n.x_max,n.y_min,n.y_max)}positionAllTooltips(){for(let t in this._tooltips)this.positionTooltip(t);return this}showOrHideTooltip(t,e){const n=this.layout.tooltip;if("object"!=typeof n)return this;const i=this.getElementId(t),r=(t,e,n)=>{let i=null;if("object"!=typeof t||null===t)return null;if(Array.isArray(e))n=n||"and",i=1===e.length?t[e[0]]:e.reduce((e,i)=>"and"===n?t[e]&&t[i]:"or"===n?t[e]||t[i]:null);else{if("object"!=typeof e)return!1;{let o;for(let a in e)o=r(t,e[a],a),null===i?i=o:"and"===n?i=i&&o:"or"===n&&(i=i||o)}}return i};let o={};"string"==typeof n.show?o={and:[n.show]}:"object"==typeof n.show&&(o=n.show);let a={};"string"==typeof n.hide?a={and:[n.hide]}:"object"==typeof n.hide&&(a=n.hide);const s=this._layer_state;var l={};U.adjectives.forEach(t=>{const e="un"+t;l[t]=s.status_flags[t].has(i),l[e]=!l[t]});const c=r(l,o),u=r(l,a),h=s.status_flags["has_tooltip"].has(i),d=!e&&!h;return!c||d||u?this.destroyTooltip(t):this.createTooltip(t),this}setElementStatus(t,e,n,i){if("has_tooltip"===t)return this;let r;"undefined"==typeof n&&(n=!0);try{r=this.getElementId(e)}catch(c){return this}i&&this.setAllElementStatus(t,!n),W["select"]("#"+r).classed(`lz-data_layer-${this.layout.type}-${t}`,n);const o=this.getElementStatusNodeId(e);null!==o&&W["select"]("#"+o).classed(`lz-data_layer-${this.layout.type}-statusnode-${t}`,n);const a=!this._layer_state.status_flags[t].has(r);n&&a&&this._layer_state.status_flags[t].add(r),n||a||this._layer_state.status_flags[t].delete(r),this.showOrHideTooltip(e,a),a&&this.parent.emit("layout_changed",!0);const s="selected"===t;!s||!a&&n||this.parent.emit("element_selection",{element:e,active:n},!0);const l=this.layout.match&&this.layout.match.send;return!s||"undefined"===typeof l||!a&&n||this.parent.emit("match_requested",{value:new nt(l).resolve(e),active:n},!0),this}setAllElementStatus(t,e){if("undefined"==typeof t||!U.adjectives.includes(t))throw new Error("Invalid status");if("undefined"==typeof this._layer_state.status_flags[t])return this;if("undefined"==typeof e&&(e=!0),e)this.data.forEach(e=>this.setElementStatus(t,e,!0));else{const e=new Set(this._layer_state.status_flags[t]);e.forEach(e=>{const n=this.getElementById(e);"object"==typeof n&&null!==n&&this.setElementStatus(t,n,!1)}),this._layer_state.status_flags[t]=new Set}return this._global_statuses[t]=e,this}applyBehaviors(t){"object"==typeof this.layout.behaviors&&Object.keys(this.layout.behaviors).forEach(e=>{const n=/(click|mouseover|mouseout)/.exec(e);n&&t.on(`${n[0]}.${e}`,this.executeBehaviors(e,this.layout.behaviors[e]))})}executeBehaviors(t,e){const n={ctrl:t.includes("ctrl"),shift:t.includes("shift")},i=this;return function(t){t=t||W["select"](W["event"].target).datum(),n.ctrl===!!W["event"].ctrlKey&&n.shift===!!W["event"].shiftKey&&e.forEach(e=>{if("object"==typeof e&&null!==e)switch(e.action){case"set":i.setElementStatus(e.status,t,!0,e.exclusive);break;case"unset":i.setElementStatus(e.status,t,!1,e.exclusive);break;case"toggle":var n=i._layer_state.status_flags[e.status].has(i.getElementId(t)),r=e.exclusive&&!n;i.setElementStatus(e.status,t,!n,r);break;case"link":if("string"==typeof e.href){const n=le(e.href,t,i.getElementAnnotation(t));"string"==typeof e.target?window.open(n,e.target):window.location.href=n}break;default:break}})}}_getPageOrigin(){const t=this.parent._getPageOrigin();return{x:t.x+this.parent.layout.margin.left,y:t.y+this.parent.layout.margin.top}}applyAllElementStatus(){const t=this._layer_state.status_flags,n=this;for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&t[i].forEach(t=>{try{this.setElementStatus(i,this.getElementById(t),!0)}catch(e){console.warn(`Unable to apply state: ${n._state_id}, ${i}`),console.error(e)}})}draw(){return this.svg.container.attr("transform",`translate(${this.parent.layout.cliparea.origin.x}, ${this.parent.layout.cliparea.origin.y})`),this.svg.clipRect.attr("width",this.parent.layout.cliparea.width).attr("height",this.parent.layout.cliparea.height),this.positionAllTooltips(),this}reMap(){return this.destroyAllTooltips(),this.parent_plot.lzd.getData(this.state,this._entities,this._dependencies).then(t=>{this.data=t,this.applyDataMethods(),this._initialized=!0,this.parent.emit("data_from_layer",{layer:this.getBaseId(),content:yt(t)},!0)})}}U.verbs.forEach((t,e)=>{const n=U.adjectives[e],i="un"+t;Ee.prototype[t+"Element"]=function(t,e=!1){return e=!!e,this.setElementStatus(n,t,!0,e),this},Ee.prototype[i+"Element"]=function(t,e){return e="undefined"!=typeof e&&!!e,this.setElementStatus(n,t,!1,e),this},Ee.prototype[t+"AllElements"]=function(){return this.setAllElementStatus(n,!0),this},Ee.prototype[i+"AllElements"]=function(){return this.setAllElementStatus(n,!1),this}});const Ce={color:"#000000",filters:null,tooltip_positioning:"vertical",hitarea_width:8};class ke extends Ee{constructor(t){if(!Array.isArray(t.filters))throw new Error("Annotation track must specify array of filters for selecting points to annotate");vt(t,Ce),super(...arguments)}initialize(){super.initialize(),this._hitareas_group=this.svg.group.append("g").attr("class",`lz-data_layer-${this.layout.type}-hit_areas`),this._visible_lines_group=this.svg.group.append("g").attr("class",`lz-data_layer-${this.layout.type}-visible_lines`)}render(){const t=this._applyFilters(),e=this._hitareas_group.selectAll("rect.lz-data_layer-"+this.layout.type).data(t,t=>t[this.layout.id_field]),n=(e,n)=>{const i=this.parent["x_scale"](e[this.layout.x_axis.field]);let r=i-this.layout.hitarea_width/2;if(n>=1){const e=t[n-1],o=this.parent["x_scale"](e[this.layout.x_axis.field]);r=Math.max(r,(i+o)/2)}return[r,i]};e.enter().append("rect").attr("class","lz-data_layer-"+this.layout.type).merge(e).attr("id",t=>this.getElementId(t)).attr("height",this.parent.layout.height).attr("opacity",0).attr("x",(t,e)=>{const i=n(t,e);return i[0]}).attr("width",(t,e)=>{const i=n(t,e);return i[1]-i[0]+this.layout.hitarea_width/2});const i=1,r=this._visible_lines_group.selectAll("rect.lz-data_layer-"+this.layout.type).data(t,t=>t[this.layout.id_field]);r.enter().append("rect").attr("class","lz-data_layer-"+this.layout.type).merge(r).attr("id",t=>this.getElementId(t)).attr("x",t=>this.parent["x_scale"](t[this.layout.x_axis.field])-i/2).attr("width",i).attr("height",this.parent.layout.height).attr("fill",(t,e)=>this.resolveScalableParameter(this.layout.color,t,e)),r.exit().remove(),this.svg.group.call(this.applyBehaviors.bind(this)),e.exit().remove()}_getTooltipPosition(t){const e=this.parent,n=e.layout.height-(e.layout.margin.top+e.layout.margin.bottom),i=1,r=e.x_scale(t.data[this.layout.x_axis.field]),o=n/2;return{x_min:r-i,x_max:r+i,y_min:o-e.layout.margin.top,y_max:o+e.layout.margin.bottom}}}const Me={color:"#CCCCCC",fill_opacity:.5,filters:null,regions:[],id_field:"id",start_field:"start",end_field:"end",merge_field:null};class Oe extends Ee{constructor(t){if(vt(t,Me),t.interaction||t.behaviors)throw new Error("highlight_regions layer does not support mouse events");if(t.regions.length&&t.namespace&&Object.keys(t.namespace).length)throw new Error('highlight_regions layer can specify "regions" in layout, OR external data "fields", but not both');super(...arguments)}_mergeNodes(t){const{end_field:e,merge_field:n,start_field:i}=this.layout;if(!n)return t;t.sort((t,e)=>W["ascending"](t[n],e[n])||W["ascending"](t[i],e[i]));let r=[];return t.forEach((function(t,o){const a=r[r.length-1]||t;if(t[n]===a[n]&&t[i]<=a[e]){const n=Math.min(a[i],t[i]),o=Math.max(a[e],t[e]);t=Object.assign({},a,t,{[i]:n,[e]:o}),r.pop()}r.push(t)})),r}render(){const{x_scale:t}=this.parent;let e=this.layout.regions.length?this.layout.regions:this.data;e.forEach((t,e)=>t.id||(t.id=e)),e=this._applyFilters(e),e=this._mergeNodes(e);const n=this.svg.group.selectAll("rect.lz-data_layer-"+this.layout.type).data(e);n.enter().append("rect").attr("class","lz-data_layer-"+this.layout.type).merge(n).attr("id",t=>this.getElementId(t)).attr("x",e=>t(e[this.layout.start_field])).attr("width",e=>t(e[this.layout.end_field])-t(e[this.layout.start_field])).attr("height",this.parent.layout.height).attr("fill",(t,e)=>this.resolveScalableParameter(this.layout.color,t,e)).attr("fill-opacity",(t,e)=>this.resolveScalableParameter(this.layout.fill_opacity,t,e)),n.exit().remove(),this.svg.group.style("pointer-events","none")}_getTooltipPosition(t){throw new Error("This layer does not support tooltips")}}const Te={color:"seagreen",hitarea_width:"10px",style:{fill:"none","stroke-width":"1px","stroke-opacity":"100%"},tooltip_positioning:"top"};class Se extends Ee{constructor(t){t=vt(t,Te),super(...arguments)}render(){const t=this,e=t.layout,n=t.parent["x_scale"],i=t.parent[`y${e.y_axis.axis}_scale`],r=this._applyFilters();function o(t){const r=t[e.x_axis.field1],o=t[e.x_axis.field2],a=(r+o)/2,s=[[n(r),i(0)],[n(a),i(t[e.y_axis.field])],[n(o),i(0)]],l=W["line"]().x(t=>t[0]).y(t=>t[1]).curve(W["curveNatural"]);return l(s)}const a=this.svg.group.selectAll("path.lz-data_layer-arcs-hitarea").data(r,t=>this.getElementId(t)),s=this.svg.group.selectAll("path.lz-data_layer-arcs").data(r,t=>this.getElementId(t));return this.svg.group.call(Rt,e.style),a.enter().append("path").attr("class","lz-data_layer-arcs-hitarea").merge(a).attr("id",t=>this.getElementId(t)).style("fill","none").style("stroke-width",e.hitarea_width).style("stroke-opacity",0).style("stroke","transparent").attr("d",t=>o(t)),s.enter().append("path").attr("class","lz-data_layer-arcs").merge(s).attr("id",t=>this.getElementId(t)).attr("stroke",(t,e)=>this.resolveScalableParameter(this.layout.color,t,e)).attr("d",(t,e)=>o(t)),s.exit().remove(),a.exit().remove(),this.svg.group.call(this.applyBehaviors.bind(this)),this}_getTooltipPosition(t){const e=this.parent,n=this.layout,i=t.data[n.x_axis.field1],r=t.data[n.x_axis.field2],o=e[`y${n.y_axis.axis}_scale`];return{x_min:e.x_scale(Math.min(i,r)),x_max:e.x_scale(Math.max(i,r)),y_min:o(t.data[n.y_axis.field]),y_max:o(0)}}}const Re={stroke:"rgb(54, 54, 150)",color:"#363696",label_font_size:15,label_exon_spacing:3,exon_height:10,bounding_box_padding:3,track_vertical_spacing:5,tooltip_positioning:"top"};class je extends Ee{constructor(t){t=vt(t,Re),super(...arguments),this.transcript_idx=0,this.tracks=1,this.gene_track_index={1:[]}}getElementStatusNodeId(t){return this.getElementId(t)+"-statusnode"}getTrackHeight(){return 2*this.layout.bounding_box_padding+this.layout.label_font_size+this.layout.label_exon_spacing+this.layout.exon_height+this.layout.track_vertical_spacing}assignTracks(t){const n=(t,n)=>{try{const e=this.svg.group.append("text").attr("x",0).attr("y",0).attr("class","lz-data_layer-genes lz-label").style("font-size",n).text(t+""),i=e.node().getBBox().width;return e.remove(),i}catch(e){return 0}};return this.tracks=1,this.gene_track_index={1:[]},t.filter(t=>!(t.end<this.state.start)&&!(t.start>this.state.end)).map(t=>{if(t.gene_id&&t.gene_id.indexOf(".")){const e=t.gene_id.split(".");t.gene_id=e[0],t.gene_version=e[1]}if(t.transcript_id=t.transcripts[this.transcript_idx].transcript_id,t.display_range={start:this.parent.x_scale(Math.max(t.start,this.state.start)),end:this.parent.x_scale(Math.min(t.end,this.state.end))},t.display_range.label_width=n(t.gene_name,this.layout.label_font_size),t.display_range.width=t.display_range.end-t.display_range.start,t.display_range.text_anchor="middle",t.display_range.width<t.display_range.label_width){if(t.start<this.state.start)t.display_range.end=t.display_range.start+t.display_range.label_width+this.layout.label_font_size,t.display_range.text_anchor="start";else if(t.end>this.state.end)t.display_range.start=t.display_range.end-t.display_range.label_width-this.layout.label_font_size,t.display_range.text_anchor="end";else{const e=(t.display_range.label_width-t.display_range.width)/2+this.layout.label_font_size;t.display_range.start-e<this.parent.x_scale(this.state.start)?(t.display_range.start=this.parent.x_scale(this.state.start),t.display_range.end=t.display_range.start+t.display_range.label_width,t.display_range.text_anchor="start"):t.display_range.end+e>this.parent.x_scale(this.state.end)?(t.display_range.end=this.parent.x_scale(this.state.end),t.display_range.start=t.display_range.end-t.display_range.label_width,t.display_range.text_anchor="end"):(t.display_range.start-=e,t.display_range.end+=e)}t.display_range.width=t.display_range.end-t.display_range.start}t.display_range.start-=this.layout.bounding_box_padding,t.display_range.end+=this.layout.bounding_box_padding,t.display_range.width+=2*this.layout.bounding_box_padding,t.display_domain={start:this.parent.x_scale.invert(t.display_range.start),end:this.parent.x_scale.invert(t.display_range.end)},t.display_domain.width=t.display_domain.end-t.display_domain.start,t.track=null;let e=1;while(null===t.track){let n=!1;this.gene_track_index[e].map(e=>{if(!n){const i=Math.min(e.display_range.start,t.display_range.start),r=Math.max(e.display_range.end,t.display_range.end);r-i<e.display_range.width+t.display_range.width&&(n=!0)}}),n?(e++,e>this.tracks&&(this.tracks=e,this.gene_track_index[e]=[])):(t.track=e,this.gene_track_index[e].push(t))}return t.parent=this,t.transcripts.map((e,n)=>{t.transcripts[n].parent=t,t.transcripts[n].exons.map((e,i)=>t.transcripts[n].exons[i].parent=t.transcripts[n])}),t})}render(){const t=this;let e,n=this._applyFilters();n=this.assignTracks(n);const i=this.svg.group.selectAll("g.lz-data_layer-genes").data(n,t=>t.gene_name);i.enter().append("g").attr("class","lz-data_layer-genes").merge(i).attr("id",t=>this.getElementId(t)).each((function(n){const i=n.parent,r=W["select"](this).selectAll("rect.lz-data_layer-genes.lz-data_layer-genes-statusnode").data([n],t=>i.getElementStatusNodeId(t));e=i.getTrackHeight()-i.layout.track_vertical_spacing,r.enter().append("rect").attr("class","lz-data_layer-genes lz-data_layer-genes-statusnode").merge(r).attr("id",t=>i.getElementStatusNodeId(t)).attr("rx",i.layout.bounding_box_padding).attr("ry",i.layout.bounding_box_padding).attr("width",t=>t.display_range.width).attr("height",e).attr("x",t=>t.display_range.start).attr("y",t=>(t.track-1)*i.getTrackHeight()),r.exit().remove();const o=W["select"](this).selectAll("rect.lz-data_layer-genes.lz-boundary").data([n],t=>t.gene_name+"_boundary");e=1,o.enter().append("rect").attr("class","lz-data_layer-genes lz-boundary").merge(o).attr("width",t=>i.parent.x_scale(t.end)-i.parent.x_scale(t.start)).attr("height",e).attr("x",t=>i.parent.x_scale(t.start)).attr("y",t=>(t.track-1)*i.getTrackHeight()+i.layout.bounding_box_padding+i.layout.label_font_size+i.layout.label_exon_spacing+Math.max(i.layout.exon_height,3)/2).style("fill",(e,n)=>t.resolveScalableParameter(t.layout.color,e,n)).style("stroke",(e,n)=>t.resolveScalableParameter(t.layout.stroke,e,n)),o.exit().remove();const a=W["select"](this).selectAll("text.lz-data_layer-genes.lz-label").data([n],t=>t.gene_name+"_label");a.enter().append("text").attr("class","lz-data_layer-genes lz-label").merge(a).attr("text-anchor",t=>t.display_range.text_anchor).text(t=>"+"===t.strand?t.gene_name+"":""+t.gene_name).style("font-size",n.parent.layout.label_font_size).attr("x",t=>"middle"===t.display_range.text_anchor?t.display_range.start+t.display_range.width/2:"start"===t.display_range.text_anchor?t.display_range.start+i.layout.bounding_box_padding:"end"===t.display_range.text_anchor?t.display_range.end-i.layout.bounding_box_padding:void 0).attr("y",t=>(t.track-1)*i.getTrackHeight()+i.layout.bounding_box_padding+i.layout.label_font_size),a.exit().remove();const s=W["select"](this).selectAll("rect.lz-data_layer-genes.lz-exon").data(n.transcripts[n.parent.transcript_idx].exons,t=>t.exon_id);e=i.layout.exon_height,s.enter().append("rect").attr("class","lz-data_layer-genes lz-exon").merge(s).style("fill",(e,n)=>t.resolveScalableParameter(t.layout.color,e.parent.parent,n)).style("stroke",(e,n)=>t.resolveScalableParameter(t.layout.stroke,e.parent.parent,n)).attr("width",t=>i.parent.x_scale(t.end)-i.parent.x_scale(t.start)).attr("height",e).attr("x",t=>i.parent.x_scale(t.start)).attr("y",()=>(n.track-1)*i.getTrackHeight()+i.layout.bounding_box_padding+i.layout.label_font_size+i.layout.label_exon_spacing),s.exit().remove();const l=W["select"](this).selectAll("rect.lz-data_layer-genes.lz-clickarea").data([n],t=>t.gene_name+"_clickarea");e=i.getTrackHeight()-i.layout.track_vertical_spacing,l.enter().append("rect").attr("class","lz-data_layer-genes lz-clickarea").merge(l).attr("id",t=>i.getElementId(t)+"_clickarea").attr("rx",i.layout.bounding_box_padding).attr("ry",i.layout.bounding_box_padding).attr("width",t=>t.display_range.width).attr("height",e).attr("x",t=>t.display_range.start).attr("y",t=>(t.track-1)*i.getTrackHeight()),l.exit().remove()})),i.exit().remove(),this.svg.group.on("click.event_emitter",t=>this.parent.emit("element_clicked",t,!0)).call(this.applyBehaviors.bind(this))}_getTooltipPosition(t){const e=this.getElementStatusNodeId(t.data),n=W["select"]("#"+e).node().getBBox();return{x_min:this.parent.x_scale(t.data.start),x_max:this.parent.x_scale(t.data.end),y_min:n.y,y_max:n.y+n.height}}}const Le={style:{fill:"none","stroke-width":"2px"},interpolate:"curveLinear",x_axis:{field:"x"},y_axis:{field:"y",axis:1},hitarea_width:5,tooltip:null};class Ae extends Ee{constructor(t){if(t=vt(t,Le),t.tooltip)throw new Error("The line / filled curve layer does not support tooltips");super(...arguments)}render(){const t=this.parent,e=this.layout.x_axis.field,n=this.layout.y_axis.field,i=this.svg.group.selectAll("path.lz-data_layer-line").data([this.data]);let r;this.path=i.enter().append("path").attr("class","lz-data_layer-line");const o=t["x_scale"],a=t[`y${this.layout.y_axis.axis}_scale`];r=this.layout.style.fill&&"none"!==this.layout.style.fill?W["area"]().x(t=>+o(t[e])).y0(+a(0)).y1(t=>+a(t[n])):W["line"]().x(t=>+o(t[e])).y(t=>+a(t[n])).curve(W[this.layout.interpolate]),i.merge(this.path).attr("d",r).call(Rt,this.layout.style),i.exit().remove()}setElementStatus(t,e,n){return this.setAllElementStatus(t,n)}setAllElementStatus(t,e){if("undefined"==typeof t||!U.adjectives.includes(t))throw new Error("Invalid status");if("undefined"==typeof this._layer_state.status_flags[t])return this;"undefined"==typeof e&&(e=!0),this._global_statuses[t]=e;let n="lz-data_layer-line";return Object.keys(this._global_statuses).forEach(t=>{this._global_statuses[t]&&(n+=" lz-data_layer-line-"+t)}),this.path.attr("class",n),this.parent.emit("layout_changed",!0),this}}const De={style:{stroke:"#D3D3D3","stroke-width":"3px","stroke-dasharray":"10px 10px"},orientation:"horizontal",x_axis:{axis:1,decoupled:!0},y_axis:{axis:1,decoupled:!0},tooltip_positioning:"vertical",offset:0};class ze extends Ee{constructor(t){t=vt(t,De),["horizontal","vertical"].includes(t.orientation)||(t.orientation="horizontal"),super(...arguments)}getElementId(t){return this.getBaseId()}render(){const t=this.parent,e="x_scale",n=`y${this.layout.y_axis.axis}_scale`,i="x_extent",r=`y${this.layout.y_axis.axis}_extent`,o="x_range";if("horizontal"===this.layout.orientation)this.data=[{x:t[i][0],y:this.layout.offset},{x:t[i][1],y:this.layout.offset}];else{if("vertical"!==this.layout.orientation)throw new Error('Unrecognized vertical line type. Must be "vertical" or "horizontal"');this.data=[{x:this.layout.offset,y:t[r][0]},{x:this.layout.offset,y:t[r][1]}]}const a=this.svg.group.selectAll("path.lz-data_layer-line").data([this.data]),s=[t.layout.cliparea.height,0],l=W["line"]().x((n,i)=>{const r=+t[e](n["x"]);return isNaN(r)?t[o][i]:r}).y((e,i)=>{const r=+t[n](e["y"]);return isNaN(r)?s[i]:r});this.path=a.enter().append("path").attr("class","lz-data_layer-line").merge(a).attr("d",l).call(Rt,this.layout.style).call(this.applyBehaviors.bind(this)),a.exit().remove()}_getTooltipPosition(t){try{const t=W["mouse"](this.svg.container.node()),e=t[0],n=t[1];return{x_min:e-1,x_max:e+1,y_min:n-1,y_max:n+1}}catch(e){return null}}}function Pe(t,e,n,i,r,o,a){let s=[];const l=Symbol.for("lzX"),c=Symbol.for("lzY");let u=null,h=null,d=[];function f(){if(d.length){const t=d[Math.floor((d.length-1)/2)];s.push(t)}u=h=null,d=[]}function p(t,e,n){u=t,h=e,d.push(n)}return t.forEach(t=>{const m=t[l],g=t[c],b=m>=e&&m<=n&&g>=r&&g<=o;if(t.lz_is_match||!b)f(),s.push(t);else if(null===u)p(m,g,t);else{const e=Math.abs(m-u)<=i&&Math.abs(g-h)<=a;e?d.push(t):(f(),p(m,g,t))}}),f(),s}const Ne={point_size:40,point_shape:"circle",tooltip_positioning:"horizontal",color:"#888888",coalesce:{active:!1,max_points:800,x_min:"-Infinity",x_max:"Infinity",y_min:0,y_max:3,x_gap:7,y_gap:7},fill_opacity:1,y_axis:{axis:1},id_field:"id"};class Fe extends Ee{constructor(t){t=vt(t,Ne),t.label&&isNaN(t.label.spacing)&&(t.label.spacing=4),super(...arguments)}_getTooltipPosition(t){const e=this.parent.x_scale(t.data[this.layout.x_axis.field]),n=`y${this.layout.y_axis.axis}_scale`,i=this.parent[n](t.data[this.layout.y_axis.field]),r=this.resolveScalableParameter(this.layout.point_size,t.data),o=Math.sqrt(r/Math.PI);return{x_min:e-o,x_max:e+o,y_min:i-o,y_max:i+o}}flip_labels(){const t=this,e=t.resolveScalableParameter(t.layout.point_size,{}),n=t.layout.label.spacing,i=Boolean(t.layout.label.lines),r=2*n,o=this.parent_plot.layout.width-this.parent.layout.margin.left-this.parent.layout.margin.right-2*n,a=(t,r)=>{const o=+t.attr("x"),a=2*n+2*Math.sqrt(e);let s,l;i&&(s=+r.attr("x2"),l=n+2*Math.sqrt(e)),"start"===t.style("text-anchor")?(t.style("text-anchor","end"),t.attr("x",o-a),i&&r.attr("x2",s-l)):(t.style("text-anchor","start"),t.attr("x",o+a),i&&r.attr("x2",s+l))};t._label_texts.each((function(e,r){const s=this,l=W["select"](s),c=+l.attr("x"),u=l.node().getBoundingClientRect();if(c+u.width+n>o){const e=i?W["select"](t._label_lines.nodes()[r]):null;a(l,e)}})),t._label_texts.each((function(e,o){const s=this,l=W["select"](s);if("end"===l.style("text-anchor"))return;let c=+l.attr("x");const u=l.node().getBoundingClientRect(),h=i?W["select"](t._label_lines.nodes()[o]):null;t._label_texts.each((function(){const t=this,e=W["select"](t),i=e.node().getBoundingClientRect(),o=u.left<i.left+i.width+2*n&&u.left+u.width+2*n>i.left&&u.top<i.top+i.height+2*n&&u.height+u.top+2*n>i.top;o&&(a(l,h),c=+l.attr("x"),c-u.width-n<r&&a(l,h))}))}))}separate_labels(){this._label_iterations++;const t=this,e=.5;if(!this.layout.label)return;const n=this.layout.label.spacing;let i=!1;if(t._label_texts.each((function(){const r=this,o=W["select"](r),a=o.attr("y");t._label_texts.each((function(){const s=this;if(r===s)return;const l=W["select"](s);if(o.attr("text-anchor")!==l.attr("text-anchor"))return;const c=o.node().getBoundingClientRect(),u=l.node().getBoundingClientRect(),h=c.left<u.left+u.width+2*n&&c.left+c.width+2*n>u.left&&c.top<u.top+u.height+2*n&&c.height+c.top+2*n>u.top;if(!h)return;i=!0;const d=l.attr("y"),f=c.top<u.top?1:-1,p=f*e;let m=+a-p,g=+d+p;const b=2*n,v=t.parent.layout.height-t.parent.layout.margin.top-t.parent.layout.margin.bottom-2*n;let y;m-c.height/2<b?(y=+a-m,m=+a,g+=y):g-u.height/2<b&&(y=+d-g,g=+d,m+=y),m+c.height/2>v?(y=m-+a,m=+a,g-=y):g+u.height/2>v&&(y=g-+d,g=+d,m-=y),o.attr("y",m),l.attr("y",g)}))})),i){if(t.layout.label.lines){const e=t._label_texts.nodes();t._label_lines.attr("y2",(t,n)=>{const i=W["select"](e[n]);return i.attr("y")})}this._label_iterations<150&&setTimeout(()=>{this.separate_labels()},1)}}render(){const t=this,e=this.parent["x_scale"],n=this.parent[`y${this.layout.y_axis.axis}_scale`],i=Symbol.for("lzX"),r=Symbol.for("lzY");let o=this._applyFilters();if(o.forEach(t=>{let o=e(t[this.layout.x_axis.field]),a=n(t[this.layout.y_axis.field]);isNaN(o)&&(o=-1e3),isNaN(a)&&(a=-1e3),t[i]=o,t[r]=a}),this.layout.coalesce.active&&o.length>this.layout.coalesce.max_points){let{x_min:t,x_max:i,y_min:r,y_max:a,x_gap:s,y_gap:l}=this.layout.coalesce;const c=isFinite(t)?e(+t):-1/0,u=isFinite(i)?e(+i):1/0,h=isFinite(a)?n(+a):-1/0,d=isFinite(r)?n(+r):1/0;o=Pe(o,c,u,s,h,d,l)}if(this.layout.label){let e;const n=t.layout.label.filters||[];if(n.length){const t=this.filter.bind(this,n);e=o.filter(t)}else e=o;this._label_groups=this.svg.group.selectAll(`g.lz-data_layer-${this.layout.type}-label`).data(e,t=>t[this.layout.id_field]+"_label");const a=`lz-data_layer-${this.layout.type}-label`,s=this._label_groups.enter().append("g").attr("class",a);this._label_texts&&this._label_texts.remove(),this._label_texts=this._label_groups.merge(s).append("text").text(e=>le(t.layout.label.text||"",e,this.getElementAnnotation(e))).attr("x",e=>e[i]+Math.sqrt(t.resolveScalableParameter(t.layout.point_size,e))+t.layout.label.spacing).attr("y",t=>t[r]).attr("text-anchor","start").call(Rt,t.layout.label.style||{}),t.layout.label.lines&&(this._label_lines&&this._label_lines.remove(),this._label_lines=this._label_groups.merge(s).append("line").attr("x1",t=>t[i]).attr("y1",t=>t[r]).attr("x2",e=>e[i]+Math.sqrt(t.resolveScalableParameter(t.layout.point_size,e))+t.layout.label.spacing/2).attr("y2",t=>t[r]).call(Rt,t.layout.label.lines.style||{})),this._label_groups.exit().remove()}else this._label_texts&&this._label_texts.remove(),this._label_lines&&this._label_lines.remove(),this._label_groups&&this._label_groups.remove();const a=this.svg.group.selectAll("path.lz-data_layer-"+this.layout.type).data(o,t=>t[this.layout.id_field]),s=t=>`translate(${t[i]}, ${t[r]})`,l=W["symbol"]().size((t,e)=>this.resolveScalableParameter(this.layout.point_size,t,e)).type((t,e)=>_t(this.resolveScalableParameter(this.layout.point_shape,t,e))),c="lz-data_layer-"+this.layout.type;a.enter().append("path").attr("class",c).attr("id",t=>this.getElementId(t)).merge(a).attr("transform",s).attr("fill",(t,e)=>this.resolveScalableParameter(this.layout.color,t,e)).attr("fill-opacity",(t,e)=>this.resolveScalableParameter(this.layout.fill_opacity,t,e)).attr("d",l),a.exit().remove(),this.layout.label&&(this.flip_labels(),this._label_iterations=0,this.separate_labels()),this.svg.group.on("click.event_emitter",()=>{const t=W["select"](W["event"].target).datum();this.parent.emit("element_clicked",t,!0)}).call(this.applyBehaviors.bind(this))}makeLDReference(t){let e=null;if("undefined"==typeof t)throw new Error("makeLDReference requires one argument of any type");return e="object"==typeof t?this.layout.id_field&&"undefined"!=typeof t[this.layout.id_field]?t[this.layout.id_field].toString():"undefined"!=typeof t["id"]?t["id"].toString():t.toString():t.toString(),this.parent.emit("set_ldrefvar",{ldrefvar:e},!0),this.parent_plot.applyState({ldrefvar:e})}}class Ie extends Fe{constructor(t){super(...arguments),this._categories={}}_prepareData(){const t=this.layout.x_axis.field||"x",e=this.layout.x_axis.category_field;if(!e)throw new Error(`Layout for ${this.layout.id} must specify category_field`);const n=this.data.sort((t,n)=>{const i=t[e],r=n[e],o="string"===typeof i?i.toLowerCase():i,a="string"===typeof r?r.toLowerCase():r;return o===a?0:o<a?-1:1});return n.forEach((e,n)=>{e[t]=e[t]||n}),n}_generateCategoryBounds(){const t=this.layout.x_axis.category_field,e=this.layout.x_axis.field||"x",n={};this.data.forEach(i=>{const r=i[t],o=i[e],a=n[r]||[o,o];n[r]=[Math.min(a[0],o),Math.max(a[1],o)]});const i=Object.keys(n);return this._setDynamicColorScheme(i),n}_getColorScale(t){t=t||this.layout;let e=t.color||[];if(Array.isArray(e)&&(e=e.find(t=>"categorical_bin"===t.scale_function)),!e||"categorical_bin"!==e.scale_function)throw new Error("This layer requires that color options be provided as a `categorical_bin`");return e}_setDynamicColorScheme(t){const e=this._getColorScale(this.layout).parameters,n=this._getColorScale(this._base_layout).parameters;if(n.categories.length&&n.values.length){const i={};n.categories.forEach(t=>{i[t]=1}),t.every(t=>Object.prototype.hasOwnProperty.call(i,t))?e.categories=n.categories:e.categories=t}else e.categories=t;let i;i=n.values.length?n.values:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];while(i.length<t.length)i=i.concat(i);i=i.slice(0,t.length),e.values=i}getTicks(t,e){if(!["x","y1","y2"].includes(t))throw new Error("Invalid dimension identifier");const n=e.position||"left";if(!["left","center","right"].includes(n))throw new Error("Invalid tick position");const i=this._categories;if(!i||!Object.keys(i).length)return[];if("y"===t)return[];if("x"===t){const t=this._getColorScale(this.layout),e=t.parameters.categories||[],r=t.parameters.values||[];return Object.keys(i).map((t,o)=>{const a=i[t];let s;switch(n){case"left":s=a[0];break;case"center":const t=a[1]-a[0];s=a[0]+(0!==t?t:a[0])/2;break;case"right":s=a[1];break}return{x:s,text:t,style:{fill:r[e.indexOf(t)]||"#000000"}}})}}applyCustomDataMethods(){return this.data=this._prepareData(),this._categories=this._generateCategoryBounds(),this}}const He=new f;for(let[e,Fn]of Object.entries(c))He.add(e,Fn);var Be=He;const $e=7.301,Ve={closable:!0,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:'<strong>{{assoc:variant|htmlescape}}</strong><br>\n        P Value: <strong>{{assoc:log_pvalue|logtoscinotation|htmlescape}}</strong><br>\n        Ref. Allele: <strong>{{assoc:ref_allele|htmlescape}}</strong><br>\n        {{#if lz_is_ld_refvar}}<strong>LD Reference Variant</strong>{{#else}}\n        <a href="javascript:void(0);" \n        onclick="var data = this.parentNode.__data__;\n                 data.getDataLayer().makeLDReference(data);"\n                 >Make LD Reference</a>{{/if}}<br>'},We=function(){const t=yt(Ve);return t.html+="<a href=\"javascript:void(0);\" \n                  onclick=\"var item = this.parentNode.__data__, layer = item.getDataLayer(); \n                  var current = layer.getElementAnnotation(item, 'lz_show_label'); \n                  layer.setElementAnnotation(item, 'lz_show_label', !current );\n                  layer.parent_plot.applyState();\">{{#if lz_show_label}}Hide{{#else}}Show{{/if}} label</a>",t}(),Ue={closable:!0,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:'<h4><strong><i>{{gene_name|htmlescape}}</i></strong></h4>Gene ID: <a href="https://useast.ensembl.org/homo_sapiens/Gene/Summary?g={{gene_id|htmlescape}}&db=core" target="_blank" rel="noopener">{{gene_id|htmlescape}}</a><br>Transcript ID: <strong>{{transcript_id|htmlescape}}</strong><br>{{#if pLI}}<table><tr><th>Constraint</th><th>Expected variants</th><th>Observed variants</th><th>Const. Metric</th></tr><tr><td>Synonymous</td><td>{{exp_syn}}</td><td>{{obs_syn}}</td><td>z = {{syn_z}}<br>o/e = {{oe_syn}} ({{oe_syn_lower}} - {{oe_syn_upper}})</td></tr><tr><td>Missense</td><td>{{exp_mis}}</td><td>{{obs_mis}}</td><td>z = {{mis_z}}<br>o/e = {{oe_mis}} ({{oe_mis_lower}} - {{oe_mis_upper}})</td></tr><tr><td>pLoF</td><td>{{exp_lof}}</td><td>{{obs_lof}}</td><td>pLI = {{pLI}}<br>o/e = {{oe_lof}} ({{oe_lof_lower}} - {{oe_lof_upper}})</td></tr></table><br>{{/if}}<a href="https://gnomad.broadinstitute.org/gene/{{gene_id|htmlescape}}" target="_blank" rel="noopener">More data on gnomAD</a>'},Ge={closable:!0,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:'<strong>{{catalog:variant|htmlescape}}</strong><br>Catalog entries: <strong>{{n_catalog_matches|htmlescape}}</strong><br>Top Trait: <strong>{{catalog:trait|htmlescape}}</strong><br>Top P Value: <strong>{{catalog:log_pvalue|logtoscinotation}}</strong><br>More: <a href="https://www.ebi.ac.uk/gwas/search?query={{catalog:rsid|htmlescape}}" target="_blank" rel="noopener">GWAS catalog</a> / <a href="https://www.ncbi.nlm.nih.gov/snp/{{catalog:rsid|htmlescape}}" target="_blank" rel="noopener">dbSNP</a>'},qe={closable:!0,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:"<strong>Regulatory element</strong><br>{{access:start1|htmlescape}}-{{access:end1|htmlescape}}<br><strong>Promoter</strong><br>{{access:start2|htmlescape}}-{{access:end2|htmlescape}}<br>{{#if access:target}}<strong>Target</strong>: {{access:target|htmlescape}}<br>{{/if}}<strong>Score</strong>: {{access:score|htmlescape}}"},Ye={id:"significance",type:"orthogonal_line",tag:"significance",orientation:"horizontal",offset:$e},Xe={id:"recombrate",namespace:{recomb:"recomb"},data_operations:[{type:"fetch",from:["recomb"]}],type:"line",tag:"recombination",z_index:1,style:{stroke:"#0000FF","stroke-width":"1.5px"},x_axis:{field:"recomb:position"},y_axis:{axis:2,field:"recomb:recomb_rate",floor:0,ceiling:100}},Ke={namespace:{assoc:"assoc",ld:"ld"},data_operations:[{type:"fetch",from:["assoc","ld(assoc)"]},{type:"left_match",name:"assoc_plus_ld",requires:["assoc","ld"],params:["assoc:position","ld:position2"]}],id:"associationpvalues",type:"scatter",tag:"association",id_field:"assoc:variant",coalesce:{active:!0},point_shape:[{scale_function:"if",field:"lz_is_ld_refvar",parameters:{field_value:!0,then:"diamond"}},{scale_function:"effect_direction",parameters:{"+":"triangle","-":"triangledown",beta_field:"assoc:beta",stderr_beta_field:"assoc:se"}},"circle"],point_size:{scale_function:"if",field:"lz_is_ld_refvar",parameters:{field_value:!0,then:80,else:40}},color:[{scale_function:"if",field:"lz_is_ld_refvar",parameters:{field_value:!0,then:"#9632b8"}},{scale_function:"numerical_bin",field:"ld:correlation",parameters:{breaks:[0,.2,.4,.6,.8],values:["rgb(70, 54, 153)","rgb(38, 188, 225)","rgb(110, 254, 104)","rgb(248, 195, 42)","rgb(219, 61, 17)"]}},"#AAAAAA"],legend:[{label:"LD (r)",label_size:14},{shape:"ribbon",orientation:"vertical",width:10,height:15,color_stops:["rgb(70, 54, 153)","rgb(38, 188, 225)","rgb(110, 254, 104)","rgb(248, 195, 42)","rgb(219, 61, 17)"],tick_labels:[0,.2,.4,.6,.8,1]}],label:null,z_index:2,x_axis:{field:"assoc:position"},y_axis:{axis:1,field:"assoc:log_pvalue",floor:0,upper_buffer:.1,min_extent:[0,10]},behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}]},tooltip:yt(Ve)},Je={id:"coaccessibility",type:"arcs",tag:"coaccessibility",namespace:{access:"access"},data_operations:[{type:"fetch",from:["access"]}],match:{send:"access:target",receive:"access:target"},id_field:"{{access:start1}}_{{access:end1}}_{{access:start2}}_{{access:end2}}_{{access:score}}_{{access:target}}",filters:[{field:"access:score",operator:"!=",value:null}],color:[{field:"lz_is_match",scale_function:"if",parameters:{field_value:!0,then:"#4285f4"}},{field:"lz_is_match",scale_function:"if",parameters:{field_value:!1,then:"#EAE6E6"}},{scale_function:"ordinal_cycle",parameters:{values:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]}}],x_axis:{field1:"access:start1",field2:"access:start2"},y_axis:{axis:1,field:"access:score",upper_buffer:.1,min_extent:[0,1]},behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}]},tooltip:yt(qe)},Ze=function(){let t=yt(Ke);return t=vt({id:"associationpvaluescatalog",fill_opacity:.7},t),t.data_operations.push({type:"assoc_to_gwas_catalog",name:"assoc_catalog",requires:["assoc_plus_ld","catalog"],params:["assoc:position","catalog:pos","catalog:log_pvalue"]}),t.tooltip.html+='{{#if catalog:rsid}}<br><a href="https://www.ebi.ac.uk/gwas/search?query={{catalog:rsid|htmlescape}}" target="_blank" rel="noopener">See hits in GWAS catalog</a>{{/if}}',t.namespace.catalog="catalog",t}(),Qe={id:"phewaspvalues",type:"category_scatter",tag:"phewas",namespace:{phewas:"phewas"},data_operations:[{type:"fetch",from:["phewas"]}],point_shape:[{scale_function:"effect_direction",parameters:{"+":"triangle","-":"triangledown",beta_field:"phewas:beta",stderr_beta_field:"phewas:se"}},"circle"],point_size:70,tooltip_positioning:"vertical",id_field:"{{phewas:trait_group}}_{{phewas:trait_label}}",x_axis:{field:"lz_auto_x",category_field:"phewas:trait_group",lower_buffer:.025,upper_buffer:.025},y_axis:{axis:1,field:"phewas:log_pvalue",floor:0,upper_buffer:.15},color:[{field:"phewas:trait_group",scale_function:"categorical_bin",parameters:{categories:[],values:[],null_value:"#B8B8B8"}}],fill_opacity:.7,tooltip:{closable:!0,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:"<strong>Trait:</strong> {{phewas:trait_label|htmlescape}}<br>\n<strong>Trait Category:</strong> {{phewas:trait_group|htmlescape}}<br>\n<strong>P-value:</strong> {{phewas:log_pvalue|logtoscinotation|htmlescape}}\n{{#if phewas:beta|is_numeric}}<br><strong>&beta;:</strong> {{phewas:beta|scinotation|htmlescape}}<br>{{/if}}\n{{#if phewas:se|is_numeric}}<strong>SE (&beta;):</strong> {{phewas:se|scinotation|htmlescape}}{{/if}}"},behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}]},label:{text:"{{phewas:trait_label}}",spacing:6,lines:{style:{"stroke-width":"2px",stroke:"#333333","stroke-dasharray":"2px 2px"}},filters:[{field:"phewas:log_pvalue",operator:">=",value:20}],style:{"font-size":"14px","font-weight":"bold",fill:"#333333"}}},tn={namespace:{gene:"gene",constraint:"constraint"},data_operations:[{type:"fetch",from:["gene","constraint(gene)"]},{name:"gene_constraint",type:"genes_to_gnomad_constraint",requires:["gene","constraint"]}],id:"genes",type:"genes",tag:"genes",id_field:"gene_id",behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}]},tooltip:yt(Ue)},en=vt({filters:[{field:"gene_type",operator:"in",value:["protein_coding","IG_C_gene","IG_D_gene","IG_J_gene","IG_V_gene","TR_C_gene","TR_D_gene","TR_J_gene","TR_V_gene","rRNA","Mt_rRNA","Mt_tRNA"]}]},yt(tn)),nn={namespace:{assoc:"assoc",catalog:"catalog"},data_operations:[{type:"fetch",from:["assoc","catalog"]},{type:"assoc_to_gwas_catalog",name:"assoc_plus_ld",requires:["assoc","catalog"],params:["assoc:position","catalog:pos","catalog:log_pvalue"]}],id:"annotation_catalog",type:"annotation_track",tag:"gwascatalog",id_field:"assoc:variant",x_axis:{field:"assoc:position"},color:"#0000CC",filters:[{field:"catalog:rsid",operator:"!=",value:null},{field:"catalog:log_pvalue",operator:">",value:$e}],behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}]},tooltip:yt(Ge),tooltip_positioning:"top"},rn={type:"set_state",tag:"ld_population",position:"right",color:"blue",button_html:"LD Population: ",show_selected:!0,button_title:"Select LD Population: ",custom_event_name:"widget_set_ldpop",state_field:"ld_pop",options:[{display_name:"ALL (default)",value:"ALL"},{display_name:"AFR",value:"AFR"},{display_name:"AMR",value:"AMR"},{display_name:"EAS",value:"EAS"},{display_name:"EUR",value:"EUR"},{display_name:"SAS",value:"SAS"}]},on={type:"display_options",tag:"gene_filter",custom_event_name:"widget_gene_filter_choice",position:"right",color:"blue",button_html:"Filter...",button_title:"Choose which genes to show",layer_name:"genes",default_config_display_name:"Coding genes & rRNA",options:[{display_name:"All features",display:{filters:null}}]},an={widgets:[{type:"remove_panel",position:"right",color:"red",group_position:"end"},{type:"move_panel_up",position:"right",group_position:"middle"},{type:"move_panel_down",position:"right",group_position:"start",style:{"margin-left":"0.75em"}}]},sn={widgets:[{type:"title",title:"LocusZoom",subtitle:`<a href="https://statgen.github.io/locuszoom/" target="_blank" rel="noopener">v${h}</a>`,position:"left"},{type:"download",position:"right",group_position:"end"},{type:"download_png",position:"right",group_position:"start"}]},ln=function(){const t=yt(sn);return t.widgets.push(yt(rn)),t}(),cn=function(){const t=yt(sn);return t.widgets.push({type:"shift_region",step:5e5,button_html:">>",position:"right",group_position:"end"},{type:"shift_region",step:5e4,button_html:">",position:"right",group_position:"middle"},{type:"zoom_region",step:.2,position:"right",group_position:"middle"},{type:"zoom_region",step:-.2,position:"right",group_position:"middle"},{type:"shift_region",step:-5e4,button_html:"<",position:"right",group_position:"middle"},{type:"shift_region",step:-5e5,button_html:"<<",position:"right",group_position:"start"}),t}(),un={id:"association",tag:"association",min_height:200,height:300,margin:{top:35,right:55,bottom:40,left:70},inner_border:"rgb(210, 210, 210)",toolbar:function(){const t=yt(an);return t.widgets.push({type:"toggle_legend",position:"right"}),t}(),axes:{x:{label:"Chromosome {{chr}} (Mb)",label_offset:38,tick_format:"region",extent:"state"},y1:{label:"-log10 p-value",label_offset:50},y2:{label:"Recombination Rate (cM/Mb)",label_offset:46}},legend:{orientation:"vertical",origin:{x:75,y:40},hidden:!0},interaction:{drag_background_to_pan:!0,drag_x_ticks_to_scale:!0,drag_y1_ticks_to_scale:!0,drag_y2_ticks_to_scale:!0,scroll_to_zoom:!0,x_linked:!0},data_layers:[yt(Ye),yt(Xe),yt(Ke)]},hn={id:"coaccessibility",tag:"coaccessibility",min_height:150,height:180,margin:{top:35,right:55,bottom:40,left:70},inner_border:"rgb(210, 210, 210)",toolbar:yt(an),axes:{x:{label:"Chromosome {{chr}} (Mb)",label_offset:38,tick_format:"region",extent:"state"},y1:{label:"Score",label_offset:40,render:!1}},interaction:{drag_background_to_pan:!0,drag_x_ticks_to_scale:!0,drag_y1_ticks_to_scale:!0,scroll_to_zoom:!0,x_linked:!0},data_layers:[yt(Je)]},dn=function(){let t=yt(un);return t=vt({id:"associationcatalog"},t),t.toolbar.widgets.push({type:"display_options",position:"right",color:"blue",button_html:"Display options...",button_title:"Control how plot items are displayed",layer_name:"associationpvaluescatalog",default_config_display_name:"No catalog labels (default)",options:[{display_name:"Label catalog traits",display:{label:{text:"{{catalog:trait}}",spacing:6,lines:{style:{"stroke-width":"2px",stroke:"#333333","stroke-dasharray":"2px 2px"}},filters:[{field:"catalog:trait",operator:"!=",value:null},{field:"catalog:log_pvalue",operator:">",value:$e},{field:"ld:correlation",operator:">",value:.4}],style:{"font-size":"12px","font-weight":"bold",fill:"#333333"}}}}]}),t.data_layers=[yt(Ye),yt(Xe),yt(Ze)],t}(),fn={id:"genes",tag:"genes",min_height:150,height:225,margin:{top:20,right:55,bottom:20,left:70},axes:{},interaction:{drag_background_to_pan:!0,scroll_to_zoom:!0,x_linked:!0},toolbar:function(){const t=yt(an);return t.widgets.push({type:"resize_to_data",position:"right",button_html:"Resize"},yt(on)),t}(),data_layers:[yt(en)]},pn={id:"phewas",tag:"phewas",min_height:300,height:300,margin:{top:20,right:55,bottom:120,left:70},inner_border:"rgb(210, 210, 210)",axes:{x:{ticks:{style:{"font-weight":"bold","font-size":"11px","text-anchor":"start"},transform:"rotate(50)",position:"left"}},y1:{label:"-log10 p-value",label_offset:50}},data_layers:[yt(Ye),yt(Qe)]},mn={id:"annotationcatalog",tag:"gwascatalog",min_height:50,height:50,margin:{top:25,right:55,bottom:10,left:70},inner_border:"rgb(210, 210, 210)",toolbar:yt(an),axes:{x:{extent:"state",render:!1}},interaction:{drag_background_to_pan:!0,scroll_to_zoom:!0,x_linked:!0},data_layers:[yt(nn)]},gn={state:{},width:800,responsive_resize:!0,min_region_scale:2e4,max_region_scale:1e6,toolbar:ln,panels:[yt(un),yt(fn)]},bn={state:{},width:800,responsive_resize:!0,min_region_scale:2e4,max_region_scale:1e6,toolbar:ln,panels:[mn,dn,fn]},vn={width:800,responsive_resize:!0,toolbar:sn,panels:[yt(pn),vt({height:300,margin:{bottom:40},axes:{x:{label:"Chromosome {{chr}} (Mb)",label_offset:38,tick_format:"region",extent:"state"}}},yt(fn))],mouse_guide:!1},yn={state:{},width:800,responsive_resize:!0,min_region_scale:2e4,max_region_scale:1e6,toolbar:yt(sn),panels:[yt(hn),function(){const t=Object.assign({height:270},yt(fn)),e=t.data_layers[0];e.match={send:"gene_name",receive:"gene_name"};const n=[{field:"lz_is_match",scale_function:"if",parameters:{field_value:!0,then:"#4285f4"}},{field:"lz_is_match",scale_function:"if",parameters:{field_value:!1,then:"#EAE6E6"}},"#363696"];return e.color=n,e.stroke=n,t}()]},_n={standard_association:Ve,standard_association_with_label:We,standard_genes:Ue,catalog_variant:Ge,coaccessibility:qe},wn={ldlz2_pop_selector:rn,gene_selector_menu:on},xn={standard_panel:an,standard_plot:sn,standard_association:ln,region_nav_plot:cn},En={significance:Ye,recomb_rate:Xe,association_pvalues:Ke,coaccessibility:Je,association_pvalues_catalog:Ze,phewas_pvalues:Qe,genes:tn,genes_filtered:en,annotation_catalog:nn},Cn={association:un,coaccessibility:hn,association_catalog:dn,genes:fn,phewas:pn,annotation_catalog:mn},kn={standard_association:gn,association_catalog:bn,standard_phewas:vn,coaccessibility:yn};class Mn extends d{get(t,e,n={}){if(!t||!e)throw new Error("Must specify both the type and name for the layout desired. See .list() for available options");let i=super.get(t).get(e);const r=n.namespace;i.namespace||delete n.namespace;let o=vt(n,i);return r&&(o=bt(o,r)),yt(o)}add(t,e,n,i=!1){if(!(t&&e&&n))throw new Error("To add a layout, type, name, and item must all be specified");if("object"!==typeof n)throw new Error("The configuration to be added must be an object");this.has(t)||super.add(t,new d);const r=yt(n);return"data_layer"===t&&r.namespace&&(r._auto_fields=[...wt(r,Object.keys(r.namespace))].sort()),super.get(t).add(e,r,i)}list(t){if(!t){let t={};for(let[e,n]of this._items)t[e]=n.list();return t}return super.get(t).list()}merge(t,e){return vt(t,e)}renameField(){return xt(...arguments)}mutate_attrs(){return Et(...arguments)}query_attrs(){return Ct(...arguments)}}const On=new Mn;for(let[e,Fn]of Object.entries(u))for(let[t,n]of Object.entries(Fn))On.add(e,t,n);var Tn=On;const Sn=new d;function Rn(t){return(e,n,...i)=>{if(2!==n.length)throw new Error("Join functions must receive exactly two recordsets");return t(...n,...i)}}function jn(t,e,n,i,o){if(!t.length)return t;const a=r.groupBy(e,i),s=[];for(let r of a.values()){let t,e=0;for(let n of r){const i=n[o];i>=e&&(t=n,e=i)}t.n_catalog_matches=r.length,s.push(t)}return r.left_match(t,s,n,i)}function Ln(t,e){return t.forEach((function(t){const n="_"+t.gene_name.replace(/[^A-Za-z0-9_]/g,"_"),i=e[n]&&e[n]["gnomad_constraint"];i&&Object.keys(i).forEach((function(e){let n=i[e];"undefined"===typeof t[e]&&("number"==typeof n&&n.toString().includes(".")&&(n=parseFloat(n.toFixed(2))),t[e]=n)}))})),t}Sn.add("left_match",Rn(r.left_match)),Sn.add("inner_match",Rn(r.inner_match)),Sn.add("full_outer_match",Rn(r.full_outer_match)),Sn.add("assoc_to_gwas_catalog",Rn(jn)),Sn.add("genes_to_gnomad_constraint",Rn(Ln));var An=Sn;class Dn extends d{constructor(t){super(),this._registry=t||V}add(t,e,n=!1){if(this._registry.has(t))throw new Error(`The namespace ${t} is already in use by another source`);if(t.match(/[^A-Za-z0-9_]/))throw new Error("Data source namespace names can only contain alphanumeric characters or underscores. Invalid name: "+t);if(Array.isArray(e)){const[t,n]=e;e=this._registry.create(t,n)}return e.source_id=t,super.add(t,e,n),this}}var zn=Dn;const Pn={version:h,populate:ce,DataSources:zn,Adapters:V,DataLayers:Be,DataFunctions:An,Layouts:Tn,MatchFunctions:de,ScaleFunctions:we,TransformationFunctions:et,Widgets:Kt,get KnownDataSources(){return console.warn('Deprecation warning: KnownDataSources has been renamed to "Adapters"'),V}},Nn=[];Pn.use=function(t,...e){if(!Nn.includes(t)){if(e.unshift(Pn),"function"===typeof t.install)t.install.apply(t,e);else{if("function"!==typeof t)throw new Error("Plugin must export a function that receives the LocusZoom object as an argument");t.apply(null,e)}Nn.push(t)}};n["a"]=Pn},f0bd:function(t,n,i){"use strict";(function(t){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var i="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(i&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function o(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}function a(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}}var s=i&&window.Promise,l=s?o:a;function c(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function u(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView,i=n.getComputedStyle(t,null);return e?i[e]:i}function h(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function d(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=u(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:d(h(t))}function f(t){return t&&t.referenceNode?t.referenceNode:t}var p=i&&!(!window.MSInputMethodContext||!document.documentMode),m=i&&/MSIE 10/.test(navigator.userAgent);function g(t){return 11===t?p:10===t?m:p||m}function b(t){if(!t)return document.documentElement;var e=g(10)?document.body:null,n=t.offsetParent||null;while(n===e&&t.nextElementSibling)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?b(n):n:t?t.ownerDocument.documentElement:document.documentElement}function v(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||b(t.firstElementChild)===t)}function y(t){return null!==t.parentNode?y(t.parentNode):t}function _(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a=o.commonAncestorContainer;if(t!==a&&e!==a||i.contains(r))return v(a)?a:b(a);var s=y(t);return s.host?_(s.host,e):_(t,y(e).host)}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||r;return o[n]}return t[n]}function x(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=w(e,"top"),r=w(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function E(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function C(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],g(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function k(t){var e=t.body,n=t.documentElement,i=g(10)&&getComputedStyle(n);return{height:C("Height",e,n,i),width:C("Width",e,n,i)}}var M=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},O=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),T=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function R(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function j(t){var n={};try{if(g(10)){n=t.getBoundingClientRect();var i=w(t,"top"),r=w(t,"left");n.top+=i,n.left+=r,n.bottom+=i,n.right+=r}else n=t.getBoundingClientRect()}catch(e){}var o={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},a="HTML"===t.nodeName?k(t.ownerDocument):{},s=a.width||t.clientWidth||o.width,l=a.height||t.clientHeight||o.height,c=t.offsetWidth-s,h=t.offsetHeight-l;if(c||h){var d=u(t);c-=E(d,"x"),h-=E(d,"y"),o.width-=c,o.height-=h}return R(o)}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=g(10),r="HTML"===e.nodeName,o=j(t),a=j(e),s=d(t),l=u(e),c=parseFloat(l.borderTopWidth),h=parseFloat(l.borderLeftWidth);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=R({top:o.top-a.top-c,left:o.left-a.left-h,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var p=parseFloat(l.marginTop),m=parseFloat(l.marginLeft);f.top-=c-p,f.bottom-=c-p,f.left-=h-m,f.right-=h-m,f.marginTop=p,f.marginLeft=m}return(i&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(f=x(f,e)),f}function A(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=L(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:w(n),s=e?0:w(n,"left"),l={top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o};return R(l)}function D(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===u(t,"position"))return!0;var n=h(t);return!!n&&D(n)}function z(t){if(!t||!t.parentElement||g())return document.documentElement;var e=t.parentElement;while(e&&"none"===u(e,"transform"))e=e.parentElement;return e||document.documentElement}function P(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?z(t):_(t,f(e));if("viewport"===i)o=A(a,r);else{var s=void 0;"scrollParent"===i?(s=d(h(e)),"BODY"===s.nodeName&&(s=t.ownerDocument.documentElement)):s="window"===i?t.ownerDocument.documentElement:i;var l=L(s,a,r);if("HTML"!==s.nodeName||D(a))o=l;else{var c=k(t.ownerDocument),u=c.height,p=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=p+l.left}}n=n||0;var m="number"===typeof n;return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function N(t){var e=t.width,n=t.height;return e*n}function F(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=P(n,i,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map((function(t){return S({key:t},s[t],{area:N(s[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function I(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?z(e):_(e,f(n));return L(n,r,i)}function H(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),i=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),r=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:t.offsetWidth+r,height:t.offsetHeight+i};return o}function B(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function $(t,e,n){n=n.split("-")[0];var i=H(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[a]=e[a]+e[l]/2-i[l]/2,r[s]=n===s?e[s]-i[c]:e[B(s)],r}function V(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function W(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=V(t,(function(t){return t[e]===n}));return t.indexOf(i)}function U(t,e,n){var i=void 0===n?t:t.slice(0,W(t,"name",n));return i.forEach((function(t){t["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t["function"]||t.fn;t.enabled&&c(n)&&(e.offsets.popper=R(e.offsets.popper),e.offsets.reference=R(e.offsets.reference),e=n(e,t))})),e}function G(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=F(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=$(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=U(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function q(t,e){return t.some((function(t){var n=t.name,i=t.enabled;return i&&n===e}))}function Y(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if("undefined"!==typeof document.body.style[o])return o}return null}function X(){return this.state.isDestroyed=!0,q(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Y("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function K(t){var e=t.ownerDocument;return e?e.defaultView:window}function J(t,e,n,i){var r="BODY"===t.nodeName,o=r?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),r||J(d(o.parentNode),e,n,i),i.push(o)}function Z(t,e,n,i){n.updateBound=i,K(t).addEventListener("resize",n.updateBound,{passive:!0});var r=d(t);return J(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function Q(){this.state.eventsEnabled||(this.state=Z(this.reference,this.options,this.state,this.scheduleUpdate))}function tt(t,e){return K(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function et(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=tt(this.reference,this.state))}function nt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function it(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&nt(e[n])&&(i="px"),t.style[n]=e[n]+i}))}function rt(t,e){Object.keys(e).forEach((function(n){var i=e[n];!1!==i?t.setAttribute(n,e[n]):t.removeAttribute(n)}))}function ot(t){return it(t.instance.popper,t.styles),rt(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&it(t.arrowElement,t.arrowStyles),t}function at(t,e,n,i,r){var o=I(r,e,t,n.positionFixed),a=F(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),it(e,{position:n.positionFixed?"fixed":"absolute"}),n}function st(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(r.width),c=o(i.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=l%2===c%2,f=l%2===1&&c%2===1,p=e?u||h||d?o:a:s,m=e?o:s;return{left:p(f&&!h&&e?i.left-1:i.left),top:m(i.top),bottom:m(i.bottom),right:p(i.right)}}var lt=i&&/Firefox/i.test(navigator.userAgent);function ct(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=V(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=b(t.instance.popper),l=j(s),c={position:r.position},u=st(t,window.devicePixelRatio<2||!lt),h="bottom"===n?"top":"bottom",d="right"===i?"left":"right",f=Y("transform"),p=void 0,m=void 0;if(m="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,p="right"===d?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&f)c[f]="translate3d("+p+"px, "+m+"px, 0)",c[h]=0,c[d]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,v="right"===d?-1:1;c[h]=m*g,c[d]=p*v,c.willChange=h+", "+d}var y={"x-placement":t.placement};return t.attributes=S({},y,t.attributes),t.styles=S({},c,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t}function ut(t,e,n){var i=V(t,(function(t){var n=t.name;return n===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function ht(t,e){var n;if(!ut(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"===typeof i){if(i=t.instance.popper.querySelector(i),!i)return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(r),c=l?"height":"width",h=l?"Top":"Left",d=h.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",m=H(i)[c];s[p]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(s[p]-m)),s[d]+m>a[p]&&(t.offsets.popper[d]+=s[d]+m-a[p]),t.offsets.popper=R(t.offsets.popper);var g=s[d]+s[c]/2-m/2,b=u(t.instance.popper),v=parseFloat(b["margin"+h]),y=parseFloat(b["border"+h+"Width"]),_=g-t.offsets.popper[d]-v-y;return _=Math.max(Math.min(a[c]-m,_),0),t.arrowElement=i,t.offsets.arrow=(n={},T(n,d,Math.round(_)),T(n,f,""),n),t}function dt(t){return"end"===t?"start":"start"===t?"end":t}var ft=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],pt=ft.slice(3);function mt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=pt.indexOf(t),i=pt.slice(n+1).concat(pt.slice(0,n));return e?i.reverse():i}var gt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function bt(t,e){if(q(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=P(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=B(i),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case gt.FLIP:a=[i,r];break;case gt.CLOCKWISE:a=mt(i);break;case gt.COUNTERCLOCKWISE:a=mt(i,!0);break;default:a=e.behavior}return a.forEach((function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split("-")[0],r=B(i);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,d="left"===i&&h(c.right)>h(u.left)||"right"===i&&h(c.left)<h(u.right)||"top"===i&&h(c.bottom)>h(u.top)||"bottom"===i&&h(c.top)<h(u.bottom),f=h(c.left)<h(n.left),p=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),b="left"===i&&f||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,v=-1!==["top","bottom"].indexOf(i),y=!!e.flipVariations&&(v&&"start"===o&&f||v&&"end"===o&&p||!v&&"start"===o&&m||!v&&"end"===o&&g),_=!!e.flipVariationsByContent&&(v&&"start"===o&&p||v&&"end"===o&&f||!v&&"start"===o&&g||!v&&"end"===o&&m),w=y||_;(d||b||w)&&(t.flipped=!0,(d||b)&&(i=a[l+1]),w&&(o=dt(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=S({},t.offsets.popper,$(t.instance.popper,t.offsets.reference,t.placement)),t=U(t.instance.modifiers,t,"flip"))})),t}function vt(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[s])&&(t.offsets.popper[l]=o(i[s])),t}function yt(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}var l=R(s);return l[e]/100*o}if("vh"===a||"vw"===a){var c=void 0;return c="vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),c/100*o}return o}function _t(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(V(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return c=c.map((function(t,i){var r=(1===i?!o:o)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return yt(t,r,e,n)}))})),c.forEach((function(t,e){t.forEach((function(n,i){nt(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}function wt(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],l=void 0;return l=nt(+n)?[+n,0]:_t(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t}function xt(t,e){var n=e.boundariesElement||b(t.instance.popper);t.instance.reference===n&&(n=b(n));var i=Y("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=P(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),T({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),T({},n,i)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=S({},u,h[e](t))})),t.offsets.popper=u,t}function Et(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:T({},l,o[l]),end:T({},l,o[l]+o[c]-a[c])};t.offsets.popper=S({},a,u[i])}return t}function Ct(t){if(!ut(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=V(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function kt(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),t.placement=B(e),t.offsets.popper=R(r),t}var Mt={shift:{order:100,enabled:!0,fn:Et},offset:{order:200,enabled:!0,fn:wt,offset:0},preventOverflow:{order:300,enabled:!0,fn:xt,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:vt},arrow:{order:500,enabled:!0,fn:ht,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:bt,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:kt},hide:{order:800,enabled:!0,fn:Ct},computeStyle:{order:850,enabled:!0,fn:ct,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:ot,onLoad:at,gpuAcceleration:void 0}},Ot={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Mt},Tt=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};M(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=l(this.update.bind(this)),this.options=S({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){i.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return S({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&c(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return O(t,[{key:"update",value:function(){return G.call(this)}},{key:"destroy",value:function(){return X.call(this)}},{key:"enableEventListeners",value:function(){return Q.call(this)}},{key:"disableEventListeners",value:function(){return et.call(this)}}]),t}();Tt.Utils=("undefined"!==typeof window?window:t).PopperUtils,Tt.placements=ft,Tt.Defaults=Ot,n["a"]=Tt}).call(this,i("c8ba"))},f0c1:function(t,e,n){"use strict";var i=n("d8e8"),r=n("d3f4"),o=n("31f4"),a=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},f1ae:function(t,e,n){"use strict";var i=n("86cc"),r=n("4630");t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},f28c:function(t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function c(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}})();var u,h=[],d=!1,f=-1;function p(){d&&u&&(d=!1,u.length?h=u.concat(h):f=-1,h.length&&m())}function m(){if(!d){var t=l(p);d=!0;var e=h.length;while(e){u=h,h=[];while(++f<e)u&&u[f].run();f=-1,e=h.length}u=null,d=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function b(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new g(t,e)),1!==h.length||d||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},f28f:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));var i=n("2b0e"),r=n("1f62"),o=n("3372"),a=n("daee");const s="input, textarea, select",l=Object(a["c"])({autofocus:Object(a["b"])(r["e"],!1),disabled:Object(a["b"])(r["e"],!1),form:Object(a["b"])(r["l"]),id:Object(a["b"])(r["l"]),name:Object(a["b"])(r["l"]),required:Object(a["b"])(r["e"],!1)},"formControls"),c=i["a"].extend({props:l,mounted(){this.handleAutofocus()},activated(){this.handleAutofocus()},methods:{handleAutofocus(){this.$nextTick(()=>{Object(o["v"])(()=>{let t=this.$el;this.autofocus&&Object(o["p"])(t)&&(Object(o["q"])(t,s)||(t=Object(o["w"])(s,t)),Object(o["d"])(t))})})}}})},f40d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("e5d5");function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=r.getCurrentHub();if(o&&o[t])return o[t].apply(o,i.__spread(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function a(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return o("captureException",t,{originalException:t,syntheticException:e})}function s(t,e){var n;try{throw new Error(t)}catch(i){n=i}return o("captureMessage",t,e,{originalException:t,syntheticException:n})}function l(t){return o("captureEvent",t)}function c(t){o("addBreadcrumb",t)}function u(t){o("configureScope",t)}function h(t){o("withScope",t)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];o.apply(void 0,i.__spread(["invokeClient",t],e))}e.captureException=a,e.captureMessage=s,e.captureEvent=l,e.addBreadcrumb=c,e.configureScope=u,e.withScope=h,e._callOnClient=d},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f55e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=n("e5d5"),o=n("95ba"),a=function(){function t(e){void 0===e&&(e={});var n=this;this.name=t.id,this.iteratee=function(t){return i.__awaiter(n,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){return t.filename&&t.filename.startsWith("/")&&(e=this.root?o.relative(this.root,t.filename):o.basename(t.filename),t.filename="app:///"+e),[2,t]}))}))},e.root&&(this.root=e.root),e.iteratee&&(this.iteratee=e.iteratee)}return t.prototype.setupOnce=function(){var e=this;r.addGlobalEventProcessor((function(n){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){return e=r.getCurrentHub().getIntegration(t),e?[2,e.process(n)]:[2,n]}))}))}))},t.prototype.process=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e,n,r,o,a,s,l;return i.__generator(this,(function(i){switch(i.label){case 0:if(e=this.getFramesFromEvent(t),!e)return[3,4];for(r in n=[],e)n.push(r);o=0,i.label=1;case 1:return o<n.length?(a=n[o],s=e,l=a,[4,this.iteratee(e[a])]):[3,4];case 2:s[l]=i.sent(),i.label=3;case 3:return o++,[3,1];case 4:return[2,t]}}))}))},t.prototype.getFramesFromEvent=function(t){var e=t.exception;if(!e)return t.stacktrace?t.stacktrace.frames:void 0;try{return e.values[0].stacktrace.frames}catch(n){return}},t.id="RewriteFrames",t}();e.RewriteFrames=a},f605:function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},f60e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("9ab4"),r=function(t){function e(e){var n=this.constructor,i=t.call(this,e)||this;return i.message=e,i.name=n.prototype.constructor.name,Object.setPrototypeOf(i,n.prototype),i}return i.__extends(e,t),e}(Error);e.SentryError=r},f65f:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("2b0e"),r=n("b42e"),o=n("4e82"),a=n("1f62"),s=n("1524"),l=n("daee");const c={name:"",enterClass:"",enterActiveClass:"",enterToClass:"show",leaveClass:"show",leaveActiveClass:"",leaveToClass:""},u={...c,enterActiveClass:"fade",leaveActiveClass:"fade"},h={appear:Object(l["b"])(a["e"],!1),mode:Object(l["b"])(a["l"]),noFade:Object(l["b"])(a["e"],!1),transProps:Object(l["b"])(a["j"])},d=i["a"].extend({name:o["F"],functional:!0,props:h,render(t,{children:e,data:n,props:i}){let o=i.transProps;return Object(s["i"])(o)||(o=i.noFade?c:u,i.appear&&(o={...o,appear:!0,appearClass:o.enterClass,appearActiveClass:o.enterActiveClass,appearToClass:o.enterToClass})),o={mode:i.mode,...o,css:!0},t("transition",Object(r["a"])(n,{props:o}),e)}})},f751:function(t,e,n){var i=n("5ca1");i(i.S+i.F,"Object",{assign:n("7333")})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},f921:function(t,e,n){n("014b"),n("c207"),n("69d3"),n("765d"),t.exports=n("584a").Symbol},f9e3:function(t,e,n){},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fa99:function(t,e,n){n("0293"),t.exports=n("584a").Object.getPrototypeOf},fab2:function(t,e,n){var i=n("7726").document;t.exports=i&&i.documentElement},faf9:function(t,e,n){"use strict";var i=n("5698");const r=Symbol.for("lzXCS"),o=Symbol.for("lzYCS"),a=Symbol.for("lzXCE"),s=Symbol.for("lzYCE");function l(t){const e=t.Adapters.get("BaseUMAdapter"),n=t.Widgets.get("_Button"),l=t.Widgets.get("BaseWidget");class c extends e{_getURL(t){const e=this._config.source,n=`?filter=id in ${e} and chromosome eq '${t.chr}' and start le ${t.end} and end ge ${t.start}`,i=super._getURL(t);return`${i}${n}`}}class u extends l{constructor(t){if(super(...arguments),t.data_layer_id||(t.data_layer_id="intervals"),!this.parent_panel.data_layers[t.data_layer_id])throw new Error("Toggle split tracks widget specifies an invalid data layer ID")}update(){const t=this.parent_panel.data_layers[this.layout.data_layer_id],e=t.layout.split_tracks?"Merge Tracks":"Split Tracks";return this.button?(this.button.setHtml(e),this.button.show(),this.parent.position(),this):(this.button=new n(this).setColor(this.layout.color).setHtml(e).setTitle("Toggle whether tracks are split apart or merged together").setOnclick(()=>{t.toggleSplitTracks(),this.scale_timeout&&clearTimeout(this.scale_timeout),this.scale_timeout=setTimeout(()=>{this.parent_panel.scaleHeightToData(),this.parent_plot.positionPanels()},0),this.update()}),this.update())}}function h(t,e){return e?`rgb(${e})`:null}const d={start_field:"start",end_field:"end",track_label_field:"state_name",track_split_field:"state_id",track_split_order:"DESC",track_split_legend_to_y_axis:2,split_tracks:!0,track_height:15,track_vertical_spacing:3,bounding_box_padding:2,always_hide_legend:!1,color:"#B8B8B8",fill_opacity:1,tooltip_positioning:"vertical"},f=t.DataLayers.get("BaseDataLayer");class p extends f{constructor(e){t.Layouts.merge(e,d),super(...arguments),this._previous_categories=[],this._categories=[]}initialize(){super.initialize(),this._statusnodes_group=this.svg.group.append("g").attr("class","lz-data-layer-intervals lz-data-layer-intervals-statusnode"),this._datanodes_group=this.svg.group.append("g").attr("class","lz-data_layer-intervals")}_arrangeTrackSplit(t){const{track_split_field:e}=this.layout,n={};return t.forEach(t=>{const i=t[e];Object.prototype.hasOwnProperty.call(n,i)||(n[i]=[]),n[i].push(t)}),n}_arrangeTracksLinear(t,e=!0){if(e)return[t];const{start_field:n,end_field:i}=this.layout,r=[[]];return t.forEach((t,e)=>{for(let o=0;o<r.length;o++){const e=r[o],a=e[e.length-1],s=a&&t[n]<a[i]&&a[n]<t[i];if(!s)return void e.push(t)}r.push([t])}),r}_assignTracks(t){const{x_scale:e}=this.parent,{start_field:n,end_field:i,bounding_box_padding:l,track_height:c}=this.layout,u=this.layout.split_tracks?this._arrangeTrackSplit(t):this._arrangeTracksLinear(t,!0),h=Object.keys(u);return"DESC"===this.layout.track_split_order&&h.reverse(),h.forEach((t,h)=>{const d=u[t];d.forEach(t=>{t[r]=e(t[n]),t[a]=e(t[i]),t[o]=h*this.getTrackHeight()+l,t[s]=t[o]+c,t.track=h})}),[h,Object.values(u).reduce((t,e)=>t.concat(e),[])]}getElementStatusNodeId(t){if(this.layout.split_tracks){const e="object"===typeof t?t.track:t,n=`${this.getBaseId()}-statusnode-${e}`;return n.replace(/[^\w]/g,"_")}return null}getTrackHeight(){return this.layout.track_height+this.layout.track_vertical_spacing+2*this.layout.bounding_box_padding}_applyLayoutOptions(){const t=this,e=this._base_layout,n=this.layout,i=e.color.find((function(t){return t.scale_function&&"categorical_bin"===t.scale_function})),r=n.color.find((function(t){return t.scale_function&&"categorical_bin"===t.scale_function}));if(!i)throw new Error("Interval tracks must define a `categorical_bin` color scale");const o=i.parameters.categories.length&&i.parameters.values.length,a=e.legend&&e.legend.length;if(!!o^!!a)throw new Error("To use a manually specified color scheme, both color and legend options must be set.");const s=e.color.find((function(t){return t.scale_function&&"to_rgb"===t.scale_function})),l=s&&s.field,c=this._generateCategoriesFromData(this.data,l);if(!o&&!a){const e=this._makeColorScheme(c);r.parameters.categories=c.map((function(t){return t[0]})),r.parameters.values=e,this.layout.legend=c.map((function(e,n){const i=e[0],o=e[1],a=r.parameters.values[n],s={shape:"rect",width:9,label:o,color:a};return s[t.layout.track_split_field]=i,s}))}}render(){this._applyLayoutOptions(),this._previous_categories=this._categories;const[t,e]=this._assignTracks(this.data);this._categories=t;const n=!t.every((t,e)=>t===this._previous_categories[e]);if(n)return void this.updateSplitTrackAxis(t);const s=this._applyFilters(e);this._statusnodes_group.selectAll("rect").remove();const l=this._statusnodes_group.selectAll("rect").data(i["range"](t.length));if(this.layout.split_tracks){const t=this.getTrackHeight();l.enter().append("rect").attr("class","lz-data_layer-intervals lz-data_layer-intervals-statusnode lz-data_layer-intervals-shared").attr("rx",this.layout.bounding_box_padding).attr("ry",this.layout.bounding_box_padding).merge(l).attr("id",t=>this.getElementStatusNodeId(t)).attr("x",0).attr("y",e=>e*t).attr("width",this.parent.layout.cliparea.width).attr("height",Math.max(t-this.layout.track_vertical_spacing,1))}l.exit().remove();const c=this._datanodes_group.selectAll("rect").data(s,t=>t[this.layout.id_field]);c.enter().append("rect").merge(c).attr("id",t=>this.getElementId(t)).attr("x",t=>t[r]).attr("y",t=>t[o]).attr("width",t=>Math.max(t[a]-t[r],1)).attr("height",this.layout.track_height).attr("fill",(t,e)=>this.resolveScalableParameter(this.layout.color,t,e)).attr("fill-opacity",(t,e)=>this.resolveScalableParameter(this.layout.fill_opacity,t,e)),c.exit().remove(),this._datanodes_group.call(this.applyBehaviors.bind(this)),this.parent&&this.parent.legend&&this.parent.legend.render()}_getTooltipPosition(t){return{x_min:t.data[r],x_max:t.data[a],y_min:t.data[o],y_max:t.data[s]}}updateSplitTrackAxis(t){const e=!!this.layout.track_split_legend_to_y_axis&&"y"+this.layout.track_split_legend_to_y_axis;if(this.layout.split_tracks){const n=+t.length||0,i=+this.layout.track_height||0,r=2*(+this.layout.bounding_box_padding||0)+(+this.layout.track_vertical_spacing||0),o=n*i+(n-1)*r;this.parent.scaleHeightToData(o),e&&this.parent.legend&&(this.parent.legend.hide(),this.parent.layout.axes[e]={render:!0,ticks:[],range:{start:o-this.layout.track_height/2,end:this.layout.track_height/2}},this.layout.legend.forEach(i=>{const r=i[this.layout.track_split_field];let o=t.findIndex(t=>t===r);-1!==o&&("DESC"===this.layout.track_split_order&&(o=Math.abs(o-n-1)),this.parent.layout.axes[e].ticks.push({y:o-1,text:i.label}))}),this.layout.y_axis={axis:this.layout.track_split_legend_to_y_axis,floor:1,ceiling:n}),this.parent_plot.positionPanels()}else e&&this.parent.legend&&(this.layout.always_hide_legend||this.parent.legend.show(),this.parent.layout.axes[e]={render:!1},this.parent.render());return this}toggleSplitTracks(){return this.layout.split_tracks=!this.layout.split_tracks,this.parent.legend&&!this.layout.always_hide_legend&&(this.parent.layout.margin.bottom=5+(this.layout.split_tracks?0:this.parent.legend.layout.height+5)),this.render(),this}_makeColorScheme(t){const e=t.find(t=>t[2]);if(e)return t.map(t=>h({},t[2]));const n=t.length;return n<=15?["rgb(212,212,212)","rgb(192,192,192)","rgb(128,128,128)","rgb(189,183,107)","rgb(233,150,122)","rgb(205,92,92)","rgb(138,145,208)","rgb(102,205,170)","rgb(255,255,0)","rgb(194,225,5)","rgb(0,100,0)","rgb(0,128,0)","rgb(50,205,50)","rgb(255,69,0)","rgb(255,0,0)"]:n<=18?["rgb(212,212,212)","rgb(192,192,192)","rgb(128,128,128)","rgb(189,183,107)","rgb(205,92,92)","rgb(138,145,208)","rgb(102,205,170)","rgb(255,255,0)","rgb(255,195,77)","rgb(255,195,77)","rgb(194,225,5)","rgb(194,225,5)","rgb(0,100,0)","rgb(0,128,0)","rgb(255,69,0)","rgb(255,69,0)","rgb(255,69,0)","rgb(255,0,0)"]:["rgb(212,212,212)","rgb(128,128,128)","rgb(112,48,160)","rgb(230,184,183)","rgb(138,145,208)","rgb(102,205,170)","rgb(255,255,102)","rgb(255,255,0)","rgb(255,255,0)","rgb(255,255,0)","rgb(255,195,77)","rgb(255,195,77)","rgb(255,195,77)","rgb(194,225,5)","rgb(194,225,5)","rgb(194,225,5)","rgb(194,225,5)","rgb(0,150,0)","rgb(0,128,0)","rgb(0,128,0)","rgb(0,128,0)","rgb(255,69,0)","rgb(255,69,0)","rgb(255,69,0)","rgb(255,0,0)"]}_generateCategoriesFromData(t,e){const n=this,i=this._base_layout.legend;if(i&&i.length)return i.map(t=>[t[this.layout.track_split_field],t.label,t.color]);const r={},o=[];return t.forEach(t=>{const i=t[n.layout.track_split_field];Object.prototype.hasOwnProperty.call(r,i)||(r[i]=null,o.push([i,t[this.layout.track_label_field],t[e]]))}),o}}const m={closable:!1,show:{or:["highlighted","selected"]},hide:{and:["unhighlighted","unselected"]},html:"{{intervals:state_name|htmlescape}}<br>{{intervals:start|htmlescape}}-{{intervals:end|htmlescape}}"},g={namespace:{intervals:"intervals"},id:"intervals",type:"intervals",tag:"intervals",id_field:"{{intervals:start}}_{{intervals:end}}_{{intervals:state_name}}",start_field:"intervals:start",end_field:"intervals:end",track_split_field:"intervals:state_name",track_label_field:"intervals:state_name",split_tracks:!1,always_hide_legend:!0,color:[{field:"intervals:itemRgb",scale_function:"to_rgb"},{field:"intervals:state_name",scale_function:"categorical_bin",parameters:{categories:[],values:[],null_value:"#B8B8B8"}}],legend:[],behaviors:{onmouseover:[{action:"set",status:"highlighted"}],onmouseout:[{action:"unset",status:"highlighted"}],onclick:[{action:"toggle",status:"selected",exclusive:!0}],onshiftclick:[{action:"toggle",status:"selected"}]},tooltip:m},b=t.Layouts.merge({id_field:"{{intervals:chromStart}}_{{intervals:chromEnd}}_{{intervals:name}}",start_field:"intervals:chromStart",end_field:"intervals:chromEnd",track_split_field:"intervals:name",track_label_field:"intervals:name",split_tracks:!0,always_hide_legend:!1,color:[{field:"intervals:itemRgb",scale_function:"to_rgb"},{field:"intervals:name",scale_function:"categorical_bin",parameters:{categories:[],values:[],null_value:"#B8B8B8"}}],tooltip:t.Layouts.merge({html:"<strong>Group: </strong>{{intervals:name|htmlescape}}<br>\n<strong>Region: </strong>{{intervals:chromStart|htmlescape}}-{{intervals:chromEnd|htmlescape}}\n{{#if intervals:score}}<br>\n<strong>Score:</strong> {{intervals:score|htmlescape}}{{/if}}"},m)},g),v={id:"intervals",tag:"intervals",min_height:50,height:50,margin:{top:25,right:150,bottom:5,left:70},toolbar:function(){const e=t.Layouts.get("toolbar","standard_panel");return e.widgets.push({type:"toggle_split_tracks",data_layer_id:"intervals",position:"right"}),e}(),axes:{},interaction:{drag_background_to_pan:!0,scroll_to_zoom:!0,x_linked:!0},legend:{hidden:!0,orientation:"horizontal",origin:{x:50,y:0},pad_from_bottom:5},data_layers:[g]},y=t.Layouts.merge({min_height:120,height:120,data_layers:[b]},v),_={state:{},width:800,responsive_resize:!0,min_region_scale:2e4,max_region_scale:1e6,toolbar:t.Layouts.get("toolbar","standard_association"),panels:[t.Layouts.get("panel","association"),t.Layouts.merge({min_height:120,height:120},v),t.Layouts.get("panel","genes")]};t.Adapters.add("IntervalLZ",c),t.DataLayers.add("intervals",p),t.Layouts.add("tooltip","standard_intervals",m),t.Layouts.add("data_layer","intervals",g),t.Layouts.add("data_layer","bed_intervals",b),t.Layouts.add("panel","intervals",v),t.Layouts.add("panel","bed_intervals",y),t.Layouts.add("plot","interval_association",_),t.ScaleFunctions.add("to_rgb",h),t.Widgets.add("toggle_split_tracks",u)}"undefined"!==typeof LocusZoom&&LocusZoom.use(l),e["a"]=l},fc13:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7c84"),r=n("a64c"),o="7",a=function(){function t(t){this.dsn=t,this.dsnObject=new r.Dsn(t)}return t.prototype.getDsn=function(){return this.dsnObject},t.prototype.getStoreEndpoint=function(){return""+this.getBaseUrl()+this.getStoreEndpointPath()},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t=this.dsnObject,e={sentry_key:t.user,sentry_version:o};return this.getStoreEndpoint()+"?"+i.urlEncode(e)},t.prototype.getBaseUrl=function(){var t=this.dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n},t.prototype.getStoreEndpointPath=function(){var t=this.dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this.dsnObject,i=["Sentry sentry_version="+o];return i.push("sentry_timestamp="+(new Date).getTime()),i.push("sentry_client="+t+"/"+e),i.push("sentry_key="+n.user),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this.dsnObject,n=this.getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",i=[];for(var r in i.push("dsn="+e.toString()),t)if("user"===r){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return i.length?n+"?"+i.join("&"):n},t}();e.API=a},fca0:function(t,e,n){var i=n("5ca1"),r=n("7726").isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},fdef:function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},fe40:function(t,e,n){var i=n("ddc6"),r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o=i(r);t.exports=o},ff40:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return h}));const i=40,r=35,o=13,a=27,s=36,l=37,c=39,u=32,h=38},ffd6:function(t,e,n){var i=n("3729"),r=n("1310"),o="[object Symbol]";function a(t){return"symbol"==typeof t||r(t)&&i(t)==o}t.exports=a}}]);
//# sourceMappingURL=chunk-vendors.5b5dad21.js.map